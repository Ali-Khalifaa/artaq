function px(t,n){return function(){return t.apply(n,arguments)}}const{toString:qE}=Object.prototype,{getPrototypeOf:zy}=Object,hm=(t=>n=>{const a=qE.call(n);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ws=t=>(t=t.toLowerCase(),n=>hm(n)===t),fm=t=>n=>typeof n===t,{isArray:qh}=Array,Zf=fm("undefined");function HE(t){return t!==null&&!Zf(t)&&t.constructor!==null&&!Zf(t.constructor)&&as(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dx=Ws("ArrayBuffer");function WE(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&dx(t.buffer),n}const $E=fm("string"),as=fm("function"),mx=fm("number"),pm=t=>t!==null&&typeof t=="object",GE=t=>t===!0||t===!1,bd=t=>{if(hm(t)!=="object")return!1;const n=zy(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZE=Ws("Date"),XE=Ws("File"),KE=Ws("Blob"),YE=Ws("FileList"),JE=t=>pm(t)&&as(t.pipe),QE=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||as(t.append)&&((n=hm(t))==="formdata"||n==="object"&&as(t.toString)&&t.toString()==="[object FormData]"))},eC=Ws("URLSearchParams"),[tC,rC,nC,iC]=["ReadableStream","Request","Response","Headers"].map(Ws),oC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fp(t,n,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let c,p;if(typeof t!="object"&&(t=[t]),qh(t))for(c=0,p=t.length;c<p;c++)n.call(null,t[c],c,t);else{const m=a?Object.getOwnPropertyNames(t):Object.keys(t),o=m.length;let T;for(c=0;c<o;c++)T=m[c],n.call(null,t[T],T,t)}}function gx(t,n){n=n.toLowerCase();const a=Object.keys(t);let c=a.length,p;for(;c-- >0;)if(p=a[c],n===p.toLowerCase())return p;return null}const yc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yx=t=>!Zf(t)&&t!==yc;function Wg(){const{caseless:t}=yx(this)&&this||{},n={},a=(c,p)=>{const m=t&&gx(n,p)||p;bd(n[m])&&bd(c)?n[m]=Wg(n[m],c):bd(c)?n[m]=Wg({},c):qh(c)?n[m]=c.slice():n[m]=c};for(let c=0,p=arguments.length;c<p;c++)arguments[c]&&fp(arguments[c],a);return n}const aC=(t,n,a,{allOwnKeys:c}={})=>(fp(n,(p,m)=>{a&&as(p)?t[m]=px(p,a):t[m]=p},{allOwnKeys:c}),t),sC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lC=(t,n,a,c)=>{t.prototype=Object.create(n.prototype,c),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),a&&Object.assign(t.prototype,a)},uC=(t,n,a,c)=>{let p,m,o;const T={};if(n=n||{},t==null)return n;do{for(p=Object.getOwnPropertyNames(t),m=p.length;m-- >0;)o=p[m],(!c||c(o,t,n))&&!T[o]&&(n[o]=t[o],T[o]=!0);t=a!==!1&&zy(t)}while(t&&(!a||a(t,n))&&t!==Object.prototype);return n},cC=(t,n,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=n.length;const c=t.indexOf(n,a);return c!==-1&&c===a},hC=t=>{if(!t)return null;if(qh(t))return t;let n=t.length;if(!mx(n))return null;const a=new Array(n);for(;n-- >0;)a[n]=t[n];return a},fC=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&zy(Uint8Array)),pC=(t,n)=>{const c=(t&&t[Symbol.iterator]).call(t);let p;for(;(p=c.next())&&!p.done;){const m=p.value;n.call(t,m[0],m[1])}},dC=(t,n)=>{let a;const c=[];for(;(a=t.exec(n))!==null;)c.push(a);return c},mC=Ws("HTMLFormElement"),gC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,c,p){return c.toUpperCase()+p}),f0=(({hasOwnProperty:t})=>(n,a)=>t.call(n,a))(Object.prototype),yC=Ws("RegExp"),_x=(t,n)=>{const a=Object.getOwnPropertyDescriptors(t),c={};fp(a,(p,m)=>{let o;(o=n(p,m,t))!==!1&&(c[m]=o||p)}),Object.defineProperties(t,c)},_C=t=>{_x(t,(n,a)=>{if(as(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const c=t[a];if(as(c)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},vC=(t,n)=>{const a={},c=p=>{p.forEach(m=>{a[m]=!0})};return qh(t)?c(t):c(String(t).split(n)),a},bC=()=>{},xC=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,Eg="abcdefghijklmnopqrstuvwxyz",p0="0123456789",vx={DIGIT:p0,ALPHA:Eg,ALPHA_DIGIT:Eg+Eg.toUpperCase()+p0},wC=(t=16,n=vx.ALPHA_DIGIT)=>{let a="";const{length:c}=n;for(;t--;)a+=n[Math.random()*c|0];return a};function SC(t){return!!(t&&as(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const TC=t=>{const n=new Array(10),a=(c,p)=>{if(pm(c)){if(n.indexOf(c)>=0)return;if(!("toJSON"in c)){n[p]=c;const m=qh(c)?[]:{};return fp(c,(o,T)=>{const E=a(o,p+1);!Zf(E)&&(m[T]=E)}),n[p]=void 0,m}}return c};return a(t,0)},EC=Ws("AsyncFunction"),CC=t=>t&&(pm(t)||as(t))&&as(t.then)&&as(t.catch),bx=((t,n)=>t?setImmediate:n?((a,c)=>(yc.addEventListener("message",({source:p,data:m})=>{p===yc&&m===a&&c.length&&c.shift()()},!1),p=>{c.push(p),yc.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",as(yc.postMessage)),AC=typeof queueMicrotask<"u"?queueMicrotask.bind(yc):typeof process<"u"&&process.nextTick||bx,ct={isArray:qh,isArrayBuffer:dx,isBuffer:HE,isFormData:QE,isArrayBufferView:WE,isString:$E,isNumber:mx,isBoolean:GE,isObject:pm,isPlainObject:bd,isReadableStream:tC,isRequest:rC,isResponse:nC,isHeaders:iC,isUndefined:Zf,isDate:ZE,isFile:XE,isBlob:KE,isRegExp:yC,isFunction:as,isStream:JE,isURLSearchParams:eC,isTypedArray:fC,isFileList:YE,forEach:fp,merge:Wg,extend:aC,trim:oC,stripBOM:sC,inherits:lC,toFlatObject:uC,kindOf:hm,kindOfTest:Ws,endsWith:cC,toArray:hC,forEachEntry:pC,matchAll:dC,isHTMLForm:mC,hasOwnProperty:f0,hasOwnProp:f0,reduceDescriptors:_x,freezeMethods:_C,toObjectSet:vC,toCamelCase:gC,noop:bC,toFiniteNumber:xC,findKey:gx,global:yc,isContextDefined:yx,ALPHABET:vx,generateString:wC,isSpecCompliantForm:SC,toJSONObject:TC,isAsyncFn:EC,isThenable:CC,setImmediate:bx,asap:AC};function Qr(t,n,a,c,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),a&&(this.config=a),c&&(this.request=c),p&&(this.response=p,this.status=p.status?p.status:null)}ct.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const xx=Qr.prototype,wx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wx[t]={value:t}});Object.defineProperties(Qr,wx);Object.defineProperty(xx,"isAxiosError",{value:!0});Qr.from=(t,n,a,c,p,m)=>{const o=Object.create(xx);return ct.toFlatObject(t,o,function(E){return E!==Error.prototype},T=>T!=="isAxiosError"),Qr.call(o,t.message,n,a,c,p),o.cause=t,o.name=t.name,m&&Object.assign(o,m),o};const IC=null;function $g(t){return ct.isPlainObject(t)||ct.isArray(t)}function Sx(t){return ct.endsWith(t,"[]")?t.slice(0,-2):t}function d0(t,n,a){return t?t.concat(n).map(function(p,m){return p=Sx(p),!a&&m?"["+p+"]":p}).join(a?".":""):n}function kC(t){return ct.isArray(t)&&!t.some($g)}const PC=ct.toFlatObject(ct,{},null,function(n){return/^is[A-Z]/.test(n)});function dm(t,n,a){if(!ct.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,a=ct.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(re,ue){return!ct.isUndefined(ue[re])});const c=a.metaTokens,p=a.visitor||R,m=a.dots,o=a.indexes,E=(a.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(n);if(!ct.isFunction(p))throw new TypeError("visitor must be a function");function M(ee){if(ee===null)return"";if(ct.isDate(ee))return ee.toISOString();if(!E&&ct.isBlob(ee))throw new Qr("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(ee)||ct.isTypedArray(ee)?E&&typeof Blob=="function"?new Blob([ee]):Buffer.from(ee):ee}function R(ee,re,ue){let ce=ee;if(ee&&!ue&&typeof ee=="object"){if(ct.endsWith(re,"{}"))re=c?re:re.slice(0,-2),ee=JSON.stringify(ee);else if(ct.isArray(ee)&&kC(ee)||(ct.isFileList(ee)||ct.endsWith(re,"[]"))&&(ce=ct.toArray(ee)))return re=Sx(re),ce.forEach(function(Y,se){!(ct.isUndefined(Y)||Y===null)&&n.append(o===!0?d0([re],se,m):o===null?re:re+"[]",M(Y))}),!1}return $g(ee)?!0:(n.append(d0(ue,re,m),M(ee)),!1)}const B=[],W=Object.assign(PC,{defaultVisitor:R,convertValue:M,isVisitable:$g});function ae(ee,re){if(!ct.isUndefined(ee)){if(B.indexOf(ee)!==-1)throw Error("Circular reference detected in "+re.join("."));B.push(ee),ct.forEach(ee,function(ce,Pe){(!(ct.isUndefined(ce)||ce===null)&&p.call(n,ce,ct.isString(Pe)?Pe.trim():Pe,re,W))===!0&&ae(ce,re?re.concat(Pe):[Pe])}),B.pop()}}if(!ct.isObject(t))throw new TypeError("data must be an object");return ae(t),n}function m0(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(c){return n[c]})}function Fy(t,n){this._pairs=[],t&&dm(t,this,n)}const Tx=Fy.prototype;Tx.append=function(n,a){this._pairs.push([n,a])};Tx.toString=function(n){const a=n?function(c){return n.call(this,c,m0)}:m0;return this._pairs.map(function(p){return a(p[0])+"="+a(p[1])},"").join("&")};function LC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ex(t,n,a){if(!n)return t;const c=a&&a.encode||LC,p=a&&a.serialize;let m;if(p?m=p(n,a):m=ct.isURLSearchParams(n)?n.toString():new Fy(n,a).toString(c),m){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+m}return t}class g0{constructor(){this.handlers=[]}use(n,a,c){return this.handlers.push({fulfilled:n,rejected:a,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ct.forEach(this.handlers,function(c){c!==null&&n(c)})}}const Cx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RC=typeof URLSearchParams<"u"?URLSearchParams:Fy,MC=typeof FormData<"u"?FormData:null,OC=typeof Blob<"u"?Blob:null,DC={isBrowser:!0,classes:{URLSearchParams:RC,FormData:MC,Blob:OC},protocols:["http","https","file","blob","url","data"]},By=typeof window<"u"&&typeof document<"u",Gg=typeof navigator=="object"&&navigator||void 0,NC=By&&(!Gg||["ReactNative","NativeScript","NS"].indexOf(Gg.product)<0),zC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FC=By&&window.location.href||"http://localhost",BC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:By,hasStandardBrowserEnv:NC,hasStandardBrowserWebWorkerEnv:zC,navigator:Gg,origin:FC},Symbol.toStringTag,{value:"Module"})),Va={...BC,...DC};function UC(t,n){return dm(t,new Va.classes.URLSearchParams,Object.assign({visitor:function(a,c,p,m){return Va.isNode&&ct.isBuffer(a)?(this.append(c,a.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},n))}function VC(t){return ct.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function jC(t){const n={},a=Object.keys(t);let c;const p=a.length;let m;for(c=0;c<p;c++)m=a[c],n[m]=t[m];return n}function Ax(t){function n(a,c,p,m){let o=a[m++];if(o==="__proto__")return!0;const T=Number.isFinite(+o),E=m>=a.length;return o=!o&&ct.isArray(p)?p.length:o,E?(ct.hasOwnProp(p,o)?p[o]=[p[o],c]:p[o]=c,!T):((!p[o]||!ct.isObject(p[o]))&&(p[o]=[]),n(a,c,p[o],m)&&ct.isArray(p[o])&&(p[o]=jC(p[o])),!T)}if(ct.isFormData(t)&&ct.isFunction(t.entries)){const a={};return ct.forEachEntry(t,(c,p)=>{n(VC(c),p,a,0)}),a}return null}function qC(t,n,a){if(ct.isString(t))try{return(n||JSON.parse)(t),ct.trim(t)}catch(c){if(c.name!=="SyntaxError")throw c}return(0,JSON.stringify)(t)}const pp={transitional:Cx,adapter:["xhr","http","fetch"],transformRequest:[function(n,a){const c=a.getContentType()||"",p=c.indexOf("application/json")>-1,m=ct.isObject(n);if(m&&ct.isHTMLForm(n)&&(n=new FormData(n)),ct.isFormData(n))return p?JSON.stringify(Ax(n)):n;if(ct.isArrayBuffer(n)||ct.isBuffer(n)||ct.isStream(n)||ct.isFile(n)||ct.isBlob(n)||ct.isReadableStream(n))return n;if(ct.isArrayBufferView(n))return n.buffer;if(ct.isURLSearchParams(n))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let T;if(m){if(c.indexOf("application/x-www-form-urlencoded")>-1)return UC(n,this.formSerializer).toString();if((T=ct.isFileList(n))||c.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return dm(T?{"files[]":n}:n,E&&new E,this.formSerializer)}}return m||p?(a.setContentType("application/json",!1),qC(n)):n}],transformResponse:[function(n){const a=this.transitional||pp.transitional,c=a&&a.forcedJSONParsing,p=this.responseType==="json";if(ct.isResponse(n)||ct.isReadableStream(n))return n;if(n&&ct.isString(n)&&(c&&!this.responseType||p)){const o=!(a&&a.silentJSONParsing)&&p;try{return JSON.parse(n)}catch(T){if(o)throw T.name==="SyntaxError"?Qr.from(T,Qr.ERR_BAD_RESPONSE,this,null,this.response):T}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Va.classes.FormData,Blob:Va.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],t=>{pp.headers[t]={}});const HC=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WC=t=>{const n={};let a,c,p;return t&&t.split(`
`).forEach(function(o){p=o.indexOf(":"),a=o.substring(0,p).trim().toLowerCase(),c=o.substring(p+1).trim(),!(!a||n[a]&&HC[a])&&(a==="set-cookie"?n[a]?n[a].push(c):n[a]=[c]:n[a]=n[a]?n[a]+", "+c:c)}),n},y0=Symbol("internals");function Mf(t){return t&&String(t).trim().toLowerCase()}function xd(t){return t===!1||t==null?t:ct.isArray(t)?t.map(xd):String(t)}function $C(t){const n=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=a.exec(t);)n[c[1]]=c[2];return n}const GC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cg(t,n,a,c,p){if(ct.isFunction(c))return c.call(this,n,a);if(p&&(n=a),!!ct.isString(n)){if(ct.isString(c))return n.indexOf(c)!==-1;if(ct.isRegExp(c))return c.test(n)}}function ZC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,a,c)=>a.toUpperCase()+c)}function XC(t,n){const a=ct.toCamelCase(" "+n);["get","set","has"].forEach(c=>{Object.defineProperty(t,c+a,{value:function(p,m,o){return this[c].call(this,n,p,m,o)},configurable:!0})})}class ja{constructor(n){n&&this.set(n)}set(n,a,c){const p=this;function m(T,E,M){const R=Mf(E);if(!R)throw new Error("header name must be a non-empty string");const B=ct.findKey(p,R);(!B||p[B]===void 0||M===!0||M===void 0&&p[B]!==!1)&&(p[B||E]=xd(T))}const o=(T,E)=>ct.forEach(T,(M,R)=>m(M,R,E));if(ct.isPlainObject(n)||n instanceof this.constructor)o(n,a);else if(ct.isString(n)&&(n=n.trim())&&!GC(n))o(WC(n),a);else if(ct.isHeaders(n))for(const[T,E]of n.entries())m(E,T,c);else n!=null&&m(a,n,c);return this}get(n,a){if(n=Mf(n),n){const c=ct.findKey(this,n);if(c){const p=this[c];if(!a)return p;if(a===!0)return $C(p);if(ct.isFunction(a))return a.call(this,p,c);if(ct.isRegExp(a))return a.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,a){if(n=Mf(n),n){const c=ct.findKey(this,n);return!!(c&&this[c]!==void 0&&(!a||Cg(this,this[c],c,a)))}return!1}delete(n,a){const c=this;let p=!1;function m(o){if(o=Mf(o),o){const T=ct.findKey(c,o);T&&(!a||Cg(c,c[T],T,a))&&(delete c[T],p=!0)}}return ct.isArray(n)?n.forEach(m):m(n),p}clear(n){const a=Object.keys(this);let c=a.length,p=!1;for(;c--;){const m=a[c];(!n||Cg(this,this[m],m,n,!0))&&(delete this[m],p=!0)}return p}normalize(n){const a=this,c={};return ct.forEach(this,(p,m)=>{const o=ct.findKey(c,m);if(o){a[o]=xd(p),delete a[m];return}const T=n?ZC(m):String(m).trim();T!==m&&delete a[m],a[T]=xd(p),c[T]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const a=Object.create(null);return ct.forEach(this,(c,p)=>{c!=null&&c!==!1&&(a[p]=n&&ct.isArray(c)?c.join(", "):c)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,a])=>n+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...a){const c=new this(n);return a.forEach(p=>c.set(p)),c}static accessor(n){const c=(this[y0]=this[y0]={accessors:{}}).accessors,p=this.prototype;function m(o){const T=Mf(o);c[T]||(XC(p,o),c[T]=!0)}return ct.isArray(n)?n.forEach(m):m(n),this}}ja.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(ja.prototype,({value:t},n)=>{let a=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(c){this[a]=c}}});ct.freezeMethods(ja);function Ag(t,n){const a=this||pp,c=n||a,p=ja.from(c.headers);let m=c.data;return ct.forEach(t,function(T){m=T.call(a,m,p.normalize(),n?n.status:void 0)}),p.normalize(),m}function Ix(t){return!!(t&&t.__CANCEL__)}function Hh(t,n,a){Qr.call(this,t??"canceled",Qr.ERR_CANCELED,n,a),this.name="CanceledError"}ct.inherits(Hh,Qr,{__CANCEL__:!0});function kx(t,n,a){const c=a.config.validateStatus;!a.status||!c||c(a.status)?t(a):n(new Qr("Request failed with status code "+a.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function KC(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function YC(t,n){t=t||10;const a=new Array(t),c=new Array(t);let p=0,m=0,o;return n=n!==void 0?n:1e3,function(E){const M=Date.now(),R=c[m];o||(o=M),a[p]=E,c[p]=M;let B=m,W=0;for(;B!==p;)W+=a[B++],B=B%t;if(p=(p+1)%t,p===m&&(m=(m+1)%t),M-o<n)return;const ae=R&&M-R;return ae?Math.round(W*1e3/ae):void 0}}function JC(t,n){let a=0,c=1e3/n,p,m;const o=(M,R=Date.now())=>{a=R,p=null,m&&(clearTimeout(m),m=null),t.apply(null,M)};return[(...M)=>{const R=Date.now(),B=R-a;B>=c?o(M,R):(p=M,m||(m=setTimeout(()=>{m=null,o(p)},c-B)))},()=>p&&o(p)]}const Ld=(t,n,a=3)=>{let c=0;const p=YC(50,250);return JC(m=>{const o=m.loaded,T=m.lengthComputable?m.total:void 0,E=o-c,M=p(E),R=o<=T;c=o;const B={loaded:o,total:T,progress:T?o/T:void 0,bytes:E,rate:M||void 0,estimated:M&&T&&R?(T-o)/M:void 0,event:m,lengthComputable:T!=null,[n?"download":"upload"]:!0};t(B)},a)},_0=(t,n)=>{const a=t!=null;return[c=>n[0]({lengthComputable:a,total:t,loaded:c}),n[1]]},v0=t=>(...n)=>ct.asap(()=>t(...n)),QC=Va.hasStandardBrowserEnv?function(){const n=Va.navigator&&/(msie|trident)/i.test(Va.navigator.userAgent),a=document.createElement("a");let c;function p(m){let o=m;return n&&(a.setAttribute("href",o),o=a.href),a.setAttribute("href",o),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return c=p(window.location.href),function(o){const T=ct.isString(o)?p(o):o;return T.protocol===c.protocol&&T.host===c.host}}():function(){return function(){return!0}}(),e2=Va.hasStandardBrowserEnv?{write(t,n,a,c,p,m){const o=[t+"="+encodeURIComponent(n)];ct.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),ct.isString(c)&&o.push("path="+c),ct.isString(p)&&o.push("domain="+p),m===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function r2(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function Px(t,n){return t&&!t2(n)?r2(t,n):n}const b0=t=>t instanceof ja?{...t}:t;function Cc(t,n){n=n||{};const a={};function c(M,R,B){return ct.isPlainObject(M)&&ct.isPlainObject(R)?ct.merge.call({caseless:B},M,R):ct.isPlainObject(R)?ct.merge({},R):ct.isArray(R)?R.slice():R}function p(M,R,B){if(ct.isUndefined(R)){if(!ct.isUndefined(M))return c(void 0,M,B)}else return c(M,R,B)}function m(M,R){if(!ct.isUndefined(R))return c(void 0,R)}function o(M,R){if(ct.isUndefined(R)){if(!ct.isUndefined(M))return c(void 0,M)}else return c(void 0,R)}function T(M,R,B){if(B in n)return c(M,R);if(B in t)return c(void 0,M)}const E={url:m,method:m,data:m,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:T,headers:(M,R)=>p(b0(M),b0(R),!0)};return ct.forEach(Object.keys(Object.assign({},t,n)),function(R){const B=E[R]||p,W=B(t[R],n[R],R);ct.isUndefined(W)&&B!==T||(a[R]=W)}),a}const Lx=t=>{const n=Cc({},t);let{data:a,withXSRFToken:c,xsrfHeaderName:p,xsrfCookieName:m,headers:o,auth:T}=n;n.headers=o=ja.from(o),n.url=Ex(Px(n.baseURL,n.url),t.params,t.paramsSerializer),T&&o.set("Authorization","Basic "+btoa((T.username||"")+":"+(T.password?unescape(encodeURIComponent(T.password)):"")));let E;if(ct.isFormData(a)){if(Va.hasStandardBrowserEnv||Va.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((E=o.getContentType())!==!1){const[M,...R]=E?E.split(";").map(B=>B.trim()).filter(Boolean):[];o.setContentType([M||"multipart/form-data",...R].join("; "))}}if(Va.hasStandardBrowserEnv&&(c&&ct.isFunction(c)&&(c=c(n)),c||c!==!1&&QC(n.url))){const M=p&&m&&e2.read(m);M&&o.set(p,M)}return n},n2=typeof XMLHttpRequest<"u",i2=n2&&function(t){return new Promise(function(a,c){const p=Lx(t);let m=p.data;const o=ja.from(p.headers).normalize();let{responseType:T,onUploadProgress:E,onDownloadProgress:M}=p,R,B,W,ae,ee;function re(){ae&&ae(),ee&&ee(),p.cancelToken&&p.cancelToken.unsubscribe(R),p.signal&&p.signal.removeEventListener("abort",R)}let ue=new XMLHttpRequest;ue.open(p.method.toUpperCase(),p.url,!0),ue.timeout=p.timeout;function ce(){if(!ue)return;const Y=ja.from("getAllResponseHeaders"in ue&&ue.getAllResponseHeaders()),Se={data:!T||T==="text"||T==="json"?ue.responseText:ue.response,status:ue.status,statusText:ue.statusText,headers:Y,config:t,request:ue};kx(function(C){a(C),re()},function(C){c(C),re()},Se),ue=null}"onloadend"in ue?ue.onloadend=ce:ue.onreadystatechange=function(){!ue||ue.readyState!==4||ue.status===0&&!(ue.responseURL&&ue.responseURL.indexOf("file:")===0)||setTimeout(ce)},ue.onabort=function(){ue&&(c(new Qr("Request aborted",Qr.ECONNABORTED,t,ue)),ue=null)},ue.onerror=function(){c(new Qr("Network Error",Qr.ERR_NETWORK,t,ue)),ue=null},ue.ontimeout=function(){let se=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded";const Se=p.transitional||Cx;p.timeoutErrorMessage&&(se=p.timeoutErrorMessage),c(new Qr(se,Se.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,t,ue)),ue=null},m===void 0&&o.setContentType(null),"setRequestHeader"in ue&&ct.forEach(o.toJSON(),function(se,Se){ue.setRequestHeader(Se,se)}),ct.isUndefined(p.withCredentials)||(ue.withCredentials=!!p.withCredentials),T&&T!=="json"&&(ue.responseType=p.responseType),M&&([W,ee]=Ld(M,!0),ue.addEventListener("progress",W)),E&&ue.upload&&([B,ae]=Ld(E),ue.upload.addEventListener("progress",B),ue.upload.addEventListener("loadend",ae)),(p.cancelToken||p.signal)&&(R=Y=>{ue&&(c(!Y||Y.type?new Hh(null,t,ue):Y),ue.abort(),ue=null)},p.cancelToken&&p.cancelToken.subscribe(R),p.signal&&(p.signal.aborted?R():p.signal.addEventListener("abort",R)));const Pe=KC(p.url);if(Pe&&Va.protocols.indexOf(Pe)===-1){c(new Qr("Unsupported protocol "+Pe+":",Qr.ERR_BAD_REQUEST,t));return}ue.send(m||null)})},o2=(t,n)=>{const{length:a}=t=t?t.filter(Boolean):[];if(n||a){let c=new AbortController,p;const m=function(M){if(!p){p=!0,T();const R=M instanceof Error?M:this.reason;c.abort(R instanceof Qr?R:new Hh(R instanceof Error?R.message:R))}};let o=n&&setTimeout(()=>{o=null,m(new Qr(`timeout ${n} of ms exceeded`,Qr.ETIMEDOUT))},n);const T=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(M=>{M.unsubscribe?M.unsubscribe(m):M.removeEventListener("abort",m)}),t=null)};t.forEach(M=>M.addEventListener("abort",m));const{signal:E}=c;return E.unsubscribe=()=>ct.asap(T),E}},a2=function*(t,n){let a=t.byteLength;if(a<n){yield t;return}let c=0,p;for(;c<a;)p=c+n,yield t.slice(c,p),c=p},s2=async function*(t,n){for await(const a of l2(t))yield*a2(a,n)},l2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:a,value:c}=await n.read();if(a)break;yield c}}finally{await n.cancel()}},x0=(t,n,a,c)=>{const p=s2(t,n);let m=0,o,T=E=>{o||(o=!0,c&&c(E))};return new ReadableStream({async pull(E){try{const{done:M,value:R}=await p.next();if(M){T(),E.close();return}let B=R.byteLength;if(a){let W=m+=B;a(W)}E.enqueue(new Uint8Array(R))}catch(M){throw T(M),M}},cancel(E){return T(E),p.return()}},{highWaterMark:2})},mm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Rx=mm&&typeof ReadableStream=="function",u2=mm&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Mx=(t,...n)=>{try{return!!t(...n)}catch{return!1}},c2=Rx&&Mx(()=>{let t=!1;const n=new Request(Va.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n}),w0=64*1024,Zg=Rx&&Mx(()=>ct.isReadableStream(new Response("").body)),Rd={stream:Zg&&(t=>t.body)};mm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Rd[n]&&(Rd[n]=ct.isFunction(t[n])?a=>a[n]():(a,c)=>{throw new Qr(`Response type '${n}' is not supported`,Qr.ERR_NOT_SUPPORT,c)})})})(new Response);const h2=async t=>{if(t==null)return 0;if(ct.isBlob(t))return t.size;if(ct.isSpecCompliantForm(t))return(await new Request(Va.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(t)||ct.isArrayBuffer(t))return t.byteLength;if(ct.isURLSearchParams(t)&&(t=t+""),ct.isString(t))return(await u2(t)).byteLength},f2=async(t,n)=>{const a=ct.toFiniteNumber(t.getContentLength());return a??h2(n)},p2=mm&&(async t=>{let{url:n,method:a,data:c,signal:p,cancelToken:m,timeout:o,onDownloadProgress:T,onUploadProgress:E,responseType:M,headers:R,withCredentials:B="same-origin",fetchOptions:W}=Lx(t);M=M?(M+"").toLowerCase():"text";let ae=o2([p,m&&m.toAbortSignal()],o),ee;const re=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let ue;try{if(E&&c2&&a!=="get"&&a!=="head"&&(ue=await f2(R,c))!==0){let Se=new Request(n,{method:"POST",body:c,duplex:"half"}),Me;if(ct.isFormData(c)&&(Me=Se.headers.get("content-type"))&&R.setContentType(Me),Se.body){const[C,qe]=_0(ue,Ld(v0(E)));c=x0(Se.body,w0,C,qe)}}ct.isString(B)||(B=B?"include":"omit");const ce="credentials"in Request.prototype;ee=new Request(n,{...W,signal:ae,method:a.toUpperCase(),headers:R.normalize().toJSON(),body:c,duplex:"half",credentials:ce?B:void 0});let Pe=await fetch(ee);const Y=Zg&&(M==="stream"||M==="response");if(Zg&&(T||Y&&re)){const Se={};["status","statusText","headers"].forEach(we=>{Se[we]=Pe[we]});const Me=ct.toFiniteNumber(Pe.headers.get("content-length")),[C,qe]=T&&_0(Me,Ld(v0(T),!0))||[];Pe=new Response(x0(Pe.body,w0,C,()=>{qe&&qe(),re&&re()}),Se)}M=M||"text";let se=await Rd[ct.findKey(Rd,M)||"text"](Pe,t);return!Y&&re&&re(),await new Promise((Se,Me)=>{kx(Se,Me,{data:se,headers:ja.from(Pe.headers),status:Pe.status,statusText:Pe.statusText,config:t,request:ee})})}catch(ce){throw re&&re(),ce&&ce.name==="TypeError"&&/fetch/i.test(ce.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,t,ee),{cause:ce.cause||ce}):Qr.from(ce,ce&&ce.code,t,ee)}}),Xg={http:IC,xhr:i2,fetch:p2};ct.forEach(Xg,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const S0=t=>`- ${t}`,d2=t=>ct.isFunction(t)||t===null||t===!1,Ox={getAdapter:t=>{t=ct.isArray(t)?t:[t];const{length:n}=t;let a,c;const p={};for(let m=0;m<n;m++){a=t[m];let o;if(c=a,!d2(a)&&(c=Xg[(o=String(a)).toLowerCase()],c===void 0))throw new Qr(`Unknown adapter '${o}'`);if(c)break;p[o||"#"+m]=c}if(!c){const m=Object.entries(p).map(([T,E])=>`adapter ${T} `+(E===!1?"is not supported by the environment":"is not available in the build"));let o=n?m.length>1?`since :
`+m.map(S0).join(`
`):" "+S0(m[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return c},adapters:Xg};function Ig(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hh(null,t)}function T0(t){return Ig(t),t.headers=ja.from(t.headers),t.data=Ag.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ox.getAdapter(t.adapter||pp.adapter)(t).then(function(c){return Ig(t),c.data=Ag.call(t,t.transformResponse,c),c.headers=ja.from(c.headers),c},function(c){return Ix(c)||(Ig(t),c&&c.response&&(c.response.data=Ag.call(t,t.transformResponse,c.response),c.response.headers=ja.from(c.response.headers))),Promise.reject(c)})}const Dx="1.7.7",Uy={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Uy[t]=function(c){return typeof c===t||"a"+(n<1?"n ":" ")+t}});const E0={};Uy.transitional=function(n,a,c){function p(m,o){return"[Axios v"+Dx+"] Transitional option '"+m+"'"+o+(c?". "+c:"")}return(m,o,T)=>{if(n===!1)throw new Qr(p(o," has been removed"+(a?" in "+a:"")),Qr.ERR_DEPRECATED);return a&&!E0[o]&&(E0[o]=!0,console.warn(p(o," has been deprecated since v"+a+" and will be removed in the near future"))),n?n(m,o,T):!0}};function m2(t,n,a){if(typeof t!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const c=Object.keys(t);let p=c.length;for(;p-- >0;){const m=c[p],o=n[m];if(o){const T=t[m],E=T===void 0||o(T,m,t);if(E!==!0)throw new Qr("option "+m+" must be "+E,Qr.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Qr("Unknown option "+m,Qr.ERR_BAD_OPTION)}}const Kg={assertOptions:m2,validators:Uy},bu=Kg.validators;class bc{constructor(n){this.defaults=n,this.interceptors={request:new g0,response:new g0}}async request(n,a){try{return await this._request(n,a)}catch(c){if(c instanceof Error){let p;Error.captureStackTrace?Error.captureStackTrace(p={}):p=new Error;const m=p.stack?p.stack.replace(/^.+\n/,""):"";try{c.stack?m&&!String(c.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+m):c.stack=m}catch{}}throw c}}_request(n,a){typeof n=="string"?(a=a||{},a.url=n):a=n||{},a=Cc(this.defaults,a);const{transitional:c,paramsSerializer:p,headers:m}=a;c!==void 0&&Kg.assertOptions(c,{silentJSONParsing:bu.transitional(bu.boolean),forcedJSONParsing:bu.transitional(bu.boolean),clarifyTimeoutError:bu.transitional(bu.boolean)},!1),p!=null&&(ct.isFunction(p)?a.paramsSerializer={serialize:p}:Kg.assertOptions(p,{encode:bu.function,serialize:bu.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=m&&ct.merge(m.common,m[a.method]);m&&ct.forEach(["delete","get","head","post","put","patch","common"],ee=>{delete m[ee]}),a.headers=ja.concat(o,m);const T=[];let E=!0;this.interceptors.request.forEach(function(re){typeof re.runWhen=="function"&&re.runWhen(a)===!1||(E=E&&re.synchronous,T.unshift(re.fulfilled,re.rejected))});const M=[];this.interceptors.response.forEach(function(re){M.push(re.fulfilled,re.rejected)});let R,B=0,W;if(!E){const ee=[T0.bind(this),void 0];for(ee.unshift.apply(ee,T),ee.push.apply(ee,M),W=ee.length,R=Promise.resolve(a);B<W;)R=R.then(ee[B++],ee[B++]);return R}W=T.length;let ae=a;for(B=0;B<W;){const ee=T[B++],re=T[B++];try{ae=ee(ae)}catch(ue){re.call(this,ue);break}}try{R=T0.call(this,ae)}catch(ee){return Promise.reject(ee)}for(B=0,W=M.length;B<W;)R=R.then(M[B++],M[B++]);return R}getUri(n){n=Cc(this.defaults,n);const a=Px(n.baseURL,n.url);return Ex(a,n.params,n.paramsSerializer)}}ct.forEach(["delete","get","head","options"],function(n){bc.prototype[n]=function(a,c){return this.request(Cc(c||{},{method:n,url:a,data:(c||{}).data}))}});ct.forEach(["post","put","patch"],function(n){function a(c){return function(m,o,T){return this.request(Cc(T||{},{method:n,headers:c?{"Content-Type":"multipart/form-data"}:{},url:m,data:o}))}}bc.prototype[n]=a(),bc.prototype[n+"Form"]=a(!0)});class Vy{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(m){a=m});const c=this;this.promise.then(p=>{if(!c._listeners)return;let m=c._listeners.length;for(;m-- >0;)c._listeners[m](p);c._listeners=null}),this.promise.then=p=>{let m;const o=new Promise(T=>{c.subscribe(T),m=T}).then(p);return o.cancel=function(){c.unsubscribe(m)},o},n(function(m,o,T){c.reason||(c.reason=new Hh(m,o,T),a(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const n=new AbortController,a=c=>{n.abort(c)};return this.subscribe(a),n.signal.unsubscribe=()=>this.unsubscribe(a),n.signal}static source(){let n;return{token:new Vy(function(p){n=p}),cancel:n}}}function g2(t){return function(a){return t.apply(null,a)}}function y2(t){return ct.isObject(t)&&t.isAxiosError===!0}const Yg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yg).forEach(([t,n])=>{Yg[n]=t});function Nx(t){const n=new bc(t),a=px(bc.prototype.request,n);return ct.extend(a,bc.prototype,n,{allOwnKeys:!0}),ct.extend(a,n,null,{allOwnKeys:!0}),a.create=function(p){return Nx(Cc(t,p))},a}const lo=Nx(pp);lo.Axios=bc;lo.CanceledError=Hh;lo.CancelToken=Vy;lo.isCancel=Ix;lo.VERSION=Dx;lo.toFormData=dm;lo.AxiosError=Qr;lo.Cancel=lo.CanceledError;lo.all=function(n){return Promise.all(n)};lo.spread=g2;lo.isAxiosError=y2;lo.mergeConfig=Cc;lo.AxiosHeaders=ja;lo.formToJSON=t=>Ax(ct.isHTMLForm(t)?new FormData(t):t);lo.getAdapter=Ox.getAdapter;lo.HttpStatusCode=Yg;lo.default=lo;var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DO(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var a=function c(){return this instanceof c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(c){var p=Object.getOwnPropertyDescriptor(t,c);Object.defineProperty(a,c,p.get?p:{enumerable:!0,get:function(){return t[c]}})}),a}var Fx={exports:{}};/*!
 * Pusher JavaScript Library v8.3.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(t,n){(function(c,p){t.exports=p()})(window,function(){return function(a){var c={};function p(m){if(c[m])return c[m].exports;var o=c[m]={i:m,l:!1,exports:{}};return a[m].call(o.exports,o,o.exports,p),o.l=!0,o.exports}return p.m=a,p.c=c,p.d=function(m,o,T){p.o(m,o)||Object.defineProperty(m,o,{enumerable:!0,get:T})},p.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},p.t=function(m,o){if(o&1&&(m=p(m)),o&8||o&4&&typeof m=="object"&&m&&m.__esModule)return m;var T=Object.create(null);if(p.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:m}),o&2&&typeof m!="string")for(var E in m)p.d(T,E,(function(M){return m[M]}).bind(null,E));return T},p.n=function(m){var o=m&&m.__esModule?function(){return m.default}:function(){return m};return p.d(o,"a",o),o},p.o=function(m,o){return Object.prototype.hasOwnProperty.call(m,o)},p.p="",p(p.s=2)}([function(a,c,p){var m=this&&this.__extends||function(){var re=function(ue,ce){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pe,Y){Pe.__proto__=Y}||function(Pe,Y){for(var se in Y)Y.hasOwnProperty(se)&&(Pe[se]=Y[se])},re(ue,ce)};return function(ue,ce){re(ue,ce);function Pe(){this.constructor=ue}ue.prototype=ce===null?Object.create(ce):(Pe.prototype=ce.prototype,new Pe)}}();Object.defineProperty(c,"__esModule",{value:!0});var o=256,T=function(){function re(ue){ue===void 0&&(ue="="),this._paddingCharacter=ue}return re.prototype.encodedLength=function(ue){return this._paddingCharacter?(ue+2)/3*4|0:(ue*8+5)/6|0},re.prototype.encode=function(ue){for(var ce="",Pe=0;Pe<ue.length-2;Pe+=3){var Y=ue[Pe]<<16|ue[Pe+1]<<8|ue[Pe+2];ce+=this._encodeByte(Y>>>3*6&63),ce+=this._encodeByte(Y>>>2*6&63),ce+=this._encodeByte(Y>>>1*6&63),ce+=this._encodeByte(Y>>>0*6&63)}var se=ue.length-Pe;if(se>0){var Y=ue[Pe]<<16|(se===2?ue[Pe+1]<<8:0);ce+=this._encodeByte(Y>>>3*6&63),ce+=this._encodeByte(Y>>>2*6&63),se===2?ce+=this._encodeByte(Y>>>1*6&63):ce+=this._paddingCharacter||"",ce+=this._paddingCharacter||""}return ce},re.prototype.maxDecodedLength=function(ue){return this._paddingCharacter?ue/4*3|0:(ue*6+7)/8|0},re.prototype.decodedLength=function(ue){return this.maxDecodedLength(ue.length-this._getPaddingLength(ue))},re.prototype.decode=function(ue){if(ue.length===0)return new Uint8Array(0);for(var ce=this._getPaddingLength(ue),Pe=ue.length-ce,Y=new Uint8Array(this.maxDecodedLength(Pe)),se=0,Se=0,Me=0,C=0,qe=0,we=0,Xe=0;Se<Pe-4;Se+=4)C=this._decodeChar(ue.charCodeAt(Se+0)),qe=this._decodeChar(ue.charCodeAt(Se+1)),we=this._decodeChar(ue.charCodeAt(Se+2)),Xe=this._decodeChar(ue.charCodeAt(Se+3)),Y[se++]=C<<2|qe>>>4,Y[se++]=qe<<4|we>>>2,Y[se++]=we<<6|Xe,Me|=C&o,Me|=qe&o,Me|=we&o,Me|=Xe&o;if(Se<Pe-1&&(C=this._decodeChar(ue.charCodeAt(Se)),qe=this._decodeChar(ue.charCodeAt(Se+1)),Y[se++]=C<<2|qe>>>4,Me|=C&o,Me|=qe&o),Se<Pe-2&&(we=this._decodeChar(ue.charCodeAt(Se+2)),Y[se++]=qe<<4|we>>>2,Me|=we&o),Se<Pe-3&&(Xe=this._decodeChar(ue.charCodeAt(Se+3)),Y[se++]=we<<6|Xe,Me|=Xe&o),Me!==0)throw new Error("Base64Coder: incorrect characters for decoding");return Y},re.prototype._encodeByte=function(ue){var ce=ue;return ce+=65,ce+=25-ue>>>8&6,ce+=51-ue>>>8&-75,ce+=61-ue>>>8&-15,ce+=62-ue>>>8&3,String.fromCharCode(ce)},re.prototype._decodeChar=function(ue){var ce=o;return ce+=(42-ue&ue-44)>>>8&-o+ue-43+62,ce+=(46-ue&ue-48)>>>8&-o+ue-47+63,ce+=(47-ue&ue-58)>>>8&-o+ue-48+52,ce+=(64-ue&ue-91)>>>8&-o+ue-65+0,ce+=(96-ue&ue-123)>>>8&-o+ue-97+26,ce},re.prototype._getPaddingLength=function(ue){var ce=0;if(this._paddingCharacter){for(var Pe=ue.length-1;Pe>=0&&ue[Pe]===this._paddingCharacter;Pe--)ce++;if(ue.length<4||ce>2)throw new Error("Base64Coder: incorrect padding")}return ce},re}();c.Coder=T;var E=new T;function M(re){return E.encode(re)}c.encode=M;function R(re){return E.decode(re)}c.decode=R;var B=function(re){m(ue,re);function ue(){return re!==null&&re.apply(this,arguments)||this}return ue.prototype._encodeByte=function(ce){var Pe=ce;return Pe+=65,Pe+=25-ce>>>8&6,Pe+=51-ce>>>8&-75,Pe+=61-ce>>>8&-13,Pe+=62-ce>>>8&49,String.fromCharCode(Pe)},ue.prototype._decodeChar=function(ce){var Pe=o;return Pe+=(44-ce&ce-46)>>>8&-o+ce-45+62,Pe+=(94-ce&ce-96)>>>8&-o+ce-95+63,Pe+=(47-ce&ce-58)>>>8&-o+ce-48+52,Pe+=(64-ce&ce-91)>>>8&-o+ce-65+0,Pe+=(96-ce&ce-123)>>>8&-o+ce-97+26,Pe},ue}(T);c.URLSafeCoder=B;var W=new B;function ae(re){return W.encode(re)}c.encodeURLSafe=ae;function ee(re){return W.decode(re)}c.decodeURLSafe=ee,c.encodedLength=function(re){return E.encodedLength(re)},c.maxDecodedLength=function(re){return E.maxDecodedLength(re)},c.decodedLength=function(re){return E.decodedLength(re)}},function(a,c,p){Object.defineProperty(c,"__esModule",{value:!0});var m="utf8: invalid string",o="utf8: invalid source encoding";function T(R){for(var B=new Uint8Array(E(R)),W=0,ae=0;ae<R.length;ae++){var ee=R.charCodeAt(ae);ee<128?B[W++]=ee:ee<2048?(B[W++]=192|ee>>6,B[W++]=128|ee&63):ee<55296?(B[W++]=224|ee>>12,B[W++]=128|ee>>6&63,B[W++]=128|ee&63):(ae++,ee=(ee&1023)<<10,ee|=R.charCodeAt(ae)&1023,ee+=65536,B[W++]=240|ee>>18,B[W++]=128|ee>>12&63,B[W++]=128|ee>>6&63,B[W++]=128|ee&63)}return B}c.encode=T;function E(R){for(var B=0,W=0;W<R.length;W++){var ae=R.charCodeAt(W);if(ae<128)B+=1;else if(ae<2048)B+=2;else if(ae<55296)B+=3;else if(ae<=57343){if(W>=R.length-1)throw new Error(m);W++,B+=4}else throw new Error(m)}return B}c.encodedLength=E;function M(R){for(var B=[],W=0;W<R.length;W++){var ae=R[W];if(ae&128){var ee=void 0;if(ae<224){if(W>=R.length)throw new Error(o);var re=R[++W];if((re&192)!==128)throw new Error(o);ae=(ae&31)<<6|re&63,ee=128}else if(ae<240){if(W>=R.length-1)throw new Error(o);var re=R[++W],ue=R[++W];if((re&192)!==128||(ue&192)!==128)throw new Error(o);ae=(ae&15)<<12|(re&63)<<6|ue&63,ee=2048}else if(ae<248){if(W>=R.length-2)throw new Error(o);var re=R[++W],ue=R[++W],ce=R[++W];if((re&192)!==128||(ue&192)!==128||(ce&192)!==128)throw new Error(o);ae=(ae&15)<<18|(re&63)<<12|(ue&63)<<6|ce&63,ee=65536}else throw new Error(o);if(ae<ee||ae>=55296&&ae<=57343)throw new Error(o);if(ae>=65536){if(ae>1114111)throw new Error(o);ae-=65536,B.push(String.fromCharCode(55296|ae>>10)),ae=56320|ae&1023}}B.push(String.fromCharCode(ae))}return B.join("")}c.decode=M},function(a,c,p){a.exports=p(3).default},function(a,c,p){p.r(c);class m{constructor(A,N){this.lastId=0,this.prefix=A,this.name=N}create(A){this.lastId++;var N=this.lastId,ne=this.prefix+N,Ce=this.name+"["+N+"]",et=!1,Tt=function(){et||(A.apply(null,arguments),et=!0)};return this[N]=Tt,{number:N,id:ne,name:Ce,callback:Tt}}remove(A){delete this[A.number]}}var o=new m("_pusher_script_","Pusher.ScriptReceivers"),T={VERSION:"8.3.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},E=T;class M{constructor(A){this.options=A,this.receivers=A.receivers||o,this.loading={}}load(A,N,ne){var Ce=this;if(Ce.loading[A]&&Ce.loading[A].length>0)Ce.loading[A].push(ne);else{Ce.loading[A]=[ne];var et=dr.createScriptRequest(Ce.getPath(A,N)),Tt=Ce.receivers.create(function(tr){if(Ce.receivers.remove(Tt),Ce.loading[A]){var Tr=Ce.loading[A];delete Ce.loading[A];for(var zr=function(nn){nn||et.cleanup()},Hr=0;Hr<Tr.length;Hr++)Tr[Hr](tr,zr)}});et.send(Tt)}}getRoot(A){var N,ne=dr.getDocument().location.protocol;return A&&A.useTLS||ne==="https:"?N=this.options.cdn_https:N=this.options.cdn_http,N.replace(/\/*$/,"")+"/"+this.options.version}getPath(A,N){return this.getRoot(N)+"/"+A+this.options.suffix+".js"}}var R=new m("_pusher_dependencies","Pusher.DependenciesReceivers"),B=new M({cdn_http:E.cdn_http,cdn_https:E.cdn_https,version:E.VERSION,suffix:E.dependency_suffix,receivers:R});const W={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var ee={buildLogSuffix:function(F){const A="See:",N=W.urls[F];if(!N)return"";let ne;return N.fullUrl?ne=N.fullUrl:N.path&&(ne=W.baseUrl+N.path),ne?`${A} ${ne}`:""}},re;(function(F){F.UserAuthentication="user-authentication",F.ChannelAuthorization="channel-authorization"})(re||(re={}));class ue extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class ce extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class Pe extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class Y extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class se extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class Se extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class Me extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class qe extends Error{constructor(A,N){super(N),this.status=A,Object.setPrototypeOf(this,new.target.prototype)}}var Xe=function(F,A,N,ne,Ce){const et=dr.createXHR();et.open("POST",N.endpoint,!0),et.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Tt in N.headers)et.setRequestHeader(Tt,N.headers[Tt]);if(N.headersProvider!=null){let tr=N.headersProvider();for(var Tt in tr)et.setRequestHeader(Tt,tr[Tt])}return et.onreadystatechange=function(){if(et.readyState===4)if(et.status===200){let tr,Tr=!1;try{tr=JSON.parse(et.responseText),Tr=!0}catch{Ce(new qe(200,`JSON returned from ${ne.toString()} endpoint was invalid, yet status code was 200. Data was: ${et.responseText}`),null)}Tr&&Ce(null,tr)}else{let tr="";switch(ne){case re.UserAuthentication:tr=ee.buildLogSuffix("authenticationEndpoint");break;case re.ChannelAuthorization:tr=`Clients must be authorized to join private or presence channels. ${ee.buildLogSuffix("authorizationEndpoint")}`;break}Ce(new qe(et.status,`Unable to retrieve auth string from ${ne.toString()} endpoint - received status: ${et.status} from ${N.endpoint}. ${tr}`),null)}},et.send(A),et};function xt(F){return Jt(fr(F))}var Ge=String.fromCharCode,tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ht=function(F){var A=F.charCodeAt(0);return A<128?F:A<2048?Ge(192|A>>>6)+Ge(128|A&63):Ge(224|A>>>12&15)+Ge(128|A>>>6&63)+Ge(128|A&63)},fr=function(F){return F.replace(/[^\x00-\x7F]/g,Ht)},Lt=function(F){var A=[0,2,1][F.length%3],N=F.charCodeAt(0)<<16|(F.length>1?F.charCodeAt(1):0)<<8|(F.length>2?F.charCodeAt(2):0),ne=[tt.charAt(N>>>18),tt.charAt(N>>>12&63),A>=2?"=":tt.charAt(N>>>6&63),A>=1?"=":tt.charAt(N&63)];return ne.join("")},Jt=window.btoa||function(F){return F.replace(/[\s\S]{1,3}/g,Lt)};class Zt{constructor(A,N,ne,Ce){this.clear=N,this.timer=A(()=>{this.timer&&(this.timer=Ce(this.timer))},ne)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Zr=Zt;function Mn(F){window.clearTimeout(F)}function Kr(F){window.clearInterval(F)}class Yr extends Zr{constructor(A,N){super(setTimeout,Mn,A,function(ne){return N(),null})}}class mi extends Zr{constructor(A,N){super(setInterval,Kr,A,function(ne){return N(),ne})}}var Ti={now(){return Date.now?Date.now():new Date().valueOf()},defer(F){return new Yr(0,F)},method(F,...A){var N=Array.prototype.slice.call(arguments,1);return function(ne){return ne[F].apply(ne,N.concat(arguments))}}},gn=Ti;function En(F,...A){for(var N=0;N<A.length;N++){var ne=A[N];for(var Ce in ne)ne[Ce]&&ne[Ce].constructor&&ne[Ce].constructor===Object?F[Ce]=En(F[Ce]||{},ne[Ce]):F[Ce]=ne[Ce]}return F}function On(){for(var F=["Pusher"],A=0;A<arguments.length;A++)typeof arguments[A]=="string"?F.push(arguments[A]):F.push(ht(arguments[A]));return F.join(" : ")}function Qn(F,A){var N=Array.prototype.indexOf;if(F===null)return-1;if(N&&F.indexOf===N)return F.indexOf(A);for(var ne=0,Ce=F.length;ne<Ce;ne++)if(F[ne]===A)return ne;return-1}function Cr(F,A){for(var N in F)Object.prototype.hasOwnProperty.call(F,N)&&A(F[N],N,F)}function sn(F){var A=[];return Cr(F,function(N,ne){A.push(ne)}),A}function Mi(F){var A=[];return Cr(F,function(N){A.push(N)}),A}function _n(F,A,N){for(var ne=0;ne<F.length;ne++)A.call(N||window,F[ne],ne,F)}function xe(F,A){for(var N=[],ne=0;ne<F.length;ne++)N.push(A(F[ne],ne,F,N));return N}function de(F,A){var N={};return Cr(F,function(ne,Ce){N[Ce]=A(ne)}),N}function $e(F,A){A=A||function(Ce){return!!Ce};for(var N=[],ne=0;ne<F.length;ne++)A(F[ne],ne,F,N)&&N.push(F[ne]);return N}function vt(F,A){var N={};return Cr(F,function(ne,Ce){(A&&A(ne,Ce,F,N)||ne)&&(N[Ce]=ne)}),N}function bt(F){var A=[];return Cr(F,function(N,ne){A.push([ne,N])}),A}function dt(F,A){for(var N=0;N<F.length;N++)if(A(F[N],N,F))return!0;return!1}function Ft(F,A){for(var N=0;N<F.length;N++)if(!A(F[N],N,F))return!1;return!0}function le(F){return de(F,function(A){return typeof A=="object"&&(A=ht(A)),encodeURIComponent(xt(A.toString()))})}function pe(F){var A=vt(F,function(ne){return ne!==void 0}),N=xe(bt(le(A)),gn.method("join","=")).join("&");return N}function Ne(F){var A=[],N=[];return function ne(Ce,et){var Tt,tr,Tr;switch(typeof Ce){case"object":if(!Ce)return null;for(Tt=0;Tt<A.length;Tt+=1)if(A[Tt]===Ce)return{$ref:N[Tt]};if(A.push(Ce),N.push(et),Object.prototype.toString.apply(Ce)==="[object Array]")for(Tr=[],Tt=0;Tt<Ce.length;Tt+=1)Tr[Tt]=ne(Ce[Tt],et+"["+Tt+"]");else{Tr={};for(tr in Ce)Object.prototype.hasOwnProperty.call(Ce,tr)&&(Tr[tr]=ne(Ce[tr],et+"["+JSON.stringify(tr)+"]"))}return Tr;case"number":case"string":case"boolean":return Ce}}(F,"$")}function ht(F){try{return JSON.stringify(F)}catch{return JSON.stringify(Ne(F))}}class wt{constructor(){this.globalLog=A=>{window.console&&window.console.log&&window.console.log(A)}}debug(...A){this.log(this.globalLog,A)}warn(...A){this.log(this.globalLogWarn,A)}error(...A){this.log(this.globalLogError,A)}globalLogWarn(A){window.console&&window.console.warn?window.console.warn(A):this.globalLog(A)}globalLogError(A){window.console&&window.console.error?window.console.error(A):this.globalLogWarn(A)}log(A,...N){var ne=On.apply(this,arguments);Or.log?Or.log(ne):Or.logToConsole&&A.bind(this)(ne)}}var Ve=new wt,Be=function(F,A,N,ne,Ce){(N.headers!==void 0||N.headersProvider!=null)&&Ve.warn(`To send headers with the ${ne.toString()} request, you must use AJAX, rather than JSONP.`);var et=F.nextAuthCallbackID.toString();F.nextAuthCallbackID++;var Tt=F.getDocument(),tr=Tt.createElement("script");F.auth_callbacks[et]=function(Hr){Ce(null,Hr)};var Tr="Pusher.auth_callbacks['"+et+"']";tr.src=N.endpoint+"?callback="+encodeURIComponent(Tr)+"&"+A;var zr=Tt.getElementsByTagName("head")[0]||Tt.documentElement;zr.insertBefore(tr,zr.firstChild)},lt=Be;class hr{constructor(A){this.src=A}send(A){var N=this,ne="Error loading "+N.src;N.script=document.createElement("script"),N.script.id=A.id,N.script.src=N.src,N.script.type="text/javascript",N.script.charset="UTF-8",N.script.addEventListener?(N.script.onerror=function(){A.callback(ne)},N.script.onload=function(){A.callback(null)}):N.script.onreadystatechange=function(){(N.script.readyState==="loaded"||N.script.readyState==="complete")&&A.callback(null)},N.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(N.errorScript=document.createElement("script"),N.errorScript.id=A.id+"_error",N.errorScript.text=A.name+"('"+ne+"');",N.script.async=N.errorScript.async=!1):N.script.async=!0;var Ce=document.getElementsByTagName("head")[0];Ce.insertBefore(N.script,Ce.firstChild),N.errorScript&&Ce.insertBefore(N.errorScript,N.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class pr{constructor(A,N){this.url=A,this.data=N}send(A){if(!this.request){var N=pe(this.data),ne=this.url+"/"+A.number+"?"+N;this.request=dr.createScriptRequest(ne),this.request.send(A)}}cleanup(){this.request&&this.request.cleanup()}}var wn=function(F,A){return function(N,ne){var Ce="http"+(A?"s":"")+"://",et=Ce+(F.host||F.options.host)+F.options.path,Tt=dr.createJSONPRequest(et,N),tr=dr.ScriptReceivers.create(function(Tr,zr){o.remove(tr),Tt.cleanup(),zr&&zr.host&&(F.host=zr.host),ne&&ne(Tr,zr)});Tt.send(tr)}},Sn={name:"jsonp",getAgent:wn},Ln=Sn;function pn(F,A,N){var ne=F+(A.useTLS?"s":""),Ce=A.useTLS?A.hostTLS:A.hostNonTLS;return ne+"://"+Ce+N}function ei(F,A){var N="/app/"+F,ne="?protocol="+E.PROTOCOL+"&client=js&version="+E.VERSION+(A?"&"+A:"");return N+ne}var Hi={getInitial:function(F,A){var N=(A.httpPath||"")+ei(F,"flash=false");return pn("ws",A,N)}},si={getInitial:function(F,A){var N=(A.httpPath||"/pusher")+ei(F);return pn("http",A,N)}},li={getInitial:function(F,A){return pn("http",A,A.httpPath||"/pusher")},getPath:function(F,A){return ei(F)}};class ba{constructor(){this._callbacks={}}get(A){return this._callbacks[Ha(A)]}add(A,N,ne){var Ce=Ha(A);this._callbacks[Ce]=this._callbacks[Ce]||[],this._callbacks[Ce].push({fn:N,context:ne})}remove(A,N,ne){if(!A&&!N&&!ne){this._callbacks={};return}var Ce=A?[Ha(A)]:sn(this._callbacks);N||ne?this.removeCallback(Ce,N,ne):this.removeAllCallbacks(Ce)}removeCallback(A,N,ne){_n(A,function(Ce){this._callbacks[Ce]=$e(this._callbacks[Ce]||[],function(et){return N&&N!==et.fn||ne&&ne!==et.context}),this._callbacks[Ce].length===0&&delete this._callbacks[Ce]},this)}removeAllCallbacks(A){_n(A,function(N){delete this._callbacks[N]},this)}}function Ha(F){return"_"+F}class Wi{constructor(A){this.callbacks=new ba,this.global_callbacks=[],this.failThrough=A}bind(A,N,ne){return this.callbacks.add(A,N,ne),this}bind_global(A){return this.global_callbacks.push(A),this}unbind(A,N,ne){return this.callbacks.remove(A,N,ne),this}unbind_global(A){return A?(this.global_callbacks=$e(this.global_callbacks||[],N=>N!==A),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(A,N,ne){for(var Ce=0;Ce<this.global_callbacks.length;Ce++)this.global_callbacks[Ce](A,N);var et=this.callbacks.get(A),Tt=[];if(ne?Tt.push(N,ne):N&&Tt.push(N),et&&et.length>0)for(var Ce=0;Ce<et.length;Ce++)et[Ce].fn.apply(et[Ce].context||window,Tt);else this.failThrough&&this.failThrough(A,N);return this}}class eo extends Wi{constructor(A,N,ne,Ce,et){super(),this.initialize=dr.transportConnectionInitializer,this.hooks=A,this.name=N,this.priority=ne,this.key=Ce,this.options=et,this.state="new",this.timeline=et.timeline,this.activityTimeout=et.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var A=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(A,this.options)}catch(N){return gn.defer(()=>{this.onError(N),this.changeState("closed")}),!1}return this.bindListeners(),Ve.debug("Connecting",{transport:this.name,url:A}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(A){return this.state==="open"?(gn.defer(()=>{this.socket&&this.socket.send(A)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(A){this.emit("error",{type:"WebSocketError",error:A}),this.timeline.error(this.buildTimelineMessage({error:A.toString()}))}onClose(A){A?this.changeState("closed",{code:A.code,reason:A.reason,wasClean:A.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(A){this.emit("message",A)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=A=>{this.onError(A)},this.socket.onclose=A=>{this.onClose(A)},this.socket.onmessage=A=>{this.onMessage(A)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(A,N){this.state=A,this.timeline.info(this.buildTimelineMessage({state:A,params:N})),this.emit(A,N)}buildTimelineMessage(A){return En({cid:this.id},A)}}class gi{constructor(A){this.hooks=A}isSupported(A){return this.hooks.isSupported(A)}createConnection(A,N,ne,Ce){return new eo(this.hooks,A,N,ne,Ce)}}var Wa=new gi({urls:Hi,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!dr.getWebSocketAPI()},isSupported:function(){return!!dr.getWebSocketAPI()},getSocket:function(F){return dr.createWebSocket(F)}}),$a={urls:si,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},tn=En({getSocket:function(F){return dr.HTTPFactory.createStreamingSocket(F)}},$a),U=En({getSocket:function(F){return dr.HTTPFactory.createPollingSocket(F)}},$a),$={isSupported:function(){return dr.isXHRSupported()}},X=new gi(En({},tn,$)),oe=new gi(En({},U,$)),me={ws:Wa,xhr_streaming:X,xhr_polling:oe},ke=me,Oe=new gi({file:"sockjs",urls:li,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(F,A){return new window.SockJS(F,null,{js_path:B.getPath("sockjs",{useTLS:A.useTLS}),ignore_null_origin:A.ignoreNullOrigin})},beforeOpen:function(F,A){F.send(JSON.stringify({path:A}))}}),Q={isSupported:function(F){var A=dr.isXDRSupported(F.useTLS);return A}},be=new gi(En({},tn,Q)),je=new gi(En({},U,Q));ke.xdr_streaming=be,ke.xdr_polling=je,ke.sockjs=Oe;var gt=ke;class St extends Wi{constructor(){super();var A=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){A.emit("online")},!1),window.addEventListener("offline",function(){A.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var rt=new St;class _t{constructor(A,N,ne){this.manager=A,this.transport=N,this.minPingDelay=ne.minPingDelay,this.maxPingDelay=ne.maxPingDelay,this.pingDelay=void 0}createConnection(A,N,ne,Ce){Ce=En({},Ce,{activityTimeout:this.pingDelay});var et=this.transport.createConnection(A,N,ne,Ce),Tt=null,tr=function(){et.unbind("open",tr),et.bind("closed",Tr),Tt=gn.now()},Tr=zr=>{if(et.unbind("closed",Tr),zr.code===1002||zr.code===1003)this.manager.reportDeath();else if(!zr.wasClean&&Tt){var Hr=gn.now()-Tt;Hr<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Hr/2,this.minPingDelay))}};return et.bind("open",tr),et}isSupported(A){return this.manager.isAlive()&&this.transport.isSupported(A)}}const Wt={decodeMessage:function(F){try{var A=JSON.parse(F.data),N=A.data;if(typeof N=="string")try{N=JSON.parse(A.data)}catch{}var ne={event:A.event,channel:A.channel,data:N};return A.user_id&&(ne.user_id=A.user_id),ne}catch(Ce){throw{type:"MessageParseError",error:Ce,data:F.data}}},encodeMessage:function(F){return JSON.stringify(F)},processHandshake:function(F){var A=Wt.decodeMessage(F);if(A.event==="pusher:connection_established"){if(!A.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:A.data.socket_id,activityTimeout:A.data.activity_timeout*1e3}}else{if(A.event==="pusher:error")return{action:this.getCloseAction(A.data),error:this.getCloseError(A.data)};throw"Invalid handshake"}},getCloseAction:function(F){return F.code<4e3?F.code>=1002&&F.code<=1004?"backoff":null:F.code===4e3?"tls_only":F.code<4100?"refused":F.code<4200?"backoff":F.code<4300?"retry":"refused"},getCloseError:function(F){return F.code!==1e3&&F.code!==1001?{type:"PusherError",data:{code:F.code,message:F.reason||F.message}}:null}};var Dt=Wt;class it extends Wi{constructor(A,N){super(),this.id=A,this.transport=N,this.activityTimeout=N.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(A){return this.transport.send(A)}send_event(A,N,ne){var Ce={event:A,data:N};return ne&&(Ce.channel=ne),Ve.debug("Event sent",Ce),this.send(Dt.encodeMessage(Ce))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var A={message:ne=>{var Ce;try{Ce=Dt.decodeMessage(ne)}catch(et){this.emit("error",{type:"MessageParseError",error:et,data:ne.data})}if(Ce!==void 0){switch(Ve.debug("Event recd",Ce),Ce.event){case"pusher:error":this.emit("error",{type:"PusherError",data:Ce.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",Ce)}},activity:()=>{this.emit("activity")},error:ne=>{this.emit("error",ne)},closed:ne=>{N(),ne&&ne.code&&this.handleCloseEvent(ne),this.transport=null,this.emit("closed")}},N=()=>{Cr(A,(ne,Ce)=>{this.transport.unbind(Ce,ne)})};Cr(A,(ne,Ce)=>{this.transport.bind(Ce,ne)})}handleCloseEvent(A){var N=Dt.getCloseAction(A),ne=Dt.getCloseError(A);ne&&this.emit("error",ne),N&&this.emit(N,{action:N,error:ne})}}class Rt{constructor(A,N){this.transport=A,this.callback=N,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=A=>{this.unbindListeners();var N;try{N=Dt.processHandshake(A)}catch(ne){this.finish("error",{error:ne}),this.transport.close();return}N.action==="connected"?this.finish("connected",{connection:new it(N.id,this.transport),activityTimeout:N.activityTimeout}):(this.finish(N.action,{error:N.error}),this.transport.close())},this.onClosed=A=>{this.unbindListeners();var N=Dt.getCloseAction(A)||"backoff",ne=Dt.getCloseError(A);this.finish(N,{error:ne})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(A,N){this.callback(En({transport:this.transport,action:A},N))}}class kt{constructor(A,N){this.timeline=A,this.options=N||{}}send(A,N){this.timeline.isEmpty()||this.timeline.send(dr.TimelineTransport.getAgent(this,A),N)}}class It extends Wi{constructor(A,N){super(function(ne,Ce){Ve.debug("No callbacks on "+A+" for "+ne)}),this.name=A,this.pusher=N,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(A,N){return N(null,{auth:""})}trigger(A,N){if(A.indexOf("client-")!==0)throw new ue("Event '"+A+"' does not start with 'client-'");if(!this.subscribed){var ne=ee.buildLogSuffix("triggeringClientEvents");Ve.warn(`Client event triggered before channel 'subscription_succeeded' event . ${ne}`)}return this.pusher.send_event(A,N,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(A){var N=A.event,ne=A.data;if(N==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(A);else if(N==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(A);else if(N.indexOf("pusher_internal:")!==0){var Ce={};this.emit(N,ne,Ce)}}handleSubscriptionSucceededEvent(A){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",A.data)}handleSubscriptionCountEvent(A){A.data.subscription_count&&(this.subscriptionCount=A.data.subscription_count),this.emit("pusher:subscription_count",A.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(A,N)=>{A?(this.subscriptionPending=!1,Ve.error(A.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:A.message},A instanceof qe?{status:A.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:N.auth,channel_data:N.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Sr extends It{authorize(A,N){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:A},N)}}class Mt{constructor(){this.reset()}get(A){return Object.prototype.hasOwnProperty.call(this.members,A)?{id:A,info:this.members[A]}:null}each(A){Cr(this.members,(N,ne)=>{A(this.get(ne))})}setMyID(A){this.myID=A}onSubscription(A){this.members=A.presence.hash,this.count=A.presence.count,this.me=this.get(this.myID)}addMember(A){return this.get(A.user_id)===null&&this.count++,this.members[A.user_id]=A.user_info,this.get(A.user_id)}removeMember(A){var N=this.get(A.user_id);return N&&(delete this.members[A.user_id],this.count--),N}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Nr=function(F,A,N,ne){function Ce(et){return et instanceof N?et:new N(function(Tt){Tt(et)})}return new(N||(N=Promise))(function(et,Tt){function tr(Hr){try{zr(ne.next(Hr))}catch(nn){Tt(nn)}}function Tr(Hr){try{zr(ne.throw(Hr))}catch(nn){Tt(nn)}}function zr(Hr){Hr.done?et(Hr.value):Ce(Hr.value).then(tr,Tr)}zr((ne=ne.apply(F,A||[])).next())})};class yn extends Sr{constructor(A,N){super(A,N),this.members=new Mt}authorize(A,N){super.authorize(A,(ne,Ce)=>Nr(this,void 0,void 0,function*(){if(!ne)if(Ce=Ce,Ce.channel_data!=null){var et=JSON.parse(Ce.channel_data);this.members.setMyID(et.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Tt=ee.buildLogSuffix("authorizationEndpoint");Ve.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Tt}, or the user should be signed in.`),N("Invalid auth response");return}N(ne,Ce)}))}handleEvent(A){var N=A.event;if(N.indexOf("pusher_internal:")===0)this.handleInternalEvent(A);else{var ne=A.data,Ce={};A.user_id&&(Ce.user_id=A.user_id),this.emit(N,ne,Ce)}}handleInternalEvent(A){var N=A.event,ne=A.data;switch(N){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(A);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(A);break;case"pusher_internal:member_added":var Ce=this.members.addMember(ne);this.emit("pusher:member_added",Ce);break;case"pusher_internal:member_removed":var et=this.members.removeMember(ne);et&&this.emit("pusher:member_removed",et);break}}handleSubscriptionSucceededEvent(A){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(A.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Ar=p(1),qr=p(0);class Fr extends Sr{constructor(A,N,ne){super(A,N),this.key=null,this.nacl=ne}authorize(A,N){super.authorize(A,(ne,Ce)=>{if(ne){N(ne,Ce);return}let et=Ce.shared_secret;if(!et){N(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(qr.decode)(et),delete Ce.shared_secret,N(null,Ce)})}trigger(A,N){throw new Se("Client events are not currently supported for encrypted channels")}handleEvent(A){var N=A.event,ne=A.data;if(N.indexOf("pusher_internal:")===0||N.indexOf("pusher:")===0){super.handleEvent(A);return}this.handleEncryptedEvent(N,ne)}handleEncryptedEvent(A,N){if(!this.key){Ve.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!N.ciphertext||!N.nonce){Ve.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+N);return}let ne=Object(qr.decode)(N.ciphertext);if(ne.length<this.nacl.secretbox.overheadLength){Ve.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${ne.length}`);return}let Ce=Object(qr.decode)(N.nonce);if(Ce.length<this.nacl.secretbox.nonceLength){Ve.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${Ce.length}`);return}let et=this.nacl.secretbox.open(ne,Ce,this.key);if(et===null){Ve.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Tt,tr)=>{if(Tt){Ve.error(`Failed to make a request to the authEndpoint: ${tr}. Unable to fetch new key, so dropping encrypted event`);return}if(et=this.nacl.secretbox.open(ne,Ce,this.key),et===null){Ve.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(A,this.getDataToEmit(et))});return}this.emit(A,this.getDataToEmit(et))}getDataToEmit(A){let N=Object(Ar.decode)(A);try{return JSON.parse(N)}catch{return N}}}class Ei extends Wi{constructor(A,N){super(),this.state="initialized",this.connection=null,this.key=A,this.options=N,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var ne=dr.getNetwork();ne.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),ne.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(A){return this.connection?this.connection.send(A):!1}send_event(A,N,ne){return this.connection?this.connection.send_event(A,N,ne):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var A=(N,ne)=>{N?this.runner=this.strategy.connect(0,A):ne.action==="error"?(this.emit("error",{type:"HandshakeError",error:ne.error}),this.timeline.error({handshakeError:ne.error})):(this.abortConnecting(),this.handshakeCallbacks[ne.action](ne))};this.runner=this.strategy.connect(0,A)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var A=this.abandonConnection();A.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(A){this.timeline.info({action:"retry",delay:A}),A>0&&this.emit("connecting_in",Math.round(A/1e3)),this.retryTimer=new Yr(A||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Yr(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Yr(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Yr(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(A){return En({},A,{message:N=>{this.resetActivityCheck(),this.emit("message",N)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:N=>{this.emit("error",N)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(A){return En({},A,{connected:N=>{this.activityTimeout=Math.min(this.options.activityTimeout,N.activityTimeout,N.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(N.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let A=N=>ne=>{ne.error&&this.emit("error",{type:"WebSocketError",error:ne.error}),N(ne)};return{tls_only:A(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:A(()=>{this.disconnect()}),backoff:A(()=>{this.retryIn(1e3)}),retry:A(()=>{this.retryIn(0)})}}setConnection(A){this.connection=A;for(var N in this.connectionCallbacks)this.connection.bind(N,this.connectionCallbacks[N]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var A in this.connectionCallbacks)this.connection.unbind(A,this.connectionCallbacks[A]);var N=this.connection;return this.connection=null,N}}updateState(A,N){var ne=this.state;if(this.state=A,ne!==A){var Ce=A;Ce==="connected"&&(Ce+=" with new socket ID "+N.socket_id),Ve.debug("State changed",ne+" -> "+Ce),this.timeline.info({state:A,params:N}),this.emit("state_change",{previous:ne,current:A}),this.emit(A,N)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class rn{constructor(){this.channels={}}add(A,N){return this.channels[A]||(this.channels[A]=Vn(A,N)),this.channels[A]}all(){return Mi(this.channels)}find(A){return this.channels[A]}remove(A){var N=this.channels[A];return delete this.channels[A],N}disconnect(){Cr(this.channels,function(A){A.disconnect()})}}function Vn(F,A){if(F.indexOf("private-encrypted-")===0){if(A.config.nacl)return Er.createEncryptedChannel(F,A,A.config.nacl);let N="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",ne=ee.buildLogSuffix("encryptedChannelSupport");throw new Se(`${N}. ${ne}`)}else{if(F.indexOf("private-")===0)return Er.createPrivateChannel(F,A);if(F.indexOf("presence-")===0)return Er.createPresenceChannel(F,A);if(F.indexOf("#")===0)throw new ce('Cannot create a channel with name "'+F+'".');return Er.createChannel(F,A)}}var ln={createChannels(){return new rn},createConnectionManager(F,A){return new Ei(F,A)},createChannel(F,A){return new It(F,A)},createPrivateChannel(F,A){return new Sr(F,A)},createPresenceChannel(F,A){return new yn(F,A)},createEncryptedChannel(F,A,N){return new Fr(F,A,N)},createTimelineSender(F,A){return new kt(F,A)},createHandshake(F,A){return new Rt(F,A)},createAssistantToTheTransportManager(F,A,N){return new _t(F,A,N)}},Er=ln;class Xr{constructor(A){this.options=A||{},this.livesLeft=this.options.lives||1/0}getAssistant(A){return Er.createAssistantToTheTransportManager(this,A,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class $n{constructor(A,N){this.strategies=A,this.loop=!!N.loop,this.failFast=!!N.failFast,this.timeout=N.timeout,this.timeoutLimit=N.timeoutLimit}isSupported(){return dt(this.strategies,gn.method("isSupported"))}connect(A,N){var ne=this.strategies,Ce=0,et=this.timeout,Tt=null,tr=(Tr,zr)=>{zr?N(null,zr):(Ce=Ce+1,this.loop&&(Ce=Ce%ne.length),Ce<ne.length?(et&&(et=et*2,this.timeoutLimit&&(et=Math.min(et,this.timeoutLimit))),Tt=this.tryStrategy(ne[Ce],A,{timeout:et,failFast:this.failFast},tr)):N(!0))};return Tt=this.tryStrategy(ne[Ce],A,{timeout:et,failFast:this.failFast},tr),{abort:function(){Tt.abort()},forceMinPriority:function(Tr){A=Tr,Tt&&Tt.forceMinPriority(Tr)}}}tryStrategy(A,N,ne,Ce){var et=null,Tt=null;return ne.timeout>0&&(et=new Yr(ne.timeout,function(){Tt.abort(),Ce(!0)})),Tt=A.connect(N,function(tr,Tr){tr&&et&&et.isRunning()&&!ne.failFast||(et&&et.ensureAborted(),Ce(tr,Tr))}),{abort:function(){et&&et.ensureAborted(),Tt.abort()},forceMinPriority:function(tr){Tt.forceMinPriority(tr)}}}}class xa{constructor(A){this.strategies=A}isSupported(){return dt(this.strategies,gn.method("isSupported"))}connect(A,N){return Kn(this.strategies,A,function(ne,Ce){return function(et,Tt){if(Ce[ne].error=et,et){Oi(Ce)&&N(!0);return}_n(Ce,function(tr){tr.forceMinPriority(Tt.transport.priority)}),N(null,Tt)}})}}function Kn(F,A,N){var ne=xe(F,function(Ce,et,Tt,tr){return Ce.connect(A,N(et,tr))});return{abort:function(){_n(ne,Di)},forceMinPriority:function(Ce){_n(ne,function(et){et.forceMinPriority(Ce)})}}}function Oi(F){return Ft(F,function(A){return!!A.error})}function Di(F){!F.error&&!F.aborted&&(F.abort(),F.aborted=!0)}class Ho{constructor(A,N,ne){this.strategy=A,this.transports=N,this.ttl=ne.ttl||1800*1e3,this.usingTLS=ne.useTLS,this.timeline=ne.timeline}isSupported(){return this.strategy.isSupported()}connect(A,N){var ne=this.usingTLS,Ce=As(ne),et=Ce&&Ce.cacheSkipCount?Ce.cacheSkipCount:0,Tt=[this.strategy];if(Ce&&Ce.timestamp+this.ttl>=gn.now()){var tr=this.transports[Ce.transport];tr&&(["ws","wss"].includes(Ce.transport)||et>3?(this.timeline.info({cached:!0,transport:Ce.transport,latency:Ce.latency}),Tt.push(new $n([tr],{timeout:Ce.latency*2+1e3,failFast:!0}))):et++)}var Tr=gn.now(),zr=Tt.pop().connect(A,function Hr(nn,wo){nn?(Gn(ne),Tt.length>0?(Tr=gn.now(),zr=Tt.pop().connect(A,Hr)):N(nn)):(Ni(ne,wo.transport.name,gn.now()-Tr,et),N(null,wo))});return{abort:function(){zr.abort()},forceMinPriority:function(Hr){A=Hr,zr&&zr.forceMinPriority(Hr)}}}}function Cn(F){return"pusherTransport"+(F?"TLS":"NonTLS")}function As(F){var A=dr.getLocalStorage();if(A)try{var N=A[Cn(F)];if(N)return JSON.parse(N)}catch{Gn(F)}return null}function Ni(F,A,N,ne){var Ce=dr.getLocalStorage();if(Ce)try{Ce[Cn(F)]=ht({timestamp:gn.now(),transport:A,latency:N,cacheSkipCount:ne})}catch{}}function Gn(F){var A=dr.getLocalStorage();if(A)try{delete A[Cn(F)]}catch{}}class zi{constructor(A,{delay:N}){this.strategy=A,this.options={delay:N}}isSupported(){return this.strategy.isSupported()}connect(A,N){var ne=this.strategy,Ce,et=new Yr(this.options.delay,function(){Ce=ne.connect(A,N)});return{abort:function(){et.ensureAborted(),Ce&&Ce.abort()},forceMinPriority:function(Tt){A=Tt,Ce&&Ce.forceMinPriority(Tt)}}}}class un{constructor(A,N,ne){this.test=A,this.trueBranch=N,this.falseBranch=ne}isSupported(){var A=this.test()?this.trueBranch:this.falseBranch;return A.isSupported()}connect(A,N){var ne=this.test()?this.trueBranch:this.falseBranch;return ne.connect(A,N)}}class bo{constructor(A){this.strategy=A}isSupported(){return this.strategy.isSupported()}connect(A,N){var ne=this.strategy.connect(A,function(Ce,et){et&&ne.abort(),N(Ce,et)});return ne}}function Ci(F){return function(){return F.isSupported()}}var nu=function(F,A,N){var ne={};function Ce(Ja,kl,To,co,ha){var Ys=N(F,Ja,kl,To,co,ha);return ne[Ja]=Ys,Ys}var et=Object.assign({},A,{hostNonTLS:F.wsHost+":"+F.wsPort,hostTLS:F.wsHost+":"+F.wssPort,httpPath:F.wsPath}),Tt=Object.assign({},et,{useTLS:!0}),tr=Object.assign({},A,{hostNonTLS:F.httpHost+":"+F.httpPort,hostTLS:F.httpHost+":"+F.httpsPort,httpPath:F.httpPath}),Tr={loop:!0,timeout:15e3,timeoutLimit:6e4},zr=new Xr({minPingDelay:1e4,maxPingDelay:F.activityTimeout}),Hr=new Xr({lives:2,minPingDelay:1e4,maxPingDelay:F.activityTimeout}),nn=Ce("ws","ws",3,et,zr),wo=Ce("wss","ws",3,Tt,zr),So=Ce("sockjs","sockjs",1,tr),Br=Ce("xhr_streaming","xhr_streaming",1,tr,Hr),fs=Ce("xdr_streaming","xdr_streaming",1,tr,Hr),$o=Ce("xhr_polling","xhr_polling",1,tr),to=Ce("xdr_polling","xdr_polling",1,tr),Il=new $n([nn],Tr),Wu=new $n([wo],Tr),su=new $n([So],Tr),cn=new $n([new un(Ci(Br),Br,fs)],Tr),Go=new $n([new un(Ci($o),$o,to)],Tr),Fi=new $n([new un(Ci(cn),new xa([cn,new zi(Go,{delay:4e3})]),Go)],Tr),Oo=new un(Ci(Fi),Fi,su),Ya;return A.useTLS?Ya=new xa([Il,new zi(Oo,{delay:2e3})]):Ya=new xa([Il,new zi(Wu,{delay:2e3}),new zi(Oo,{delay:5e3})]),new Ho(new bo(new un(Ci(nn),Ya,Oo)),ne,{ttl:18e5,timeline:A.timeline,useTLS:A.useTLS})},Zn=nu,iu=function(){var F=this;F.timeline.info(F.buildTimelineMessage({transport:F.name+(F.options.useTLS?"s":"")})),F.hooks.isInitialized()?F.changeState("initialized"):F.hooks.file?(F.changeState("initializing"),B.load(F.hooks.file,{useTLS:F.options.useTLS},function(A,N){F.hooks.isInitialized()?(F.changeState("initialized"),N(!0)):(A&&F.onError(A),F.onClose(),N(!1))})):F.onClose()},uo={getRequest:function(F){var A=new window.XDomainRequest;return A.ontimeout=function(){F.emit("error",new Pe),F.close()},A.onerror=function(N){F.emit("error",N),F.close()},A.onprogress=function(){A.responseText&&A.responseText.length>0&&F.onChunk(200,A.responseText)},A.onload=function(){A.responseText&&A.responseText.length>0&&F.onChunk(200,A.responseText),F.emit("finished",200),F.close()},A},abortRequest:function(F){F.ontimeout=F.onerror=F.onprogress=F.onload=null,F.abort()}},yi=uo;const Wo=256*1024;class Xn extends Wi{constructor(A,N,ne){super(),this.hooks=A,this.method=N,this.url=ne}start(A){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},dr.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(A)}close(){this.unloader&&(dr.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(A,N){for(;;){var ne=this.advanceBuffer(N);if(ne)this.emit("chunk",{status:A,data:ne});else break}this.isBufferTooLong(N)&&this.emit("buffer_too_long")}advanceBuffer(A){var N=A.slice(this.position),ne=N.indexOf(`
`);return ne!==-1?(this.position+=ne+1,N.slice(0,ne)):null}isBufferTooLong(A){return this.position===A.length&&A.length>Wo}}var $i;(function(F){F[F.CONNECTING=0]="CONNECTING",F[F.OPEN=1]="OPEN",F[F.CLOSED=3]="CLOSED"})($i||($i={}));var ua=$i,qu=1;class Ga{constructor(A,N){this.hooks=A,this.session=bl(1e3)+"/"+Za(8),this.location=ou(N),this.readyState=ua.CONNECTING,this.openStream()}send(A){return this.sendRaw(JSON.stringify([A]))}ping(){this.hooks.sendHeartbeat(this)}close(A,N){this.onClose(A,N,!0)}sendRaw(A){if(this.readyState===ua.OPEN)try{return dr.createSocketRequest("POST",_l($s(this.location,this.session))).start(A),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(A,N,ne){this.closeStream(),this.readyState=ua.CLOSED,this.onclose&&this.onclose({code:A,reason:N,wasClean:ne})}onChunk(A){if(A.status===200){this.readyState===ua.OPEN&&this.onActivity();var N,ne=A.data.slice(0,1);switch(ne){case"o":N=JSON.parse(A.data.slice(1)||"{}"),this.onOpen(N);break;case"a":N=JSON.parse(A.data.slice(1)||"[]");for(var Ce=0;Ce<N.length;Ce++)this.onEvent(N[Ce]);break;case"m":N=JSON.parse(A.data.slice(1)||"null"),this.onEvent(N);break;case"h":this.hooks.onHeartbeat(this);break;case"c":N=JSON.parse(A.data.slice(1)||"[]"),this.onClose(N[0],N[1],!0);break}}}onOpen(A){this.readyState===ua.CONNECTING?(A&&A.hostname&&(this.location.base=vl(this.location.base,A.hostname)),this.readyState=ua.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(A){this.readyState===ua.OPEN&&this.onmessage&&this.onmessage({data:A})}onActivity(){this.onactivity&&this.onactivity()}onError(A){this.onerror&&this.onerror(A)}openStream(){this.stream=dr.createSocketRequest("POST",_l(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",A=>{this.onChunk(A)}),this.stream.bind("finished",A=>{this.hooks.onFinished(this,A)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(A){gn.defer(()=>{this.onError(A),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function ou(F){var A=/([^\?]*)\/*(\??.*)/.exec(F);return{base:A[1],queryString:A[2]}}function $s(F,A){return F.base+"/"+A+"/xhr_send"}function _l(F){var A=F.indexOf("?")===-1?"?":"&";return F+A+"t="+ +new Date+"&n="+qu++}function vl(F,A){var N=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(F);return N[1]+A+N[3]}function bl(F){return dr.randomInt(F)}function Za(F){for(var A=[],N=0;N<F;N++)A.push(bl(32).toString(32));return A.join("")}var xl=Ga,Is={getReceiveURL:function(F,A){return F.base+"/"+A+"/xhr_streaming"+F.queryString},onHeartbeat:function(F){F.sendRaw("[]")},sendHeartbeat:function(F){F.sendRaw("[]")},onFinished:function(F,A){F.onClose(1006,"Connection interrupted ("+A+")",!1)}},Gs=Is,Zs={getReceiveURL:function(F,A){return F.base+"/"+A+"/xhr"+F.queryString},onHeartbeat:function(){},sendHeartbeat:function(F){F.sendRaw("[]")},onFinished:function(F,A){A===200?F.reconnect():F.onClose(1006,"Connection interrupted ("+A+")",!1)}},xo=Zs,wa={getRequest:function(F){var A=dr.getXHRAPI(),N=new A;return N.onreadystatechange=N.onprogress=function(){switch(N.readyState){case 3:N.responseText&&N.responseText.length>0&&F.onChunk(N.status,N.responseText);break;case 4:N.responseText&&N.responseText.length>0&&F.onChunk(N.status,N.responseText),F.emit("finished",N.status),F.close();break}},N},abortRequest:function(F){F.onreadystatechange=null,F.abort()}},Sa=wa,Xa={createStreamingSocket(F){return this.createSocket(Gs,F)},createPollingSocket(F){return this.createSocket(xo,F)},createSocket(F,A){return new xl(F,A)},createXHR(F,A){return this.createRequest(Sa,F,A)},createRequest(F,A,N){return new Xn(F,A,N)}},ca=Xa;ca.createXDR=function(F,A){return this.createRequest(yi,F,A)};var Ta=ca,ks={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:R,getDefaultStrategy:Zn,Transports:gt,transportConnectionInitializer:iu,HTTPFactory:Ta,TimelineTransport:Ln,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(F){window.Pusher=F;var A=()=>{this.onDocumentBody(F.ready)};window.JSON?A():B.load("json2",{},A)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:Xe,jsonp:lt}},onDocumentBody(F){document.body?F():setTimeout(()=>{this.onDocumentBody(F)},0)},createJSONPRequest(F,A){return new pr(F,A)},createScriptRequest(F){return new hr(F)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var F=this.getXHRAPI();return new F},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return rt},createWebSocket(F){var A=this.getWebSocketAPI();return new A(F)},createSocketRequest(F,A){if(this.isXHRSupported())return this.HTTPFactory.createXHR(F,A);if(this.isXDRSupported(A.indexOf("https:")===0))return this.HTTPFactory.createXDR(F,A);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var F=this.getXHRAPI();return!!F&&new F().withCredentials!==void 0},isXDRSupported(F){var A=F?"https:":"http:",N=this.getProtocol();return!!window.XDomainRequest&&N===A},addUnloadListener(F){window.addEventListener!==void 0?window.addEventListener("unload",F,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",F)},removeUnloadListener(F){window.addEventListener!==void 0?window.removeEventListener("unload",F,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",F)},randomInt(F){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*F)}},dr=ks,Nn;(function(F){F[F.ERROR=3]="ERROR",F[F.INFO=6]="INFO",F[F.DEBUG=7]="DEBUG"})(Nn||(Nn={}));var Mo=Nn;class wl{constructor(A,N,ne){this.key=A,this.session=N,this.events=[],this.options=ne||{},this.sent=0,this.uniqueID=0}log(A,N){A<=this.options.level&&(this.events.push(En({},N,{timestamp:gn.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(A){this.log(Mo.ERROR,A)}info(A){this.log(Mo.INFO,A)}debug(A){this.log(Mo.DEBUG,A)}isEmpty(){return this.events.length===0}send(A,N){var ne=En({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],A(ne,(Ce,et)=>{Ce||this.sent++,N&&N(Ce,et)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class au{constructor(A,N,ne,Ce){this.name=A,this.priority=N,this.transport=ne,this.options=Ce||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(A,N){if(this.isSupported()){if(this.priority<A)return Xs(new Y,N)}else return Xs(new C,N);var ne=!1,Ce=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),et=null,Tt=function(){Ce.unbind("initialized",Tt),Ce.connect()},tr=function(){et=Er.createHandshake(Ce,function(nn){ne=!0,Hr(),N(null,nn)})},Tr=function(nn){Hr(),N(nn)},zr=function(){Hr();var nn;nn=ht(Ce),N(new se(nn))},Hr=function(){Ce.unbind("initialized",Tt),Ce.unbind("open",tr),Ce.unbind("error",Tr),Ce.unbind("closed",zr)};return Ce.bind("initialized",Tt),Ce.bind("open",tr),Ce.bind("error",Tr),Ce.bind("closed",zr),Ce.initialize(),{abort:()=>{ne||(Hr(),et?et.close():Ce.close())},forceMinPriority:nn=>{ne||this.priority<nn&&(et?et.close():Ce.close())}}}}function Xs(F,A){return gn.defer(function(){A(F)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Sl}=dr;var Tl=function(F,A,N,ne,Ce,et){var Tt=Sl[N];if(!Tt)throw new Me(N);var tr=(!F.enabledTransports||Qn(F.enabledTransports,A)!==-1)&&(!F.disabledTransports||Qn(F.disabledTransports,A)===-1),Tr;return tr?(Ce=Object.assign({ignoreNullOrigin:F.ignoreNullOrigin},Ce),Tr=new au(A,ne,et?et.getAssistant(Tt):Tt,Ce)):Tr=El,Tr},El={isSupported:function(){return!1},connect:function(F,A){var N=gn.defer(function(){A(new C)});return{abort:function(){N.ensureAborted()},forceMinPriority:function(){}}}};function Ka(F){if(F==null)throw"You must pass an options object";if(F.cluster==null)throw"Options object must provide a cluster";"disableStats"in F&&Ve.warn("The disableStats option is deprecated in favor of enableStats")}const Cl=(F,A)=>{var N="socket_id="+encodeURIComponent(F.socketId);for(var ne in A.params)N+="&"+encodeURIComponent(ne)+"="+encodeURIComponent(A.params[ne]);if(A.paramsProvider!=null){let Ce=A.paramsProvider();for(var ne in Ce)N+="&"+encodeURIComponent(ne)+"="+encodeURIComponent(Ce[ne])}return N};var Hu=F=>{if(typeof dr.getAuthorizers()[F.transport]>"u")throw`'${F.transport}' is not a recognized auth transport`;return(A,N)=>{const ne=Cl(A,F);dr.getAuthorizers()[F.transport](dr,ne,F,re.UserAuthentication,N)}};const Ps=(F,A)=>{var N="socket_id="+encodeURIComponent(F.socketId);N+="&channel_name="+encodeURIComponent(F.channelName);for(var ne in A.params)N+="&"+encodeURIComponent(ne)+"="+encodeURIComponent(A.params[ne]);if(A.paramsProvider!=null){let Ce=A.paramsProvider();for(var ne in Ce)N+="&"+encodeURIComponent(ne)+"="+encodeURIComponent(Ce[ne])}return N};var y=F=>{if(typeof dr.getAuthorizers()[F.transport]>"u")throw`'${F.transport}' is not a recognized auth transport`;return(A,N)=>{const ne=Ps(A,F);dr.getAuthorizers()[F.transport](dr,ne,F,re.ChannelAuthorization,N)}};const b=(F,A,N)=>{const ne={authTransport:A.transport,authEndpoint:A.endpoint,auth:{params:A.params,headers:A.headers}};return(Ce,et)=>{const Tt=F.channel(Ce.channelName);N(Tt,ne).authorize(Ce.socketId,et)}};function I(F,A){let N={activityTimeout:F.activityTimeout||E.activityTimeout,cluster:F.cluster,httpPath:F.httpPath||E.httpPath,httpPort:F.httpPort||E.httpPort,httpsPort:F.httpsPort||E.httpsPort,pongTimeout:F.pongTimeout||E.pongTimeout,statsHost:F.statsHost||E.stats_host,unavailableTimeout:F.unavailableTimeout||E.unavailableTimeout,wsPath:F.wsPath||E.wsPath,wsPort:F.wsPort||E.wsPort,wssPort:F.wssPort||E.wssPort,enableStats:Le(F),httpHost:L(F),useTLS:Z(F),wsHost:j(F),userAuthenticator:Te(F),channelAuthorizer:st(F,A)};return"disabledTransports"in F&&(N.disabledTransports=F.disabledTransports),"enabledTransports"in F&&(N.enabledTransports=F.enabledTransports),"ignoreNullOrigin"in F&&(N.ignoreNullOrigin=F.ignoreNullOrigin),"timelineParams"in F&&(N.timelineParams=F.timelineParams),"nacl"in F&&(N.nacl=F.nacl),N}function L(F){return F.httpHost?F.httpHost:F.cluster?`sockjs-${F.cluster}.pusher.com`:E.httpHost}function j(F){return F.wsHost?F.wsHost:q(F.cluster)}function q(F){return`ws-${F}.pusher.com`}function Z(F){return dr.getProtocol()==="https:"?!0:F.forceTLS!==!1}function Le(F){return"enableStats"in F?F.enableStats:"disableStats"in F?!F.disableStats:!1}function Te(F){const A=Object.assign(Object.assign({},E.userAuthentication),F.userAuthentication);return"customHandler"in A&&A.customHandler!=null?A.customHandler:Hu(A)}function Ue(F,A){let N;return"channelAuthorization"in F?N=Object.assign(Object.assign({},E.channelAuthorization),F.channelAuthorization):(N={transport:F.authTransport||E.authTransport,endpoint:F.authEndpoint||E.authEndpoint},"auth"in F&&("params"in F.auth&&(N.params=F.auth.params),"headers"in F.auth&&(N.headers=F.auth.headers)),"authorizer"in F&&(N.customHandler=b(A,N,F.authorizer))),N}function st(F,A){const N=Ue(F,A);return"customHandler"in N&&N.customHandler!=null?N.customHandler:y(N)}class mt extends Wi{constructor(A){super(function(N,ne){Ve.debug(`No callbacks on watchlist events for ${N}`)}),this.pusher=A,this.bindWatchlistInternalEvent()}handleEvent(A){A.data.events.forEach(N=>{this.emit(N.name,N)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",A=>{var N=A.event;N==="pusher_internal:watchlist_events"&&this.handleEvent(A)})}}function Qe(){let F,A;return{promise:new Promise((ne,Ce)=>{F=ne,A=Ce}),resolve:F,reject:A}}var ft=Qe;class kr extends Wi{constructor(A){super(function(N,ne){Ve.debug("No callbacks on user for "+N)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(N,ne)=>{if(N){Ve.warn(`Error during signin: ${N}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:ne.auth,user_data:ne.user_data})},this.pusher=A,this.pusher.connection.bind("state_change",({previous:N,current:ne})=>{N!=="connected"&&ne==="connected"&&this._signin(),N==="connected"&&ne!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new mt(A),this.pusher.connection.bind("message",N=>{var ne=N.event;ne==="pusher:signin_success"&&this._onSigninSuccess(N.data),this.serverToUserChannel&&this.serverToUserChannel.name===N.channel&&this.serverToUserChannel.handleEvent(N)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(A){try{this.user_data=JSON.parse(A.user_data)}catch{Ve.error(`Failed parsing user data after signin: ${A.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ve.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const A=N=>{N.subscriptionPending&&N.subscriptionCancelled?N.reinstateSubscription():!N.subscriptionPending&&this.pusher.connection.state==="connected"&&N.subscribe()};this.serverToUserChannel=new It(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((N,ne)=>{N.indexOf("pusher_internal:")===0||N.indexOf("pusher:")===0||this.emit(N,ne)}),A(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:A,resolve:N,reject:ne}=ft();A.done=!1;const Ce=()=>{A.done=!0};A.then(Ce).catch(Ce),this.signinDonePromise=A,this._signinDoneResolve=N}}class vr{static ready(){vr.isReady=!0;for(var A=0,N=vr.instances.length;A<N;A++)vr.instances[A].connect()}static getClientFeatures(){return sn(vt({ws:dr.Transports.ws},function(A){return A.isSupported({})}))}constructor(A,N){_i(A),Ka(N),this.key=A,this.config=I(N,this),this.channels=Er.createChannels(),this.global_emitter=new Wi,this.sessionID=dr.randomInt(1e9),this.timeline=new wl(this.key,this.sessionID,{cluster:this.config.cluster,features:vr.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Mo.INFO,version:E.VERSION}),this.config.enableStats&&(this.timelineSender=Er.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+dr.TimelineTransport.name}));var ne=Ce=>dr.getDefaultStrategy(this.config,Ce,Tl);this.connection=Er.createConnectionManager(this.key,{getStrategy:ne,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",Ce=>{var et=Ce.event,Tt=et.indexOf("pusher_internal:")===0;if(Ce.channel){var tr=this.channel(Ce.channel);tr&&tr.handleEvent(Ce)}Tt||this.global_emitter.emit(Ce.event,Ce.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",Ce=>{Ve.warn(Ce)}),vr.instances.push(this),this.timeline.info({instances:vr.instances.length}),this.user=new kr(this),vr.isReady&&this.connect()}channel(A){return this.channels.find(A)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var A=this.connection.isUsingTLS(),N=this.timelineSender;this.timelineSenderTimer=new mi(6e4,function(){N.send(A)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(A,N,ne){return this.global_emitter.bind(A,N,ne),this}unbind(A,N,ne){return this.global_emitter.unbind(A,N,ne),this}bind_global(A){return this.global_emitter.bind_global(A),this}unbind_global(A){return this.global_emitter.unbind_global(A),this}unbind_all(A){return this.global_emitter.unbind_all(),this}subscribeAll(){var A;for(A in this.channels.channels)this.channels.channels.hasOwnProperty(A)&&this.subscribe(A)}subscribe(A){var N=this.channels.add(A,this);return N.subscriptionPending&&N.subscriptionCancelled?N.reinstateSubscription():!N.subscriptionPending&&this.connection.state==="connected"&&N.subscribe(),N}unsubscribe(A){var N=this.channels.find(A);N&&N.subscriptionPending?N.cancelSubscription():(N=this.channels.remove(A),N&&N.subscribed&&N.unsubscribe())}send_event(A,N,ne){return this.connection.send_event(A,N,ne)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}vr.instances=[],vr.isReady=!1,vr.logToConsole=!1,vr.Runtime=dr,vr.ScriptReceivers=dr.ScriptReceivers,vr.DependenciesReceivers=dr.DependenciesReceivers,vr.auth_callbacks=dr.auth_callbacks;var Or=c.default=vr;function _i(F){if(F==null)throw"You must pass your app key when you instantiate Pusher."}dr.setup(vr)}])})})(Fx);var _2=Fx.exports;const v2=jy(_2);/*! js-cookie v3.0.5 | MIT */function od(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var c in a)t[c]=a[c]}return t}var b2={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Jg(t,n){function a(p,m,o){if(!(typeof document>"u")){o=od({},n,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),p=encodeURIComponent(p).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var T="";for(var E in o)o[E]&&(T+="; "+E,o[E]!==!0&&(T+="="+o[E].split(";")[0]));return document.cookie=p+"="+t.write(m,p)+T}}function c(p){if(!(typeof document>"u"||arguments.length&&!p)){for(var m=document.cookie?document.cookie.split("; "):[],o={},T=0;T<m.length;T++){var E=m[T].split("="),M=E.slice(1).join("=");try{var R=decodeURIComponent(E[0]);if(o[R]=t.read(M,R),p===R)break}catch{}}return p?o[p]:o}}return Object.create({set:a,get:c,remove:function(p,m){a(p,"",od({},m,{expires:-1}))},withAttributes:function(p){return Jg(this.converter,od({},this.attributes,p))},withConverter:function(p){return Jg(od({},this.converter,p),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}var C0=Jg(b2,{path:"/"});function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Md(t)}function jo(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function x2(t,n){for(var a=0;a<n.length;a++){var c=n[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function qo(t,n,a){return n&&x2(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xf(){return Xf=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},Xf.apply(this,arguments)}function ls(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Qg(t,n)}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},Od(t)}function Qg(t,n){return Qg=Object.setPrototypeOf||function(c,p){return c.__proto__=p,c},Qg(t,n)}function w2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T2(t,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S2(t)}function us(t){var n=w2();return function(){var c=Od(t),p;if(n){var m=Od(this).constructor;p=Reflect.construct(c,arguments,m)}else p=c.apply(this,arguments);return T2(this,p)}}var qy=function(){function t(){jo(this,t)}return qo(t,[{key:"listenForWhisper",value:function(a,c){return this.listen(".client-"+a,c)}},{key:"notification",value:function(a){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",a)}},{key:"stopListeningForWhisper",value:function(a,c){return this.stopListening(".client-"+a,c)}}]),t}(),Bx=function(){function t(n){jo(this,t),this.namespace=n}return qo(t,[{key:"format",value:function(a){return[".","\\"].includes(a.charAt(0))?a.substring(1):(this.namespace&&(a=this.namespace+"."+a),a.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(a){this.namespace=a}}]),t}(),gm=function(t){ls(a,t);var n=us(a);function a(c,p,m){var o;return jo(this,a),o=n.call(this),o.name=p,o.pusher=c,o.options=m,o.eventFormatter=new Bx(o.options.namespace),o.subscribe(),o}return qo(a,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(p,m){return this.on(this.eventFormatter.format(p),m),this}},{key:"listenToAll",value:function(p){var m=this;return this.subscription.bind_global(function(o,T){if(!o.startsWith("pusher:")){var E=m.options.namespace.replace(/\./g,"\\"),M=o.startsWith(E)?o.substring(E.length+1):"."+o;p(M,T)}}),this}},{key:"stopListening",value:function(p,m){return m?this.subscription.unbind(this.eventFormatter.format(p),m):this.subscription.unbind(this.eventFormatter.format(p)),this}},{key:"stopListeningToAll",value:function(p){return p?this.subscription.unbind_global(p):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(p){return this.on("pusher:subscription_succeeded",function(){p()}),this}},{key:"error",value:function(p){return this.on("pusher:subscription_error",function(m){p(m)}),this}},{key:"on",value:function(p,m){return this.subscription.bind(p,m),this}}]),a}(qy),E2=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"whisper",value:function(p,m){return this.pusher.channels.channels[this.name].trigger("client-".concat(p),m),this}}]),a}(gm),C2=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"whisper",value:function(p,m){return this.pusher.channels.channels[this.name].trigger("client-".concat(p),m),this}}]),a}(gm),A2=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"here",value:function(p){return this.on("pusher:subscription_succeeded",function(m){p(Object.keys(m.members).map(function(o){return m.members[o]}))}),this}},{key:"joining",value:function(p){return this.on("pusher:member_added",function(m){p(m.info)}),this}},{key:"whisper",value:function(p,m){return this.pusher.channels.channels[this.name].trigger("client-".concat(p),m),this}},{key:"leaving",value:function(p){return this.on("pusher:member_removed",function(m){p(m.info)}),this}}]),a}(gm),Ux=function(t){ls(a,t);var n=us(a);function a(c,p,m){var o;return jo(this,a),o=n.call(this),o.events={},o.listeners={},o.name=p,o.socket=c,o.options=m,o.eventFormatter=new Bx(o.options.namespace),o.subscribe(),o}return qo(a,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(p,m){return this.on(this.eventFormatter.format(p),m),this}},{key:"stopListening",value:function(p,m){return this.unbindEvent(this.eventFormatter.format(p),m),this}},{key:"subscribed",value:function(p){return this.on("connect",function(m){p(m)}),this}},{key:"error",value:function(p){return this}},{key:"on",value:function(p,m){var o=this;return this.listeners[p]=this.listeners[p]||[],this.events[p]||(this.events[p]=function(T,E){o.name===T&&o.listeners[p]&&o.listeners[p].forEach(function(M){return M(E)})},this.socket.on(p,this.events[p])),this.listeners[p].push(m),this}},{key:"unbind",value:function(){var p=this;Object.keys(this.events).forEach(function(m){p.unbindEvent(m)})}},{key:"unbindEvent",value:function(p,m){this.listeners[p]=this.listeners[p]||[],m&&(this.listeners[p]=this.listeners[p].filter(function(o){return o!==m})),(!m||this.listeners[p].length===0)&&(this.events[p]&&(this.socket.removeListener(p,this.events[p]),delete this.events[p]),delete this.listeners[p])}}]),a}(qy),Vx=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"whisper",value:function(p,m){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(p),data:m}),this}}]),a}(Ux),I2=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"here",value:function(p){return this.on("presence:subscribed",function(m){p(m.map(function(o){return o.user_info}))}),this}},{key:"joining",value:function(p){return this.on("presence:joining",function(m){return p(m.user_info)}),this}},{key:"whisper",value:function(p,m){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(p),data:m}),this}},{key:"leaving",value:function(p){return this.on("presence:leaving",function(m){return p(m.user_info)}),this}}]),a}(Vx),Dd=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(p,m){return this}},{key:"listenToAll",value:function(p){return this}},{key:"stopListening",value:function(p,m){return this}},{key:"subscribed",value:function(p){return this}},{key:"error",value:function(p){return this}},{key:"on",value:function(p,m){return this}}]),a}(qy),A0=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"whisper",value:function(p,m){return this}}]),a}(Dd),k2=function(t){ls(a,t);var n=us(a);function a(){return jo(this,a),n.apply(this,arguments)}return qo(a,[{key:"here",value:function(p){return this}},{key:"joining",value:function(p){return this}},{key:"whisper",value:function(p,m){return this}},{key:"leaving",value:function(p){return this}}]),a}(Dd),Hy=function(){function t(n){jo(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(n),this.connect()}return qo(t,[{key:"setOptions",value:function(a){this.options=Xf(this._defaultOptions,a);var c=this.csrfToken();return c&&(this.options.auth.headers["X-CSRF-TOKEN"]=c,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=c),c=this.options.bearerToken,c&&(this.options.auth.headers.Authorization="Bearer "+c,this.options.userAuthentication.headers.Authorization="Bearer "+c),a}},{key:"csrfToken",value:function(){var a;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(a=document.querySelector('meta[name="csrf-token"]'))?a.getAttribute("content"):null}}]),t}(),I0=function(t){ls(a,t);var n=us(a);function a(){var c;return jo(this,a),c=n.apply(this,arguments),c.channels={},c}return qo(a,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(p,m,o){return this.channel(p).listen(m,o)}},{key:"channel",value:function(p){return this.channels[p]||(this.channels[p]=new gm(this.pusher,p,this.options)),this.channels[p]}},{key:"privateChannel",value:function(p){return this.channels["private-"+p]||(this.channels["private-"+p]=new E2(this.pusher,"private-"+p,this.options)),this.channels["private-"+p]}},{key:"encryptedPrivateChannel",value:function(p){return this.channels["private-encrypted-"+p]||(this.channels["private-encrypted-"+p]=new C2(this.pusher,"private-encrypted-"+p,this.options)),this.channels["private-encrypted-"+p]}},{key:"presenceChannel",value:function(p){return this.channels["presence-"+p]||(this.channels["presence-"+p]=new A2(this.pusher,"presence-"+p,this.options)),this.channels["presence-"+p]}},{key:"leave",value:function(p){var m=this,o=[p,"private-"+p,"private-encrypted-"+p,"presence-"+p];o.forEach(function(T,E){m.leaveChannel(T)})}},{key:"leaveChannel",value:function(p){this.channels[p]&&(this.channels[p].unsubscribe(),delete this.channels[p])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),a}(Hy),P2=function(t){ls(a,t);var n=us(a);function a(){var c;return jo(this,a),c=n.apply(this,arguments),c.channels={},c}return qo(a,[{key:"connect",value:function(){var p=this,m=this.getSocketIO();return this.socket=m(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(p.channels).forEach(function(o){o.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(p,m,o){return this.channel(p).listen(m,o)}},{key:"channel",value:function(p){return this.channels[p]||(this.channels[p]=new Ux(this.socket,p,this.options)),this.channels[p]}},{key:"privateChannel",value:function(p){return this.channels["private-"+p]||(this.channels["private-"+p]=new Vx(this.socket,"private-"+p,this.options)),this.channels["private-"+p]}},{key:"presenceChannel",value:function(p){return this.channels["presence-"+p]||(this.channels["presence-"+p]=new I2(this.socket,"presence-"+p,this.options)),this.channels["presence-"+p]}},{key:"leave",value:function(p){var m=this,o=[p,"private-"+p,"presence-"+p];o.forEach(function(T){m.leaveChannel(T)})}},{key:"leaveChannel",value:function(p){this.channels[p]&&(this.channels[p].unsubscribe(),delete this.channels[p])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),a}(Hy),L2=function(t){ls(a,t);var n=us(a);function a(){var c;return jo(this,a),c=n.apply(this,arguments),c.channels={},c}return qo(a,[{key:"connect",value:function(){}},{key:"listen",value:function(p,m,o){return new Dd}},{key:"channel",value:function(p){return new Dd}},{key:"privateChannel",value:function(p){return new A0}},{key:"encryptedPrivateChannel",value:function(p){return new A0}},{key:"presenceChannel",value:function(p){return new k2}},{key:"leave",value:function(p){}},{key:"leaveChannel",value:function(p){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),a}(Hy),R2=function(){function t(n){jo(this,t),this.options=n,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return qo(t,[{key:"channel",value:function(a){return this.connector.channel(a)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new I0(Xf(Xf({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new I0(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new P2(this.options);else if(this.options.broadcaster=="null")this.connector=new L2(this.options);else if(typeof this.options.broadcaster=="function")this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(Md(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(a){return this.connector.presenceChannel(a)}},{key:"leave",value:function(a){this.connector.leave(a)}},{key:"leaveChannel",value:function(a){this.connector.leaveChannel(a)}},{key:"leaveAllChannels",value:function(){for(var a in this.connector.channels)this.leaveChannel(a)}},{key:"listen",value:function(a,c,p){return this.connector.listen(a,c,p)}},{key:"private",value:function(a){return this.connector.privateChannel(a)}},{key:"encryptedPrivate",value:function(a){return this.connector.encryptedPrivateChannel(a)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":Md(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var a=this;Vue.http.interceptors.push(function(c,p){a.socketId()&&c.headers.set("X-Socket-ID",a.socketId()),p()})}},{key:"registerAxiosRequestInterceptor",value:function(){var a=this;axios.interceptors.request.use(function(c){return a.socketId()&&(c.headers["X-Socket-Id"]=a.socketId()),c})}},{key:"registerjQueryAjaxSetup",value:function(){var a=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(c,p,m){a.socketId()&&m.setRequestHeader("X-Socket-Id",a.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var a=this;document.addEventListener("turbo:before-fetch-request",function(c){c.detail.fetchOptions.headers["X-Socket-Id"]=a.socketId()})}}]),t}();window.Pusher=v2;let M2=location.origin;window.Echo=new R2({broadcaster:"pusher",key:"e60f840b9b1326941171",cluster:"mt1",forceTLS:!0,encrypted:!0,auth:{headers:{Authorization:`Bearer ${C0.get("token")}`}},authorizer:(t,n)=>({authorize:(a,c)=>{axios.post(M2+"/broadcasting/auth",{socket_id:a,channel_name:t.name},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${C0.get("token")}`,"Access-Control-Allow-Credentials":!0},withCredentials:!0}).then(p=>{c(!1,p.data)}).catch(p=>{c(!0,p)})}})});var jx={exports:{}};(function(t,n){(function(a,c){t.exports=c()})(zx,function(){var a,c,p;function m(o,T){if(!a)a=T;else if(!c)c=T;else{var E="var sharedChunk = {}; ("+a+")(sharedChunk); ("+c+")(sharedChunk);",M={};a(M),p=T(M),typeof window<"u"&&(p.workerUrl=window.URL.createObjectURL(new Blob([E],{type:"text/javascript"})))}}return m(["exports"],function(o){function T(e,r){return e(r={exports:{}},r.exports),r.exports}var E=M;function M(e,r,i,h){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(h-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=h,this.p2x=i,this.p2y=h}M.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},M.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},M.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},M.prototype.solveCurveX=function(e,r){var i,h,d,g,v;for(r===void 0&&(r=1e-6),d=e,v=0;v<8;v++){if(g=this.sampleCurveX(d)-e,Math.abs(g)<r)return d;var S=this.sampleCurveDerivativeX(d);if(Math.abs(S)<1e-6)break;d-=g/S}if((d=e)<(i=0))return i;if(d>(h=1))return h;for(;i<h;){if(g=this.sampleCurveX(d),Math.abs(g-e)<r)return d;e>g?i=d:h=d,d=.5*(h-i)+i}return d},M.prototype.solve=function(e,r){return this.sampleCurveY(this.solveCurveX(e,r))};var R=B;function B(e,r){this.x=e,this.y=r}B.prototype={clone:function(){return new B(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,r){return this.clone()._rotateAround(e,r)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var r=e.x-this.x,i=e.y-this.y;return r*r+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,r){return Math.atan2(this.x*r-this.y*e,this.x*e+this.y*r)},_matMult:function(e){var r=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var r=Math.cos(e),i=Math.sin(e),h=i*this.x+r*this.y;return this.x=r*this.x-i*this.y,this.y=h,this},_rotateAround:function(e,r){var i=Math.cos(e),h=Math.sin(e),d=r.y+h*(this.x-r.x)+i*(this.y-r.y);return this.x=r.x+i*(this.x-r.x)-h*(this.y-r.y),this.y=d,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},B.convert=function(e){return e instanceof B?e:Array.isArray(e)?new B(e[0],e[1]):e};var W=typeof self<"u"?self:{},ae=Math.pow(2,53)-1;function ee(e,r,i,h){var d=new E(e,r,i,h);return function(g){return d.solve(g)}}var re=ee(.25,.1,.25,1);function ue(e,r,i){return Math.min(i,Math.max(r,e))}function ce(e,r,i){var h=i-r,d=((e-r)%h+h)%h+r;return d===r?i:d}function Pe(e){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];for(var h=0,d=r;h<d.length;h+=1){var g=d[h];for(var v in g)e[v]=g[v]}return e}var Y=1;function se(){return Y++}function Se(){return function e(r){return r?(r^16*Math.random()>>r/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function Me(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function C(e,r){e.forEach(function(i){r[i]&&(r[i]=r[i].bind(r))})}function qe(e,r){return e.indexOf(r,e.length-r.length)!==-1}function we(e,r,i){var h={};for(var d in e)h[d]=r.call(i||this,e[d],d,e);return h}function Xe(e,r,i){var h={};for(var d in e)r.call(i||this,e[d],d,e)&&(h[d]=e[d]);return h}function xt(e){return Array.isArray(e)?e.map(xt):typeof e=="object"&&e?we(e,xt):e}var Ge={};function tt(e){Ge[e]||(typeof console<"u"&&console.warn(e),Ge[e]=!0)}function Ht(e,r,i){return(i.y-e.y)*(r.x-e.x)>(r.y-e.y)*(i.x-e.x)}function fr(e){for(var r=0,i=0,h=e.length,d=h-1,g=void 0,v=void 0;i<h;d=i++)r+=((v=e[d]).x-(g=e[i]).x)*(g.y+v.y);return r}function Lt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Jt(e){var r={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(h,d,g,v){var S=g||v;return r[d]=!S||S.toLowerCase(),""}),r["max-age"]){var i=parseInt(r["max-age"],10);isNaN(i)?delete r["max-age"]:r["max-age"]=i}return r}var Zt=null;function Zr(e){if(Zt==null){var r=e.navigator?e.navigator.userAgent:null;Zt=!!e.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return Zt}function Mn(e){try{var r=W[e];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}var Kr,Yr,mi,Ti,gn=W.performance&&W.performance.now?W.performance.now.bind(W.performance):Date.now.bind(Date),En=W.requestAnimationFrame||W.mozRequestAnimationFrame||W.webkitRequestAnimationFrame||W.msRequestAnimationFrame,On=W.cancelAnimationFrame||W.mozCancelAnimationFrame||W.webkitCancelAnimationFrame||W.msCancelAnimationFrame,Qn={now:gn,frame:function(e){var r=En(e);return{cancel:function(){return On(r)}}},getImageData:function(e,r){r===void 0&&(r=0);var i=W.document.createElement("canvas"),h=i.getContext("2d");if(!h)throw new Error("failed to create canvas 2d context");return i.width=e.width,i.height=e.height,h.drawImage(e,0,0,e.width,e.height),h.getImageData(-r,-r,e.width+2*r,e.height+2*r)},resolveURL:function(e){return Kr||(Kr=W.document.createElement("a")),Kr.href=e,Kr.href},hardwareConcurrency:W.navigator&&W.navigator.hardwareConcurrency||4,get devicePixelRatio(){return W.devicePixelRatio},get prefersReducedMotion(){return!!W.matchMedia&&(Yr==null&&(Yr=W.matchMedia("(prefers-reduced-motion: reduce)")),Yr.matches)}},Cr={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},sn={supported:!1,testSupport:function(e){!Mi&&Ti&&(_n?xe(e):mi=e)}},Mi=!1,_n=!1;function xe(e){var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,Ti),e.isContextLost())return;sn.supported=!0}catch{}e.deleteTexture(r),Mi=!0}W.document&&((Ti=W.document.createElement("img")).onload=function(){mi&&xe(mi),mi=null,_n=!0},Ti.onerror=function(){Mi=!0,mi=null},Ti.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var de="01",$e=function(e,r){this._transformRequestFn=e,this._customAccessToken=r,this._createSkuToken()};function vt(e){return e.indexOf("mapbox:")===0}$e.prototype._createSkuToken=function(){var e=function(){for(var r="",i=0;i<10;i++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",de,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},$e.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},$e.prototype.transformRequest=function(e,r){return this._transformRequestFn&&this._transformRequestFn(e,r)||{url:e}},$e.prototype.normalizeStyleURL=function(e,r){if(!vt(e))return e;var i=le(e);return i.path="/styles/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||r)},$e.prototype.normalizeGlyphsURL=function(e,r){if(!vt(e))return e;var i=le(e);return i.path="/fonts/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||r)},$e.prototype.normalizeSourceURL=function(e,r){if(!vt(e))return e;var i=le(e);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||r)},$e.prototype.normalizeSpriteURL=function(e,r,i,h){var d=le(e);return vt(e)?(d.path="/styles/v1"+d.path+"/sprite"+r+i,this._makeAPIURL(d,this._customAccessToken||h)):(d.path+=""+r+i,pe(d))},$e.prototype.normalizeTileURL=function(e,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!vt(e))return e;var i=le(e);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Qn.devicePixelRatio>=2||r===512?"@2x":"")+(sn.supported?".webp":"$1")),i.path=i.path.replace(/^.+\/v4\//,"/"),i.path="/v4"+i.path;var h=this._customAccessToken||function(d){for(var g=0,v=d;g<v.length;g+=1){var S=v[g].match(/^access_token=(.*)$/);if(S)return S[1]}return null}(i.params)||Cr.ACCESS_TOKEN;return Cr.REQUIRE_ACCESS_TOKEN&&h&&this._skuToken&&i.params.push("sku="+this._skuToken),this._makeAPIURL(i,h)},$e.prototype.canonicalizeTileURL=function(e,r){var i=le(e);if(!i.path.match(/(^\/v4\/)/)||!i.path.match(/\.[\w]+$/))return e;var h="mapbox://tiles/";h+=i.path.replace("/v4/","");var d=i.params;return r&&(d=d.filter(function(g){return!g.match(/^access_token=/)})),d.length&&(h+="?"+d.join("&")),h},$e.prototype.canonicalizeTileset=function(e,r){for(var i=!!r&&vt(r),h=[],d=0,g=e.tiles||[];d<g.length;d+=1){var v=g[d];dt(v)?h.push(this.canonicalizeTileURL(v,i)):h.push(v)}return h},$e.prototype._makeAPIURL=function(e,r){var i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",h=le(Cr.API_URL);if(e.protocol=h.protocol,e.authority=h.authority,e.protocol==="http"){var d=e.params.indexOf("secure");d>=0&&e.params.splice(d,1)}if(h.path!=="/"&&(e.path=""+h.path+e.path),!Cr.REQUIRE_ACCESS_TOKEN)return pe(e);if(!(r=r||Cr.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+i);if(r[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+i);return e.params=e.params.filter(function(g){return g.indexOf("access_token")===-1}),e.params.push("access_token="+r),pe(e)};var bt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function dt(e){return bt.test(e)}var Ft=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function le(e){var r=e.match(Ft);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function pe(e){var r=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+r}function Ne(e){if(!e)return null;var r=e.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(decodeURIComponent(W.atob(r[1]).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var ht=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ht.prototype.getStorageKey=function(e){var r,i=Ne(Cr.ACCESS_TOKEN);return r=i&&i.u?W.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,function(h,d){return String.fromCharCode(+("0x"+d))})):Cr.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+r:"mapbox.eventData:"+r},ht.prototype.fetchEventData=function(){var e=Mn("localStorage"),r=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{var h=W.localStorage.getItem(r);h&&(this.eventData=JSON.parse(h));var d=W.localStorage.getItem(i);d&&(this.anonId=d)}catch{tt("Unable to read from LocalStorage")}},ht.prototype.saveEventData=function(){var e=Mn("localStorage"),r=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{W.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&W.localStorage.setItem(r,JSON.stringify(this.eventData))}catch{tt("Unable to write to LocalStorage")}},ht.prototype.processRequests=function(e){},ht.prototype.postEvent=function(e,r,i,h){var d=this;if(Cr.EVENTS_URL){var g=le(Cr.EVENTS_URL);g.params.push("access_token="+(h||Cr.ACCESS_TOKEN||""));var v={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:de,userId:this.anonId},S=r?Pe(v,r):v,P={url:pe(g),headers:{"Content-Type":"text/plain"},body:JSON.stringify([S])};this.pendingRequest=tn(P,function(O){d.pendingRequest=null,i(O),d.saveEventData(),d.processRequests(h)})}},ht.prototype.queueRequest=function(e,r){this.queue.push(e),this.processRequests(r)};var wt,Ve,Be=function(e){function r(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.postMapLoadEvent=function(i,h,d,g){this.skuToken=d;var v=!(!g&&!Cr.ACCESS_TOKEN),S=Array.isArray(i)&&i.some(function(P){return vt(P)||dt(P)});Cr.EVENTS_URL&&v&&S&&this.queueRequest({id:h,timestamp:Date.now()},g)},r.prototype.processRequests=function(i){var h=this;if(!this.pendingRequest&&this.queue.length!==0){var d=this.queue.shift(),g=d.id,v=d.timestamp;g&&this.success[g]||(this.anonId||this.fetchEventData(),Me(this.anonId)||(this.anonId=Se()),this.postEvent(v,{skuToken:this.skuToken},function(S){S||g&&(h.success[g]=!0)},i))}},r}(ht),lt=new(function(e){function r(i){e.call(this,"appUserTurnstile"),this._customAccessToken=i}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.postTurnstileEvent=function(i,h){Cr.EVENTS_URL&&Cr.ACCESS_TOKEN&&Array.isArray(i)&&i.some(function(d){return vt(d)||dt(d)})&&this.queueRequest(Date.now(),h)},r.prototype.processRequests=function(i){var h=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var d=Ne(Cr.ACCESS_TOKEN),g=d?d.u:Cr.ACCESS_TOKEN,v=g!==this.eventData.tokenU;Me(this.anonId)||(this.anonId=Se(),v=!0);var S=this.queue.shift();if(this.eventData.lastSuccess){var P=new Date(this.eventData.lastSuccess),O=new Date(S),z=(S-this.eventData.lastSuccess)/864e5;v=v||z>=1||z<-1||P.getDate()!==O.getDate()}else v=!0;if(!v)return this.processRequests();this.postEvent(S,{"enabled.telemetry":!1},function(V){V||(h.eventData.lastSuccess=S,h.eventData.tokenU=g)},i)}},r}(ht)),hr=lt.postTurnstileEvent.bind(lt),pr=new Be,wn=pr.postMapLoadEvent.bind(pr),Sn=500,Ln=50;function pn(){W.caches&&!wt&&(wt=W.caches.open("mapbox-tiles"))}function ei(e){var r=e.indexOf("?");return r<0?e:e.slice(0,r)}var Hi,si=1/0;function li(){return Hi==null&&(Hi=W.OffscreenCanvas&&new W.OffscreenCanvas(1,1).getContext("2d")&&typeof W.createImageBitmap=="function"),Hi}var ba={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ba);var Ha=function(e){function r(i,h,d){h===401&&dt(d)&&(i+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,i),this.status=h,this.url=d,this.name=this.constructor.name,this.message=i}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},r}(Error),Wi=Lt()?function(){return self.worker&&self.worker.referrer}:function(){return(W.location.protocol==="blob:"?W.parent:W).location.href},eo,gi,Wa=function(e,r){if(!(/^file:/.test(i=e.url)||/^file:/.test(Wi())&&!/^\w+:/.test(i))){if(W.fetch&&W.Request&&W.AbortController&&W.Request.prototype.hasOwnProperty("signal"))return function(h,d){var g,v=new W.AbortController,S=new W.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:Wi(),signal:v.signal}),P=!1,O=!1,z=(g=S.url).indexOf("sku=")>0&&dt(g);h.type==="json"&&S.headers.set("Accept","application/json");var V=function(K,fe,ge){if(!O){if(K&&K.message!=="SecurityError"&&tt(K),fe&&ge)return G(fe);var Re=Date.now();W.fetch(S).then(function(Ee){if(Ee.ok){var Fe=z?Ee.clone():null;return G(Ee,Fe,Re)}return d(new Ha(Ee.statusText,Ee.status,h.url))}).catch(function(Ee){Ee.code!==20&&d(new Error(Ee.message))})}},G=function(K,fe,ge){(h.type==="arrayBuffer"?K.arrayBuffer():h.type==="json"?K.json():K.text()).then(function(Re){O||(fe&&ge&&function(Ee,Fe,We){if(pn(),wt){var Ze={status:Fe.status,statusText:Fe.statusText,headers:new W.Headers};Fe.headers.forEach(function(ut,Et){return Ze.headers.set(Et,ut)});var Je=Jt(Fe.headers.get("Cache-Control")||"");Je["no-store"]||(Je["max-age"]&&Ze.headers.set("Expires",new Date(We+1e3*Je["max-age"]).toUTCString()),new Date(Ze.headers.get("Expires")).getTime()-We<42e4||function(ut,Et){if(Ve===void 0)try{new Response(new ReadableStream),Ve=!0}catch{Ve=!1}Ve?Et(ut.body):ut.blob().then(Et)}(Fe,function(ut){var Et=new W.Response(ut,Ze);pn(),wt&&wt.then(function(Pt){return Pt.put(ei(Ee.url),Et)}).catch(function(Pt){return tt(Pt.message)})}))}}(S,fe,ge),P=!0,d(null,Re,K.headers.get("Cache-Control"),K.headers.get("Expires")))}).catch(function(Re){O||d(new Error(Re.message))})};return z?function(K,fe){if(pn(),!wt)return fe(null);var ge=ei(K.url);wt.then(function(Re){Re.match(ge).then(function(Ee){var Fe=function(We){if(!We)return!1;var Ze=new Date(We.headers.get("Expires")||0),Je=Jt(We.headers.get("Cache-Control")||"");return Ze>Date.now()&&!Je["no-cache"]}(Ee);Re.delete(ge),Fe&&Re.put(ge,Ee.clone()),fe(null,Ee,Fe)}).catch(fe)}).catch(fe)}(S,V):V(null,null),{cancel:function(){O=!0,P||v.abort()}}}(e,r);if(Lt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,r,void 0,!0)}var i;return function(h,d){var g=new W.XMLHttpRequest;for(var v in g.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(g.responseType="arraybuffer"),h.headers)g.setRequestHeader(v,h.headers[v]);return h.type==="json"&&(g.responseType="text",g.setRequestHeader("Accept","application/json")),g.withCredentials=h.credentials==="include",g.onerror=function(){d(new Error(g.statusText))},g.onload=function(){if((g.status>=200&&g.status<300||g.status===0)&&g.response!==null){var S=g.response;if(h.type==="json")try{S=JSON.parse(g.response)}catch(P){return d(P)}d(null,S,g.getResponseHeader("Cache-Control"),g.getResponseHeader("Expires"))}else d(new Ha(g.statusText,g.status,h.url))},g.send(h.body),{cancel:function(){return g.abort()}}}(e,r)},$a=function(e,r){return Wa(Pe(e,{type:"arrayBuffer"}),r)},tn=function(e,r){return Wa(Pe(e,{method:"POST"}),r)},U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";eo=[],gi=0;var $=function(e,r){if(sn.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),gi>=Cr.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:e,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return eo.push(i),i}gi++;var h=!1,d=function(){if(!h)for(h=!0,gi--;eo.length&&gi<Cr.MAX_PARALLEL_IMAGE_REQUESTS;){var v=eo.shift();v.cancelled||(v.cancel=$(v.requestParameters,v.callback).cancel)}},g=$a(e,function(v,S,P,O){d(),v?r(v):S&&(li()?function(z,V){var G=new W.Blob([new Uint8Array(z)],{type:"image/png"});W.createImageBitmap(G).then(function(K){V(null,K)}).catch(function(K){V(new Error("Could not load image because of "+K.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(S,r):function(z,V,G,K){var fe=new W.Image,ge=W.URL;fe.onload=function(){V(null,fe),ge.revokeObjectURL(fe.src),fe.onload=null,W.requestAnimationFrame(function(){fe.src=U})},fe.onerror=function(){return V(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Re=new W.Blob([new Uint8Array(z)],{type:"image/png"});fe.cacheControl=G,fe.expires=K,fe.src=z.byteLength?ge.createObjectURL(Re):U}(S,r,P,O))});return{cancel:function(){g.cancel(),d()}}};function X(e,r,i){i[e]&&i[e].indexOf(r)!==-1||(i[e]=i[e]||[],i[e].push(r))}function oe(e,r,i){if(i&&i[e]){var h=i[e].indexOf(r);h!==-1&&i[e].splice(h,1)}}var me=function(e,r){r===void 0&&(r={}),Pe(this,r),this.type=e},ke=function(e){function r(i,h){h===void 0&&(h={}),e.call(this,"error",Pe({error:i},h))}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r}(me),Oe=function(){};Oe.prototype.on=function(e,r){return this._listeners=this._listeners||{},X(e,r,this._listeners),this},Oe.prototype.off=function(e,r){return oe(e,r,this._listeners),oe(e,r,this._oneTimeListeners),this},Oe.prototype.once=function(e,r){return this._oneTimeListeners=this._oneTimeListeners||{},X(e,r,this._oneTimeListeners),this},Oe.prototype.fire=function(e,r){typeof e=="string"&&(e=new me(e,r||{}));var i=e.type;if(this.listens(i)){e.target=this;for(var h=0,d=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];h<d.length;h+=1)d[h].call(this,e);for(var g=0,v=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];g<v.length;g+=1){var S=v[g];oe(i,S,this._oneTimeListeners),S.call(this,e)}var P=this._eventedParent;P&&(Pe(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(e))}else e instanceof ke&&console.error(e.error);return this},Oe.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Oe.prototype.setEventedParent=function(e,r){return this._eventedParent=e,this._eventedParentData=r,this};var Q={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},be=function(e,r,i,h){this.message=(e?e+": ":"")+i,h&&(this.identifier=h),r!=null&&r.__line__&&(this.line=r.__line__)};function je(e){var r=e.value;return r?[new be(e.key,r,"constants have been deprecated as of v8")]:[]}function gt(e){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];for(var h=0,d=r;h<d.length;h+=1){var g=d[h];for(var v in g)e[v]=g[v]}return e}function St(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function rt(e){if(Array.isArray(e))return e.map(rt);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var r={};for(var i in e)r[i]=rt(e[i]);return r}return St(e)}var _t=function(e){function r(i,h){e.call(this,h),this.message=h,this.key=i}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r}(Error),Wt=function(e,r){r===void 0&&(r=[]),this.parent=e,this.bindings={};for(var i=0,h=r;i<h.length;i+=1){var d=h[i];this.bindings[d[0]]=d[1]}};Wt.prototype.concat=function(e){return new Wt(this,e)},Wt.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Wt.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Dt={kind:"null"},it={kind:"number"},Rt={kind:"string"},kt={kind:"boolean"},It={kind:"color"},Sr={kind:"object"},Mt={kind:"value"},Nr={kind:"collator"},yn={kind:"formatted"},Ar={kind:"resolvedImage"};function qr(e,r){return{kind:"array",itemType:e,N:r}}function Fr(e){if(e.kind==="array"){var r=Fr(e.itemType);return typeof e.N=="number"?"array<"+r+", "+e.N+">":e.itemType.kind==="value"?"array":"array<"+r+">"}return e.kind}var Ei=[Dt,it,Rt,kt,It,yn,Sr,qr(Mt),Ar];function rn(e,r){if(r.kind==="error")return null;if(e.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!rn(e.itemType,r.itemType))&&(typeof e.N!="number"||e.N===r.N))return null}else{if(e.kind===r.kind)return null;if(e.kind==="value"){for(var i=0,h=Ei;i<h.length;i+=1)if(!rn(h[i],r))return null}}return"Expected "+Fr(e)+" but found "+Fr(r)+" instead."}function Vn(e,r){return r.some(function(i){return i.kind===e.kind})}function ln(e,r){return r.some(function(i){return i==="null"?e===null:i==="array"?Array.isArray(e):i==="object"?e&&!Array.isArray(e)&&typeof e=="object":i===typeof e})}var Er=T(function(e,r){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function h(S){return(S=Math.round(S))<0?0:S>255?255:S}function d(S){return h(S[S.length-1]==="%"?parseFloat(S)/100*255:parseInt(S))}function g(S){return(P=S[S.length-1]==="%"?parseFloat(S)/100:parseFloat(S))<0?0:P>1?1:P;var P}function v(S,P,O){return O<0?O+=1:O>1&&(O-=1),6*O<1?S+(P-S)*O*6:2*O<1?P:3*O<2?S+(P-S)*(2/3-O)*6:S}try{r.parseCSSColor=function(S){var P,O=S.replace(/ /g,"").toLowerCase();if(O in i)return i[O].slice();if(O[0]==="#")return O.length===4?(P=parseInt(O.substr(1),16))>=0&&P<=4095?[(3840&P)>>4|(3840&P)>>8,240&P|(240&P)>>4,15&P|(15&P)<<4,1]:null:O.length===7&&(P=parseInt(O.substr(1),16))>=0&&P<=16777215?[(16711680&P)>>16,(65280&P)>>8,255&P,1]:null;var z=O.indexOf("("),V=O.indexOf(")");if(z!==-1&&V+1===O.length){var G=O.substr(0,z),K=O.substr(z+1,V-(z+1)).split(","),fe=1;switch(G){case"rgba":if(K.length!==4)return null;fe=g(K.pop());case"rgb":return K.length!==3?null:[d(K[0]),d(K[1]),d(K[2]),fe];case"hsla":if(K.length!==4)return null;fe=g(K.pop());case"hsl":if(K.length!==3)return null;var ge=(parseFloat(K[0])%360+360)%360/360,Re=g(K[1]),Ee=g(K[2]),Fe=Ee<=.5?Ee*(Re+1):Ee+Re-Ee*Re,We=2*Ee-Fe;return[h(255*v(We,Fe,ge+1/3)),h(255*v(We,Fe,ge)),h(255*v(We,Fe,ge-1/3)),fe];default:return null}}return null}}catch{}}).parseCSSColor,Xr=function(e,r,i,h){h===void 0&&(h=1),this.r=e,this.g=r,this.b=i,this.a=h};Xr.parse=function(e){if(e){if(e instanceof Xr)return e;if(typeof e=="string"){var r=Er(e);if(r)return new Xr(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3])}}},Xr.prototype.toString=function(){var e=this.toArray(),r=e[1],i=e[2],h=e[3];return"rgba("+Math.round(e[0])+","+Math.round(r)+","+Math.round(i)+","+h+")"},Xr.prototype.toArray=function(){var e=this.a;return e===0?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},Xr.black=new Xr(0,0,0,1),Xr.white=new Xr(1,1,1,1),Xr.transparent=new Xr(0,0,0,0),Xr.red=new Xr(1,0,0,1);var $n=function(e,r,i){this.sensitivity=e?r?"variant":"case":r?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};$n.prototype.compare=function(e,r){return this.collator.compare(e,r)},$n.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var xa=function(e,r,i,h,d){this.text=e,this.image=r,this.scale=i,this.fontStack=h,this.textColor=d},Kn=function(e){this.sections=e};Kn.fromString=function(e){return new Kn([new xa(e,null,null,null,null)])},Kn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(e){return e.text.length!==0||e.image&&e.image.name.length!==0})},Kn.factory=function(e){return e instanceof Kn?e:Kn.fromString(e)},Kn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(e){return e.text}).join("")},Kn.prototype.serialize=function(){for(var e=["format"],r=0,i=this.sections;r<i.length;r+=1){var h=i[r];if(h.image)e.push(["image",h.image.name]);else{e.push(h.text);var d={};h.fontStack&&(d["text-font"]=["literal",h.fontStack.split(",")]),h.scale&&(d["font-scale"]=h.scale),h.textColor&&(d["text-color"]=["rgba"].concat(h.textColor.toArray())),e.push(d)}}return e};var Oi=function(e){this.name=e.name,this.available=e.available};function Di(e,r,i,h){return typeof e=="number"&&e>=0&&e<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof i=="number"&&i>=0&&i<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:"Invalid rgba value ["+[e,r,i,h].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof h=="number"?[e,r,i,h]:[e,r,i]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Ho(e){if(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e instanceof Xr||e instanceof $n||e instanceof Kn||e instanceof Oi)return!0;if(Array.isArray(e)){for(var r=0,i=e;r<i.length;r+=1)if(!Ho(i[r]))return!1;return!0}if(typeof e=="object"){for(var h in e)if(!Ho(e[h]))return!1;return!0}return!1}function Cn(e){if(e===null)return Dt;if(typeof e=="string")return Rt;if(typeof e=="boolean")return kt;if(typeof e=="number")return it;if(e instanceof Xr)return It;if(e instanceof $n)return Nr;if(e instanceof Kn)return yn;if(e instanceof Oi)return Ar;if(Array.isArray(e)){for(var r,i=e.length,h=0,d=e;h<d.length;h+=1){var g=Cn(d[h]);if(r){if(r===g)continue;r=Mt;break}r=g}return qr(r||Mt,i)}return Sr}function As(e){var r=typeof e;return e===null?"":r==="string"||r==="number"||r==="boolean"?String(e):e instanceof Xr||e instanceof Kn||e instanceof Oi?e.toString():JSON.stringify(e)}Oi.prototype.toString=function(){return this.name},Oi.fromString=function(e){return e?new Oi({name:e,available:!1}):null},Oi.prototype.serialize=function(){return["image",this.name]};var Ni=function(e,r){this.type=e,this.value=r};Ni.parse=function(e,r){if(e.length!==2)return r.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!Ho(e[1]))return r.error("invalid value");var i=e[1],h=Cn(i),d=r.expectedType;return h.kind!=="array"||h.N!==0||!d||d.kind!=="array"||typeof d.N=="number"&&d.N!==0||(h=d),new Ni(h,i)},Ni.prototype.evaluate=function(){return this.value},Ni.prototype.eachChild=function(){},Ni.prototype.outputDefined=function(){return!0},Ni.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Xr?["rgba"].concat(this.value.toArray()):this.value instanceof Kn?this.value.serialize():this.value};var Gn=function(e){this.name="ExpressionEvaluationError",this.message=e};Gn.prototype.toJSON=function(){return this.message};var zi={string:Rt,number:it,boolean:kt,object:Sr},un=function(e,r){this.type=e,this.args=r};un.parse=function(e,r){if(e.length<2)return r.error("Expected at least one argument.");var i,h=1,d=e[0];if(d==="array"){var g,v;if(e.length>2){var S=e[1];if(typeof S!="string"||!(S in zi)||S==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);g=zi[S],h++}else g=Mt;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return r.error('The length argument to "array" must be a positive integer literal',2);v=e[2],h++}i=qr(g,v)}else i=zi[d];for(var P=[];h<e.length;h++){var O=r.parse(e[h],h,Mt);if(!O)return null;P.push(O)}return new un(i,P)},un.prototype.evaluate=function(e){for(var r=0;r<this.args.length;r++){var i=this.args[r].evaluate(e);if(!rn(this.type,Cn(i)))return i;if(r===this.args.length-1)throw new Gn("Expected value to be of type "+Fr(this.type)+", but found "+Fr(Cn(i))+" instead.")}return null},un.prototype.eachChild=function(e){this.args.forEach(e)},un.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},un.prototype.serialize=function(){var e=this.type,r=[e.kind];if(e.kind==="array"){var i=e.itemType;if(i.kind==="string"||i.kind==="number"||i.kind==="boolean"){r.push(i.kind);var h=e.N;(typeof h=="number"||this.args.length>1)&&r.push(h)}}return r.concat(this.args.map(function(d){return d.serialize()}))};var bo=function(e){this.type=yn,this.sections=e};bo.parse=function(e,r){if(e.length<2)return r.error("Expected at least one argument.");var i=e[1];if(!Array.isArray(i)&&typeof i=="object")return r.error("First argument must be an image or text section.");for(var h=[],d=!1,g=1;g<=e.length-1;++g){var v=e[g];if(d&&typeof v=="object"&&!Array.isArray(v)){d=!1;var S=null;if(v["font-scale"]&&!(S=r.parse(v["font-scale"],1,it)))return null;var P=null;if(v["text-font"]&&!(P=r.parse(v["text-font"],1,qr(Rt))))return null;var O=null;if(v["text-color"]&&!(O=r.parse(v["text-color"],1,It)))return null;var z=h[h.length-1];z.scale=S,z.font=P,z.textColor=O}else{var V=r.parse(e[g],1,Mt);if(!V)return null;var G=V.type.kind;if(G!=="string"&&G!=="value"&&G!=="null"&&G!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");d=!0,h.push({content:V,scale:null,font:null,textColor:null})}}return new bo(h)},bo.prototype.evaluate=function(e){return new Kn(this.sections.map(function(r){var i=r.content.evaluate(e);return Cn(i)===Ar?new xa("",i,null,null,null):new xa(As(i),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null)}))},bo.prototype.eachChild=function(e){for(var r=0,i=this.sections;r<i.length;r+=1){var h=i[r];e(h.content),h.scale&&e(h.scale),h.font&&e(h.font),h.textColor&&e(h.textColor)}},bo.prototype.outputDefined=function(){return!1},bo.prototype.serialize=function(){for(var e=["format"],r=0,i=this.sections;r<i.length;r+=1){var h=i[r];e.push(h.content.serialize());var d={};h.scale&&(d["font-scale"]=h.scale.serialize()),h.font&&(d["text-font"]=h.font.serialize()),h.textColor&&(d["text-color"]=h.textColor.serialize()),e.push(d)}return e};var Ci=function(e){this.type=Ar,this.input=e};Ci.parse=function(e,r){if(e.length!==2)return r.error("Expected two arguments.");var i=r.parse(e[1],1,Rt);return i?new Ci(i):r.error("No image name provided.")},Ci.prototype.evaluate=function(e){var r=this.input.evaluate(e),i=Oi.fromString(r);return i&&e.availableImages&&(i.available=e.availableImages.indexOf(r)>-1),i},Ci.prototype.eachChild=function(e){e(this.input)},Ci.prototype.outputDefined=function(){return!1},Ci.prototype.serialize=function(){return["image",this.input.serialize()]};var nu={"to-boolean":kt,"to-color":It,"to-number":it,"to-string":Rt},Zn=function(e,r){this.type=e,this.args=r};Zn.parse=function(e,r){if(e.length<2)return r.error("Expected at least one argument.");var i=e[0];if((i==="to-boolean"||i==="to-string")&&e.length!==2)return r.error("Expected one argument.");for(var h=nu[i],d=[],g=1;g<e.length;g++){var v=r.parse(e[g],g,Mt);if(!v)return null;d.push(v)}return new Zn(h,d)},Zn.prototype.evaluate=function(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){for(var r,i,h=0,d=this.args;h<d.length;h+=1){if(i=null,(r=d[h].evaluate(e))instanceof Xr)return r;if(typeof r=="string"){var g=e.parseColor(r);if(g)return g}else if(Array.isArray(r)&&!(i=r.length<3||r.length>4?"Invalid rbga value "+JSON.stringify(r)+": expected an array containing either three or four numeric values.":Di(r[0],r[1],r[2],r[3])))return new Xr(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new Gn(i||"Could not parse color from value '"+(typeof r=="string"?r:String(JSON.stringify(r)))+"'")}if(this.type.kind==="number"){for(var v=null,S=0,P=this.args;S<P.length;S+=1){if((v=P[S].evaluate(e))===null)return 0;var O=Number(v);if(!isNaN(O))return O}throw new Gn("Could not convert "+JSON.stringify(v)+" to number.")}return this.type.kind==="formatted"?Kn.fromString(As(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?Oi.fromString(As(this.args[0].evaluate(e))):As(this.args[0].evaluate(e))},Zn.prototype.eachChild=function(e){this.args.forEach(e)},Zn.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},Zn.prototype.serialize=function(){if(this.type.kind==="formatted")return new bo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ci(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(r){e.push(r.serialize())}),e};var iu=["Unknown","Point","LineString","Polygon"],uo=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};uo.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},uo.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?iu[this.feature.type]:this.feature.type:null},uo.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},uo.prototype.canonicalID=function(){return this.canonical},uo.prototype.properties=function(){return this.feature&&this.feature.properties||{}},uo.prototype.parseColor=function(e){var r=this._parseColorCache[e];return r||(r=this._parseColorCache[e]=Xr.parse(e)),r};var yi=function(e,r,i,h){this.name=e,this.type=r,this._evaluate=i,this.args=h};yi.prototype.evaluate=function(e){return this._evaluate(e,this.args)},yi.prototype.eachChild=function(e){this.args.forEach(e)},yi.prototype.outputDefined=function(){return!1},yi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},yi.parse=function(e,r){var i,h=e[0],d=yi.definitions[h];if(!d)return r.error('Unknown expression "'+h+'". If you wanted a literal array, use ["literal", [...]].',0);for(var g=Array.isArray(d)?d[0]:d.type,v=Array.isArray(d)?[[d[1],d[2]]]:d.overloads,S=v.filter(function(or){var Ut=or[0];return!Array.isArray(Ut)||Ut.length===e.length-1}),P=null,O=0,z=S;O<z.length;O+=1){var V=z[O],G=V[0],K=V[1];P=new Ta(r.registry,r.path,null,r.scope);for(var fe=[],ge=!1,Re=1;Re<e.length;Re++){var Ee=e[Re],Fe=Array.isArray(G)?G[Re-1]:G.type,We=P.parse(Ee,1+fe.length,Fe);if(!We){ge=!0;break}fe.push(We)}if(!ge)if(Array.isArray(G)&&G.length!==fe.length)P.error("Expected "+G.length+" arguments, but found "+fe.length+" instead.");else{for(var Ze=0;Ze<fe.length;Ze++){var Je=Array.isArray(G)?G[Ze]:G.type,ut=fe[Ze];P.concat(Ze+1).checkSubtype(Je,ut.type)}if(P.errors.length===0)return new yi(h,g,K,fe)}}if(S.length===1)(i=r.errors).push.apply(i,P.errors);else{for(var Et=(S.length?S:v).map(function(or){var Ut;return Ut=or[0],Array.isArray(Ut)?"("+Ut.map(Fr).join(", ")+")":"("+Fr(Ut.type)+"...)"}).join(" | "),Pt=[],Qt=1;Qt<e.length;Qt++){var zt=r.parse(e[Qt],1+Pt.length);if(!zt)return null;Pt.push(Fr(zt.type))}r.error("Expected arguments of type "+Et+", but found ("+Pt.join(", ")+") instead.")}return null},yi.register=function(e,r){for(var i in yi.definitions=r,r)e[i]=yi};var Wo=function(e,r,i){this.type=Nr,this.locale=i,this.caseSensitive=e,this.diacriticSensitive=r};function Xn(e,r){e[0]=Math.min(e[0],r[0]),e[1]=Math.min(e[1],r[1]),e[2]=Math.max(e[2],r[0]),e[3]=Math.max(e[3],r[1])}function $i(e,r){return!(e[0]<=r[0]||e[2]>=r[2]||e[1]<=r[1]||e[3]>=r[3])}function ua(e,r){var i=(180+e[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,d=Math.pow(2,r.z);return[Math.round(i*d*8192),Math.round(h*d*8192)]}function qu(e,r,i){return r[1]>e[1]!=i[1]>e[1]&&e[0]<(i[0]-r[0])*(e[1]-r[1])/(i[1]-r[1])+r[0]}function Ga(e,r){for(var i,h,d,g,v,S,P,O=!1,z=0,V=r.length;z<V;z++)for(var G=r[z],K=0,fe=G.length;K<fe-1;K++){if((g=(i=e)[0]-(h=G[K])[0])*(P=i[1]-(d=G[K+1])[1])-(S=i[0]-d[0])*(v=i[1]-h[1])==0&&g*S<=0&&v*P<=0)return!1;qu(e,G[K],G[K+1])&&(O=!O)}return O}function ou(e,r){for(var i=0;i<r.length;i++)if(Ga(e,r[i]))return!0;return!1}function $s(e,r,i,h){var d=h[0]-i[0],g=h[1]-i[1],v=(e[0]-i[0])*g-d*(e[1]-i[1]),S=(r[0]-i[0])*g-d*(r[1]-i[1]);return v>0&&S<0||v<0&&S>0}function _l(e,r,i){for(var h=0,d=i;h<d.length;h+=1)for(var g=d[h],v=0;v<g.length-1;++v)if((V=[(z=g[v+1])[0]-(O=g[v])[0],z[1]-O[1]])[0]*(G=[(P=r)[0]-(S=e)[0],P[1]-S[1]])[1]-V[1]*G[0]!=0&&$s(S,P,O,z)&&$s(O,z,S,P))return!0;var S,P,O,z,V,G;return!1}function vl(e,r){for(var i=0;i<e.length;++i)if(!Ga(e[i],r))return!1;for(var h=0;h<e.length-1;++h)if(_l(e[h],e[h+1],r))return!1;return!0}function bl(e,r){for(var i=0;i<r.length;i++)if(vl(e,r[i]))return!0;return!1}function Za(e,r,i){for(var h=[],d=0;d<e.length;d++){for(var g=[],v=0;v<e[d].length;v++){var S=ua(e[d][v],i);Xn(r,S),g.push(S)}h.push(g)}return h}function xl(e,r,i){for(var h=[],d=0;d<e.length;d++){var g=Za(e[d],r,i);h.push(g)}return h}function Is(e,r,i,h){if(e[0]<i[0]||e[0]>i[2]){var d=.5*h,g=e[0]-i[0]>d?-h:i[0]-e[0]>d?h:0;g===0&&(g=e[0]-i[2]>d?-h:i[2]-e[0]>d?h:0),e[0]+=g}Xn(r,e)}function Gs(e,r,i,h){for(var d=8192*Math.pow(2,h.z),g=[8192*h.x,8192*h.y],v=[],S=0,P=e;S<P.length;S+=1)for(var O=0,z=P[S];O<z.length;O+=1){var V=z[O],G=[V.x+g[0],V.y+g[1]];Is(G,r,i,d),v.push(G)}return v}function Zs(e,r,i,h){for(var d,g=8192*Math.pow(2,h.z),v=[8192*h.x,8192*h.y],S=[],P=0,O=e;P<O.length;P+=1){for(var z=[],V=0,G=O[P];V<G.length;V+=1){var K=G[V],fe=[K.x+v[0],K.y+v[1]];Xn(r,fe),z.push(fe)}S.push(z)}if(r[2]-r[0]<=g/2){(d=r)[0]=d[1]=1/0,d[2]=d[3]=-1/0;for(var ge=0,Re=S;ge<Re.length;ge+=1)for(var Ee=0,Fe=Re[ge];Ee<Fe.length;Ee+=1)Is(Fe[Ee],r,i,g)}return S}Wo.parse=function(e,r){if(e.length!==2)return r.error("Expected one argument.");var i=e[1];if(typeof i!="object"||Array.isArray(i))return r.error("Collator options argument must be an object.");var h=r.parse(i["case-sensitive"]!==void 0&&i["case-sensitive"],1,kt);if(!h)return null;var d=r.parse(i["diacritic-sensitive"]!==void 0&&i["diacritic-sensitive"],1,kt);if(!d)return null;var g=null;return i.locale&&!(g=r.parse(i.locale,1,Rt))?null:new Wo(h,d,g)},Wo.prototype.evaluate=function(e){return new $n(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},Wo.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},Wo.prototype.outputDefined=function(){return!1},Wo.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var xo=function(e,r){this.type=kt,this.geojson=e,this.geometries=r};function wa(e){if(e instanceof yi&&(e.name==="get"&&e.args.length===1||e.name==="feature-state"||e.name==="has"&&e.args.length===1||e.name==="properties"||e.name==="geometry-type"||e.name==="id"||/^filter-/.test(e.name))||e instanceof xo)return!1;var r=!0;return e.eachChild(function(i){r&&!wa(i)&&(r=!1)}),r}function Sa(e){if(e instanceof yi&&e.name==="feature-state")return!1;var r=!0;return e.eachChild(function(i){r&&!Sa(i)&&(r=!1)}),r}function Xa(e,r){if(e instanceof yi&&r.indexOf(e.name)>=0)return!1;var i=!0;return e.eachChild(function(h){i&&!Xa(h,r)&&(i=!1)}),i}xo.parse=function(e,r){if(e.length!==2)return r.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(Ho(e[1])){var i=e[1];if(i.type==="FeatureCollection")for(var h=0;h<i.features.length;++h){var d=i.features[h].geometry.type;if(d==="Polygon"||d==="MultiPolygon")return new xo(i,i.features[h].geometry)}else if(i.type==="Feature"){var g=i.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new xo(i,i.geometry)}else if(i.type==="Polygon"||i.type==="MultiPolygon")return new xo(i,i)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")},xo.prototype.evaluate=function(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return function(r,i){var h=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],g=r.canonicalID();if(i.type==="Polygon"){var v=Za(i.coordinates,d,g),S=Gs(r.geometry(),h,d,g);if(!$i(h,d))return!1;for(var P=0,O=S;P<O.length;P+=1)if(!Ga(O[P],v))return!1}if(i.type==="MultiPolygon"){var z=xl(i.coordinates,d,g),V=Gs(r.geometry(),h,d,g);if(!$i(h,d))return!1;for(var G=0,K=V;G<K.length;G+=1)if(!ou(K[G],z))return!1}return!0}(e,this.geometries);if(e.geometryType()==="LineString")return function(r,i){var h=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],g=r.canonicalID();if(i.type==="Polygon"){var v=Za(i.coordinates,d,g),S=Zs(r.geometry(),h,d,g);if(!$i(h,d))return!1;for(var P=0,O=S;P<O.length;P+=1)if(!vl(O[P],v))return!1}if(i.type==="MultiPolygon"){var z=xl(i.coordinates,d,g),V=Zs(r.geometry(),h,d,g);if(!$i(h,d))return!1;for(var G=0,K=V;G<K.length;G+=1)if(!bl(K[G],z))return!1}return!0}(e,this.geometries)}return!1},xo.prototype.eachChild=function(){},xo.prototype.outputDefined=function(){return!0},xo.prototype.serialize=function(){return["within",this.geojson]};var ca=function(e,r){this.type=r.type,this.name=e,this.boundExpression=r};ca.parse=function(e,r){if(e.length!==2||typeof e[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");var i=e[1];return r.scope.has(i)?new ca(i,r.scope.get(i)):r.error('Unknown variable "'+i+'". Make sure "'+i+'" has been bound in an enclosing "let" expression before using it.',1)},ca.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},ca.prototype.eachChild=function(){},ca.prototype.outputDefined=function(){return!1},ca.prototype.serialize=function(){return["var",this.name]};var Ta=function(e,r,i,h,d){r===void 0&&(r=[]),h===void 0&&(h=new Wt),d===void 0&&(d=[]),this.registry=e,this.path=r,this.key=r.map(function(g){return"["+g+"]"}).join(""),this.scope=h,this.errors=d,this.expectedType=i};function ks(e,r){for(var i,h=e.length-1,d=0,g=h,v=0;d<=g;)if((i=e[v=Math.floor((d+g)/2)])<=r){if(v===h||r<e[v+1])return v;d=v+1}else{if(!(i>r))throw new Gn("Input is not a number.");g=v-1}return 0}Ta.prototype.parse=function(e,r,i,h,d){return d===void 0&&(d={}),r?this.concat(r,i,h)._parse(e,d):this._parse(e,d)},Ta.prototype._parse=function(e,r){function i(O,z,V){return V==="assert"?new un(z,[O]):V==="coerce"?new Zn(z,[O]):O}if(e!==null&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"||(e=["literal",e]),Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var h=e[0];if(typeof h!="string")return this.error("Expression name must be a string, but found "+typeof h+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var d=this.registry[h];if(d){var g=d.parse(e,this);if(!g)return null;if(this.expectedType){var v=this.expectedType,S=g.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||S.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||S.kind!=="value"&&S.kind!=="string"){if(this.checkSubtype(v,S))return null}else g=i(g,v,r.typeAnnotation||"coerce");else g=i(g,v,r.typeAnnotation||"assert")}if(!(g instanceof Ni)&&g.type.kind!=="resolvedImage"&&function O(z){if(z instanceof ca)return O(z.boundExpression);if(z instanceof yi&&z.name==="error"||z instanceof Wo||z instanceof xo)return!1;var V=z instanceof Zn||z instanceof un,G=!0;return z.eachChild(function(K){G=V?G&&O(K):G&&K instanceof Ni}),!!G&&wa(z)&&Xa(z,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(g)){var P=new uo;try{g=new Ni(g.type,g.evaluate(P))}catch(O){return this.error(O.message),null}}return g}return this.error('Unknown expression "'+h+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(e===void 0?"'undefined' value invalid. Use null instead.":typeof e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Ta.prototype.concat=function(e,r,i){var h=typeof e=="number"?this.path.concat(e):this.path,d=i?this.scope.concat(i):this.scope;return new Ta(this.registry,h,r||null,d,this.errors)},Ta.prototype.error=function(e){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];var h=""+this.key+r.map(function(d){return"["+d+"]"}).join("");this.errors.push(new _t(h,e))},Ta.prototype.checkSubtype=function(e,r){var i=rn(e,r);return i&&this.error(i),i};var dr=function(e,r,i){this.type=e,this.input=r,this.labels=[],this.outputs=[];for(var h=0,d=i;h<d.length;h+=1){var g=d[h],v=g[1];this.labels.push(g[0]),this.outputs.push(v)}};function Nn(e,r,i){return e*(1-i)+r*i}dr.parse=function(e,r){if(e.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");var i=r.parse(e[1],1,it);if(!i)return null;var h=[],d=null;r.expectedType&&r.expectedType.kind!=="value"&&(d=r.expectedType);for(var g=1;g<e.length;g+=2){var v=g===1?-1/0:e[g],S=e[g+1],P=g,O=g+1;if(typeof v!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',P);if(h.length&&h[h.length-1][0]>=v)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',P);var z=r.parse(S,O,d);if(!z)return null;d=d||z.type,h.push([v,z])}return new dr(d,i,h)},dr.prototype.evaluate=function(e){var r=this.labels,i=this.outputs;if(r.length===1)return i[0].evaluate(e);var h=this.input.evaluate(e);if(h<=r[0])return i[0].evaluate(e);var d=r.length;return h>=r[d-1]?i[d-1].evaluate(e):i[ks(r,h)].evaluate(e)},dr.prototype.eachChild=function(e){e(this.input);for(var r=0,i=this.outputs;r<i.length;r+=1)e(i[r])},dr.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},dr.prototype.serialize=function(){for(var e=["step",this.input.serialize()],r=0;r<this.labels.length;r++)r>0&&e.push(this.labels[r]),e.push(this.outputs[r].serialize());return e};var Mo=Object.freeze({__proto__:null,number:Nn,color:function(e,r,i){return new Xr(Nn(e.r,r.r,i),Nn(e.g,r.g,i),Nn(e.b,r.b,i),Nn(e.a,r.a,i))},array:function(e,r,i){return e.map(function(h,d){return Nn(h,r[d],i)})}}),wl=6/29*3*(6/29),au=Math.PI/180,Xs=180/Math.PI;function Sl(e){return e>.008856451679035631?Math.pow(e,1/3):e/wl+4/29}function Tl(e){return e>6/29?e*e*e:wl*(e-4/29)}function El(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ka(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Cl(e){var r=Ka(e.r),i=Ka(e.g),h=Ka(e.b),d=Sl((.4124564*r+.3575761*i+.1804375*h)/.95047),g=Sl((.2126729*r+.7151522*i+.072175*h)/1);return{l:116*g-16,a:500*(d-g),b:200*(g-Sl((.0193339*r+.119192*i+.9503041*h)/1.08883)),alpha:e.a}}function Al(e){var r=(e.l+16)/116,i=isNaN(e.a)?r:r+e.a/500,h=isNaN(e.b)?r:r-e.b/200;return r=1*Tl(r),i=.95047*Tl(i),h=1.08883*Tl(h),new Xr(El(3.2404542*i-1.5371385*r-.4985314*h),El(-.969266*i+1.8760108*r+.041556*h),El(.0556434*i-.2040259*r+1.0572252*h),e.alpha)}function Hu(e,r,i){var h=r-e;return e+i*(h>180||h<-180?h-360*Math.round(h/360):h)}var Ps={forward:Cl,reverse:Al,interpolate:function(e,r,i){return{l:Nn(e.l,r.l,i),a:Nn(e.a,r.a,i),b:Nn(e.b,r.b,i),alpha:Nn(e.alpha,r.alpha,i)}}},Ks={forward:function(e){var r=Cl(e),i=r.l,h=r.a,d=r.b,g=Math.atan2(d,h)*Xs;return{h:g<0?g+360:g,c:Math.sqrt(h*h+d*d),l:i,alpha:e.a}},reverse:function(e){var r=e.h*au,i=e.c;return Al({l:e.l,a:Math.cos(r)*i,b:Math.sin(r)*i,alpha:e.alpha})},interpolate:function(e,r,i){return{h:Hu(e.h,r.h,i),c:Nn(e.c,r.c,i),l:Nn(e.l,r.l,i),alpha:Nn(e.alpha,r.alpha,i)}}},y=Object.freeze({__proto__:null,lab:Ps,hcl:Ks}),b=function(e,r,i,h,d){this.type=e,this.operator=r,this.interpolation=i,this.input=h,this.labels=[],this.outputs=[];for(var g=0,v=d;g<v.length;g+=1){var S=v[g],P=S[1];this.labels.push(S[0]),this.outputs.push(P)}};function I(e,r,i,h){var d=h-i,g=e-i;return d===0?0:r===1?g/d:(Math.pow(r,g)-1)/(Math.pow(r,d)-1)}b.interpolationFactor=function(e,r,i,h){var d=0;if(e.name==="exponential")d=I(r,e.base,i,h);else if(e.name==="linear")d=I(r,1,i,h);else if(e.name==="cubic-bezier"){var g=e.controlPoints;d=new E(g[0],g[1],g[2],g[3]).solve(I(r,1,i,h))}return d},b.parse=function(e,r){var i=e[0],h=e[1],d=e[2],g=e.slice(3);if(!Array.isArray(h)||h.length===0)return r.error("Expected an interpolation type expression.",1);if(h[0]==="linear")h={name:"linear"};else if(h[0]==="exponential"){var v=h[1];if(typeof v!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);h={name:"exponential",base:v}}else{if(h[0]!=="cubic-bezier")return r.error("Unknown interpolation type "+String(h[0]),1,0);var S=h.slice(1);if(S.length!==4||S.some(function(Re){return typeof Re!="number"||Re<0||Re>1}))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);h={name:"cubic-bezier",controlPoints:S}}if(e.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(!(d=r.parse(d,2,it)))return null;var P=[],O=null;i==="interpolate-hcl"||i==="interpolate-lab"?O=It:r.expectedType&&r.expectedType.kind!=="value"&&(O=r.expectedType);for(var z=0;z<g.length;z+=2){var V=g[z],G=g[z+1],K=z+3,fe=z+4;if(typeof V!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',K);if(P.length&&P[P.length-1][0]>=V)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',K);var ge=r.parse(G,fe,O);if(!ge)return null;O=O||ge.type,P.push([V,ge])}return O.kind==="number"||O.kind==="color"||O.kind==="array"&&O.itemType.kind==="number"&&typeof O.N=="number"?new b(O,i,h,d,P):r.error("Type "+Fr(O)+" is not interpolatable.")},b.prototype.evaluate=function(e){var r=this.labels,i=this.outputs;if(r.length===1)return i[0].evaluate(e);var h=this.input.evaluate(e);if(h<=r[0])return i[0].evaluate(e);var d=r.length;if(h>=r[d-1])return i[d-1].evaluate(e);var g=ks(r,h),v=b.interpolationFactor(this.interpolation,h,r[g],r[g+1]),S=i[g].evaluate(e),P=i[g+1].evaluate(e);return this.operator==="interpolate"?Mo[this.type.kind.toLowerCase()](S,P,v):this.operator==="interpolate-hcl"?Ks.reverse(Ks.interpolate(Ks.forward(S),Ks.forward(P),v)):Ps.reverse(Ps.interpolate(Ps.forward(S),Ps.forward(P),v))},b.prototype.eachChild=function(e){e(this.input);for(var r=0,i=this.outputs;r<i.length;r+=1)e(i[r])},b.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},b.prototype.serialize=function(){var e;e=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var r=[this.operator,e,this.input.serialize()],i=0;i<this.labels.length;i++)r.push(this.labels[i],this.outputs[i].serialize());return r};var L=function(e,r){this.type=e,this.args=r};L.parse=function(e,r){if(e.length<2)return r.error("Expectected at least one argument.");var i=null,h=r.expectedType;h&&h.kind!=="value"&&(i=h);for(var d=[],g=0,v=e.slice(1);g<v.length;g+=1){var S=r.parse(v[g],1+d.length,i,void 0,{typeAnnotation:"omit"});if(!S)return null;i=i||S.type,d.push(S)}var P=h&&d.some(function(O){return rn(h,O.type)});return new L(P?Mt:i,d)},L.prototype.evaluate=function(e){for(var r,i=null,h=0,d=0,g=this.args;d<g.length&&(h++,(i=g[d].evaluate(e))&&i instanceof Oi&&!i.available&&(r||(r=i.name),i=null,h===this.args.length&&(i=r)),i===null);d+=1);return i},L.prototype.eachChild=function(e){this.args.forEach(e)},L.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},L.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(r){e.push(r.serialize())}),e};var j=function(e,r){this.type=r.type,this.bindings=[].concat(e),this.result=r};j.prototype.evaluate=function(e){return this.result.evaluate(e)},j.prototype.eachChild=function(e){for(var r=0,i=this.bindings;r<i.length;r+=1)e(i[r][1]);e(this.result)},j.parse=function(e,r){if(e.length<4)return r.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var i=[],h=1;h<e.length-1;h+=2){var d=e[h];if(typeof d!="string")return r.error("Expected string, but found "+typeof d+" instead.",h);if(/[^a-zA-Z0-9_]/.test(d))return r.error("Variable names must contain only alphanumeric characters or '_'.",h);var g=r.parse(e[h+1],h+1);if(!g)return null;i.push([d,g])}var v=r.parse(e[e.length-1],e.length-1,r.expectedType,i);return v?new j(i,v):null},j.prototype.outputDefined=function(){return this.result.outputDefined()},j.prototype.serialize=function(){for(var e=["let"],r=0,i=this.bindings;r<i.length;r+=1){var h=i[r];e.push(h[0],h[1].serialize())}return e.push(this.result.serialize()),e};var q=function(e,r,i){this.type=e,this.index=r,this.input=i};q.parse=function(e,r){if(e.length!==3)return r.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var i=r.parse(e[1],1,it),h=r.parse(e[2],2,qr(r.expectedType||Mt));return i&&h?new q(h.type.itemType,i,h):null},q.prototype.evaluate=function(e){var r=this.index.evaluate(e),i=this.input.evaluate(e);if(r<0)throw new Gn("Array index out of bounds: "+r+" < 0.");if(r>=i.length)throw new Gn("Array index out of bounds: "+r+" > "+(i.length-1)+".");if(r!==Math.floor(r))throw new Gn("Array index must be an integer, but found "+r+" instead.");return i[r]},q.prototype.eachChild=function(e){e(this.index),e(this.input)},q.prototype.outputDefined=function(){return!1},q.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Z=function(e,r){this.type=kt,this.needle=e,this.haystack=r};Z.parse=function(e,r){if(e.length!==3)return r.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var i=r.parse(e[1],1,Mt),h=r.parse(e[2],2,Mt);return i&&h?Vn(i.type,[kt,Rt,it,Dt,Mt])?new Z(i,h):r.error("Expected first argument to be of type boolean, string, number or null, but found "+Fr(i.type)+" instead"):null},Z.prototype.evaluate=function(e){var r=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!i)return!1;if(!ln(r,["boolean","string","number","null"]))throw new Gn("Expected first argument to be of type boolean, string, number or null, but found "+Fr(Cn(r))+" instead.");if(!ln(i,["string","array"]))throw new Gn("Expected second argument to be of type array or string, but found "+Fr(Cn(i))+" instead.");return i.indexOf(r)>=0},Z.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Z.prototype.outputDefined=function(){return!0},Z.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Le=function(e,r,i){this.type=it,this.needle=e,this.haystack=r,this.fromIndex=i};Le.parse=function(e,r){if(e.length<=2||e.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var i=r.parse(e[1],1,Mt),h=r.parse(e[2],2,Mt);if(!i||!h)return null;if(!Vn(i.type,[kt,Rt,it,Dt,Mt]))return r.error("Expected first argument to be of type boolean, string, number or null, but found "+Fr(i.type)+" instead");if(e.length===4){var d=r.parse(e[3],3,it);return d?new Le(i,h,d):null}return new Le(i,h)},Le.prototype.evaluate=function(e){var r=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!ln(r,["boolean","string","number","null"]))throw new Gn("Expected first argument to be of type boolean, string, number or null, but found "+Fr(Cn(r))+" instead.");if(!ln(i,["string","array"]))throw new Gn("Expected second argument to be of type array or string, but found "+Fr(Cn(i))+" instead.");if(this.fromIndex){var h=this.fromIndex.evaluate(e);return i.indexOf(r,h)}return i.indexOf(r)},Le.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},Le.prototype.outputDefined=function(){return!1},Le.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Te=function(e,r,i,h,d,g){this.inputType=e,this.type=r,this.input=i,this.cases=h,this.outputs=d,this.otherwise=g};Te.parse=function(e,r){if(e.length<5)return r.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return r.error("Expected an even number of arguments.");var i,h;r.expectedType&&r.expectedType.kind!=="value"&&(h=r.expectedType);for(var d={},g=[],v=2;v<e.length-1;v+=2){var S=e[v],P=e[v+1];Array.isArray(S)||(S=[S]);var O=r.concat(v);if(S.length===0)return O.error("Expected at least one branch label.");for(var z=0,V=S;z<V.length;z+=1){var G=V[z];if(typeof G!="number"&&typeof G!="string")return O.error("Branch labels must be numbers or strings.");if(typeof G=="number"&&Math.abs(G)>Number.MAX_SAFE_INTEGER)return O.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof G=="number"&&Math.floor(G)!==G)return O.error("Numeric branch labels must be integer values.");if(i){if(O.checkSubtype(i,Cn(G)))return null}else i=Cn(G);if(d[String(G)]!==void 0)return O.error("Branch labels must be unique.");d[String(G)]=g.length}var K=r.parse(P,v,h);if(!K)return null;h=h||K.type,g.push(K)}var fe=r.parse(e[1],1,Mt);if(!fe)return null;var ge=r.parse(e[e.length-1],e.length-1,h);return ge?fe.type.kind!=="value"&&r.concat(1).checkSubtype(i,fe.type)?null:new Te(i,h,fe,d,g,ge):null},Te.prototype.evaluate=function(e){var r=this.input.evaluate(e);return(Cn(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(e)},Te.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Te.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})&&this.otherwise.outputDefined()},Te.prototype.serialize=function(){for(var e=this,r=["match",this.input.serialize()],i=[],h={},d=0,g=Object.keys(this.cases).sort();d<g.length;d+=1){var v=g[d];(V=h[this.cases[v]])===void 0?(h[this.cases[v]]=i.length,i.push([this.cases[v],[v]])):i[V][1].push(v)}for(var S=function(K){return e.inputType.kind==="number"?Number(K):K},P=0,O=i;P<O.length;P+=1){var z=O[P],V=z[0],G=z[1];r.push(G.length===1?S(G[0]):G.map(S)),r.push(this.outputs[outputIndex$1].serialize())}return r.push(this.otherwise.serialize()),r};var Ue=function(e,r,i){this.type=e,this.branches=r,this.otherwise=i};Ue.parse=function(e,r){if(e.length<4)return r.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return r.error("Expected an odd number of arguments.");var i;r.expectedType&&r.expectedType.kind!=="value"&&(i=r.expectedType);for(var h=[],d=1;d<e.length-1;d+=2){var g=r.parse(e[d],d,kt);if(!g)return null;var v=r.parse(e[d+1],d+1,i);if(!v)return null;h.push([g,v]),i=i||v.type}var S=r.parse(e[e.length-1],e.length-1,i);return S?new Ue(i,h,S):null},Ue.prototype.evaluate=function(e){for(var r=0,i=this.branches;r<i.length;r+=1){var h=i[r],d=h[1];if(h[0].evaluate(e))return d.evaluate(e)}return this.otherwise.evaluate(e)},Ue.prototype.eachChild=function(e){for(var r=0,i=this.branches;r<i.length;r+=1){var h=i[r],d=h[1];e(h[0]),e(d)}e(this.otherwise)},Ue.prototype.outputDefined=function(){return this.branches.every(function(e){return e[1].outputDefined()})&&this.otherwise.outputDefined()},Ue.prototype.serialize=function(){var e=["case"];return this.eachChild(function(r){e.push(r.serialize())}),e};var st=function(e,r,i,h){this.type=e,this.input=r,this.beginIndex=i,this.endIndex=h};function mt(e,r){return e==="=="||e==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function Qe(e,r,i,h){return h.compare(r,i)===0}function ft(e,r,i){var h=e!=="=="&&e!=="!=";return function(){function d(g,v,S){this.type=kt,this.lhs=g,this.rhs=v,this.collator=S,this.hasUntypedArgument=g.type.kind==="value"||v.type.kind==="value"}return d.parse=function(g,v){if(g.length!==3&&g.length!==4)return v.error("Expected two or three arguments.");var S=g[0],P=v.parse(g[1],1,Mt);if(!P)return null;if(!mt(S,P.type))return v.concat(1).error('"'+S+`" comparisons are not supported for type '`+Fr(P.type)+"'.");var O=v.parse(g[2],2,Mt);if(!O)return null;if(!mt(S,O.type))return v.concat(2).error('"'+S+`" comparisons are not supported for type '`+Fr(O.type)+"'.");if(P.type.kind!==O.type.kind&&P.type.kind!=="value"&&O.type.kind!=="value")return v.error("Cannot compare types '"+Fr(P.type)+"' and '"+Fr(O.type)+"'.");h&&(P.type.kind==="value"&&O.type.kind!=="value"?P=new un(O.type,[P]):P.type.kind!=="value"&&O.type.kind==="value"&&(O=new un(P.type,[O])));var z=null;if(g.length===4){if(P.type.kind!=="string"&&O.type.kind!=="string"&&P.type.kind!=="value"&&O.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(!(z=v.parse(g[3],3,Nr)))return null}return new d(P,O,z)},d.prototype.evaluate=function(g){var v=this.lhs.evaluate(g),S=this.rhs.evaluate(g);if(h&&this.hasUntypedArgument){var P=Cn(v),O=Cn(S);if(P.kind!==O.kind||P.kind!=="string"&&P.kind!=="number")throw new Gn('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+P.kind+", "+O.kind+") instead.")}if(this.collator&&!h&&this.hasUntypedArgument){var z=Cn(v),V=Cn(S);if(z.kind!=="string"||V.kind!=="string")return r(g,v,S)}return this.collator?i(g,v,S,this.collator.evaluate(g)):r(g,v,S)},d.prototype.eachChild=function(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)},d.prototype.outputDefined=function(){return!0},d.prototype.serialize=function(){var g=[e];return this.eachChild(function(v){g.push(v.serialize())}),g},d}()}st.parse=function(e,r){if(e.length<=2||e.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var i=r.parse(e[1],1,Mt),h=r.parse(e[2],2,it);if(!i||!h)return null;if(!Vn(i.type,[qr(Mt),Rt,Mt]))return r.error("Expected first argument to be of type array or string, but found "+Fr(i.type)+" instead");if(e.length===4){var d=r.parse(e[3],3,it);return d?new st(i.type,i,h,d):null}return new st(i.type,i,h)},st.prototype.evaluate=function(e){var r=this.input.evaluate(e),i=this.beginIndex.evaluate(e);if(!ln(r,["string","array"]))throw new Gn("Expected first argument to be of type array or string, but found "+Fr(Cn(r))+" instead.");if(this.endIndex){var h=this.endIndex.evaluate(e);return r.slice(i,h)}return r.slice(i)},st.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},st.prototype.outputDefined=function(){return!1},st.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var kr=ft("==",function(e,r,i){return r===i},Qe),vr=ft("!=",function(e,r,i){return r!==i},function(e,r,i,h){return!Qe(0,r,i,h)}),Or=ft("<",function(e,r,i){return r<i},function(e,r,i,h){return h.compare(r,i)<0}),_i=ft(">",function(e,r,i){return r>i},function(e,r,i,h){return h.compare(r,i)>0}),F=ft("<=",function(e,r,i){return r<=i},function(e,r,i,h){return h.compare(r,i)<=0}),A=ft(">=",function(e,r,i){return r>=i},function(e,r,i,h){return h.compare(r,i)>=0}),N=function(e,r,i,h,d){this.type=Rt,this.number=e,this.locale=r,this.currency=i,this.minFractionDigits=h,this.maxFractionDigits=d};N.parse=function(e,r){if(e.length!==3)return r.error("Expected two arguments.");var i=r.parse(e[1],1,it);if(!i)return null;var h=e[2];if(typeof h!="object"||Array.isArray(h))return r.error("NumberFormat options argument must be an object.");var d=null;if(h.locale&&!(d=r.parse(h.locale,1,Rt)))return null;var g=null;if(h.currency&&!(g=r.parse(h.currency,1,Rt)))return null;var v=null;if(h["min-fraction-digits"]&&!(v=r.parse(h["min-fraction-digits"],1,it)))return null;var S=null;return h["max-fraction-digits"]&&!(S=r.parse(h["max-fraction-digits"],1,it))?null:new N(i,d,g,v,S)},N.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},N.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},N.prototype.outputDefined=function(){return!1},N.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var ne=function(e){this.type=it,this.input=e};ne.parse=function(e,r){if(e.length!==2)return r.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var i=r.parse(e[1],1);return i?i.type.kind!=="array"&&i.type.kind!=="string"&&i.type.kind!=="value"?r.error("Expected argument of type string or array, but found "+Fr(i.type)+" instead."):new ne(i):null},ne.prototype.evaluate=function(e){var r=this.input.evaluate(e);if(typeof r=="string"||Array.isArray(r))return r.length;throw new Gn("Expected value to be of type string or array, but found "+Fr(Cn(r))+" instead.")},ne.prototype.eachChild=function(e){e(this.input)},ne.prototype.outputDefined=function(){return!1},ne.prototype.serialize=function(){var e=["length"];return this.eachChild(function(r){e.push(r.serialize())}),e};var Ce={"==":kr,"!=":vr,">":_i,"<":Or,">=":A,"<=":F,array:un,at:q,boolean:un,case:Ue,coalesce:L,collator:Wo,format:bo,image:Ci,in:Z,"index-of":Le,interpolate:b,"interpolate-hcl":b,"interpolate-lab":b,length:ne,let:j,literal:Ni,match:Te,number:un,"number-format":N,object:un,slice:st,step:dr,string:un,"to-boolean":Zn,"to-color":Zn,"to-number":Zn,"to-string":Zn,var:ca,within:xo};function et(e,r){var i=r[0],h=r[1],d=r[2],g=r[3];i=i.evaluate(e),h=h.evaluate(e),d=d.evaluate(e);var v=g?g.evaluate(e):1,S=Di(i,h,d,v);if(S)throw new Gn(S);return new Xr(i/255*v,h/255*v,d/255*v,v)}function Tt(e,r){return e in r}function tr(e,r){var i=r[e];return i===void 0?null:i}function Tr(e){return{type:e}}function zr(e){return{result:"success",value:e}}function Hr(e){return{result:"error",value:e}}function nn(e){return e["property-type"]==="data-driven"||e["property-type"]==="cross-faded-data-driven"}function wo(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function So(e){return!!e.expression&&e.expression.interpolated}function Br(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function fs(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function $o(e){return e}function to(e,r,i){return e!==void 0?e:r!==void 0?r:i!==void 0?i:void 0}function Il(e,r,i,h,d){return to(typeof i===d?h[i]:void 0,e.default,r.default)}function Wu(e,r,i){if(Br(i)!=="number")return to(e.default,r.default);var h=e.stops.length;if(h===1||i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[h-1][0])return e.stops[h-1][1];var d=ks(e.stops.map(function(g){return g[0]}),i);return e.stops[d][1]}function su(e,r,i){var h=e.base!==void 0?e.base:1;if(Br(i)!=="number")return to(e.default,r.default);var d=e.stops.length;if(d===1||i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[d-1][0])return e.stops[d-1][1];var g=ks(e.stops.map(function(V){return V[0]}),i),v=function(V,G,K,fe){var ge=fe-K,Re=V-K;return ge===0?0:G===1?Re/ge:(Math.pow(G,Re)-1)/(Math.pow(G,ge)-1)}(i,h,e.stops[g][0],e.stops[g+1][0]),S=e.stops[g][1],P=e.stops[g+1][1],O=Mo[r.type]||$o;if(e.colorSpace&&e.colorSpace!=="rgb"){var z=y[e.colorSpace];O=function(V,G){return z.reverse(z.interpolate(z.forward(V),z.forward(G),v))}}return typeof S.evaluate=="function"?{evaluate:function(){for(var V=[],G=arguments.length;G--;)V[G]=arguments[G];var K=S.evaluate.apply(void 0,V),fe=P.evaluate.apply(void 0,V);if(K!==void 0&&fe!==void 0)return O(K,fe,v)}}:O(S,P,v)}function cn(e,r,i){return r.type==="color"?i=Xr.parse(i):r.type==="formatted"?i=Kn.fromString(i.toString()):r.type==="resolvedImage"?i=Oi.fromString(i.toString()):Br(i)===r.type||r.type==="enum"&&r.values[i]||(i=void 0),to(i,e.default,r.default)}yi.register(Ce,{error:[{kind:"error"},[Rt],function(e,r){throw new Gn(r[0].evaluate(e))}],typeof:[Rt,[Mt],function(e,r){return Fr(Cn(r[0].evaluate(e)))}],"to-rgba":[qr(it,4),[It],function(e,r){return r[0].evaluate(e).toArray()}],rgb:[It,[it,it,it],et],rgba:[It,[it,it,it,it],et],has:{type:kt,overloads:[[[Rt],function(e,r){return Tt(r[0].evaluate(e),e.properties())}],[[Rt,Sr],function(e,r){var i=r[1];return Tt(r[0].evaluate(e),i.evaluate(e))}]]},get:{type:Mt,overloads:[[[Rt],function(e,r){return tr(r[0].evaluate(e),e.properties())}],[[Rt,Sr],function(e,r){var i=r[1];return tr(r[0].evaluate(e),i.evaluate(e))}]]},"feature-state":[Mt,[Rt],function(e,r){return tr(r[0].evaluate(e),e.featureState||{})}],properties:[Sr,[],function(e){return e.properties()}],"geometry-type":[Rt,[],function(e){return e.geometryType()}],id:[Mt,[],function(e){return e.id()}],zoom:[it,[],function(e){return e.globals.zoom}],"heatmap-density":[it,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[it,[],function(e){return e.globals.lineProgress||0}],accumulated:[Mt,[],function(e){return e.globals.accumulated===void 0?null:e.globals.accumulated}],"+":[it,Tr(it),function(e,r){for(var i=0,h=0,d=r;h<d.length;h+=1)i+=d[h].evaluate(e);return i}],"*":[it,Tr(it),function(e,r){for(var i=1,h=0,d=r;h<d.length;h+=1)i*=d[h].evaluate(e);return i}],"-":{type:it,overloads:[[[it,it],function(e,r){var i=r[1];return r[0].evaluate(e)-i.evaluate(e)}],[[it],function(e,r){return-r[0].evaluate(e)}]]},"/":[it,[it,it],function(e,r){var i=r[1];return r[0].evaluate(e)/i.evaluate(e)}],"%":[it,[it,it],function(e,r){var i=r[1];return r[0].evaluate(e)%i.evaluate(e)}],ln2:[it,[],function(){return Math.LN2}],pi:[it,[],function(){return Math.PI}],e:[it,[],function(){return Math.E}],"^":[it,[it,it],function(e,r){var i=r[1];return Math.pow(r[0].evaluate(e),i.evaluate(e))}],sqrt:[it,[it],function(e,r){return Math.sqrt(r[0].evaluate(e))}],log10:[it,[it],function(e,r){return Math.log(r[0].evaluate(e))/Math.LN10}],ln:[it,[it],function(e,r){return Math.log(r[0].evaluate(e))}],log2:[it,[it],function(e,r){return Math.log(r[0].evaluate(e))/Math.LN2}],sin:[it,[it],function(e,r){return Math.sin(r[0].evaluate(e))}],cos:[it,[it],function(e,r){return Math.cos(r[0].evaluate(e))}],tan:[it,[it],function(e,r){return Math.tan(r[0].evaluate(e))}],asin:[it,[it],function(e,r){return Math.asin(r[0].evaluate(e))}],acos:[it,[it],function(e,r){return Math.acos(r[0].evaluate(e))}],atan:[it,[it],function(e,r){return Math.atan(r[0].evaluate(e))}],min:[it,Tr(it),function(e,r){return Math.min.apply(Math,r.map(function(i){return i.evaluate(e)}))}],max:[it,Tr(it),function(e,r){return Math.max.apply(Math,r.map(function(i){return i.evaluate(e)}))}],abs:[it,[it],function(e,r){return Math.abs(r[0].evaluate(e))}],round:[it,[it],function(e,r){var i=r[0].evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[it,[it],function(e,r){return Math.floor(r[0].evaluate(e))}],ceil:[it,[it],function(e,r){return Math.ceil(r[0].evaluate(e))}],"filter-==":[kt,[Rt,Mt],function(e,r){var i=r[0],h=r[1];return e.properties()[i.value]===h.value}],"filter-id-==":[kt,[Mt],function(e,r){var i=r[0];return e.id()===i.value}],"filter-type-==":[kt,[Rt],function(e,r){var i=r[0];return e.geometryType()===i.value}],"filter-<":[kt,[Rt,Mt],function(e,r){var i=r[0],h=r[1],d=e.properties()[i.value],g=h.value;return typeof d==typeof g&&d<g}],"filter-id-<":[kt,[Mt],function(e,r){var i=r[0],h=e.id(),d=i.value;return typeof h==typeof d&&h<d}],"filter->":[kt,[Rt,Mt],function(e,r){var i=r[0],h=r[1],d=e.properties()[i.value],g=h.value;return typeof d==typeof g&&d>g}],"filter-id->":[kt,[Mt],function(e,r){var i=r[0],h=e.id(),d=i.value;return typeof h==typeof d&&h>d}],"filter-<=":[kt,[Rt,Mt],function(e,r){var i=r[0],h=r[1],d=e.properties()[i.value],g=h.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[kt,[Mt],function(e,r){var i=r[0],h=e.id(),d=i.value;return typeof h==typeof d&&h<=d}],"filter->=":[kt,[Rt,Mt],function(e,r){var i=r[0],h=r[1],d=e.properties()[i.value],g=h.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[kt,[Mt],function(e,r){var i=r[0],h=e.id(),d=i.value;return typeof h==typeof d&&h>=d}],"filter-has":[kt,[Mt],function(e,r){return r[0].value in e.properties()}],"filter-has-id":[kt,[],function(e){return e.id()!==null&&e.id()!==void 0}],"filter-type-in":[kt,[qr(Rt)],function(e,r){return r[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[kt,[qr(Mt)],function(e,r){return r[0].value.indexOf(e.id())>=0}],"filter-in-small":[kt,[Rt,qr(Mt)],function(e,r){var i=r[0];return r[1].value.indexOf(e.properties()[i.value])>=0}],"filter-in-large":[kt,[Rt,qr(Mt)],function(e,r){var i=r[0],h=r[1];return function(d,g,v,S){for(;v<=S;){var P=v+S>>1;if(g[P]===d)return!0;g[P]>d?S=P-1:v=P+1}return!1}(e.properties()[i.value],h.value,0,h.value.length-1)}],all:{type:kt,overloads:[[[kt,kt],function(e,r){var i=r[1];return r[0].evaluate(e)&&i.evaluate(e)}],[Tr(kt),function(e,r){for(var i=0,h=r;i<h.length;i+=1)if(!h[i].evaluate(e))return!1;return!0}]]},any:{type:kt,overloads:[[[kt,kt],function(e,r){var i=r[1];return r[0].evaluate(e)||i.evaluate(e)}],[Tr(kt),function(e,r){for(var i=0,h=r;i<h.length;i+=1)if(h[i].evaluate(e))return!0;return!1}]]},"!":[kt,[kt],function(e,r){return!r[0].evaluate(e)}],"is-supported-script":[kt,[Rt],function(e,r){var i=e.globals&&e.globals.isSupportedScript;return!i||i(r[0].evaluate(e))}],upcase:[Rt,[Rt],function(e,r){return r[0].evaluate(e).toUpperCase()}],downcase:[Rt,[Rt],function(e,r){return r[0].evaluate(e).toLowerCase()}],concat:[Rt,Tr(Mt),function(e,r){return r.map(function(i){return As(i.evaluate(e))}).join("")}],"resolved-locale":[Rt,[Nr],function(e,r){return r[0].evaluate(e).resolvedLocale()}]});var Go=function(e,r){this.expression=e,this._warningHistory={},this._evaluator=new uo,this._defaultValue=r?function(i){return i.type==="color"&&fs(i.default)?new Xr(0,0,0,0):i.type==="color"?Xr.parse(i.default)||null:i.default===void 0?null:i.default}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null};function Fi(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in Ce}function Oo(e,r){var i=new Ta(Ce,[],r?function(d){var g={color:It,string:Rt,number:it,enum:Rt,boolean:kt,formatted:yn,resolvedImage:Ar};return d.type==="array"?qr(g[d.value]||Mt,d.length):g[d.type]}(r):void 0),h=i.parse(e,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?zr(new Go(h,r)):Hr(i.errors)}Go.prototype.evaluateWithoutErrorHandling=function(e,r,i,h,d,g){return this._evaluator.globals=e,this._evaluator.feature=r,this._evaluator.featureState=i,this._evaluator.canonical=h,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=g,this.expression.evaluate(this._evaluator)},Go.prototype.evaluate=function(e,r,i,h,d,g){this._evaluator.globals=e,this._evaluator.feature=r||null,this._evaluator.featureState=i||null,this._evaluator.canonical=h,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=g||null;try{var v=this.expression.evaluate(this._evaluator);if(v==null||typeof v=="number"&&v!=v)return this._defaultValue;if(this._enumValues&&!(v in this._enumValues))throw new Gn("Expected value to be one of "+Object.keys(this._enumValues).map(function(S){return JSON.stringify(S)}).join(", ")+", but found "+JSON.stringify(v)+" instead.");return v}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}};var Ya=function(e,r){this.kind=e,this._styleExpression=r,this.isStateDependent=e!=="constant"&&!Sa(r.expression)};Ya.prototype.evaluateWithoutErrorHandling=function(e,r,i,h,d,g){return this._styleExpression.evaluateWithoutErrorHandling(e,r,i,h,d,g)},Ya.prototype.evaluate=function(e,r,i,h,d,g){return this._styleExpression.evaluate(e,r,i,h,d,g)};var Ja=function(e,r,i,h){this.kind=e,this.zoomStops=i,this._styleExpression=r,this.isStateDependent=e!=="camera"&&!Sa(r.expression),this.interpolationType=h};function kl(e,r){if((e=Oo(e,r)).result==="error")return e;var i=e.value.expression,h=wa(i);if(!h&&!nn(r))return Hr([new _t("","data expressions not supported")]);var d=Xa(i,["zoom"]);if(!d&&!wo(r))return Hr([new _t("","zoom expressions not supported")]);var g=function v(S){var P=null;if(S instanceof j)P=v(S.result);else if(S instanceof L)for(var O=0,z=S.args;O<z.length&&!(P=v(z[O]));O+=1);else(S instanceof dr||S instanceof b)&&S.input instanceof yi&&S.input.name==="zoom"&&(P=S);return P instanceof _t||S.eachChild(function(V){var G=v(V);G instanceof _t?P=G:!P&&G?P=new _t("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):P&&G&&P!==G&&(P=new _t("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),P}(i);return g||d?g instanceof _t?Hr([g]):g instanceof b&&!So(r)?Hr([new _t("",'"interpolate" expressions cannot be used with this property')]):zr(g?new Ja(h?"camera":"composite",e.value,g.labels,g instanceof b?g.interpolation:void 0):new Ya(h?"constant":"source",e.value)):Hr([new _t("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Ja.prototype.evaluateWithoutErrorHandling=function(e,r,i,h,d,g){return this._styleExpression.evaluateWithoutErrorHandling(e,r,i,h,d,g)},Ja.prototype.evaluate=function(e,r,i,h,d,g){return this._styleExpression.evaluate(e,r,i,h,d,g)},Ja.prototype.interpolationFactor=function(e,r,i){return this.interpolationType?b.interpolationFactor(this.interpolationType,e,r,i):0};var To=function(e,r){this._parameters=e,this._specification=r,gt(this,function i(h,d){var g,v,S,P=d.type==="color",O=h.stops&&typeof h.stops[0][0]=="object",z=O||!(O||h.property!==void 0),V=h.type||(So(d)?"exponential":"interval");if(P&&((h=gt({},h)).stops&&(h.stops=h.stops.map(function(zt){return[zt[0],Xr.parse(zt[1])]})),h.default=Xr.parse(h.default?h.default:d.default)),h.colorSpace&&h.colorSpace!=="rgb"&&!y[h.colorSpace])throw new Error("Unknown color space: "+h.colorSpace);if(V==="exponential")g=su;else if(V==="interval")g=Wu;else if(V==="categorical"){g=Il,v=Object.create(null);for(var G=0,K=h.stops;G<K.length;G+=1){var fe=K[G];v[fe[0]]=fe[1]}S=typeof h.stops[0][0]}else{if(V!=="identity")throw new Error('Unknown function type "'+V+'"');g=cn}if(O){for(var ge={},Re=[],Ee=0;Ee<h.stops.length;Ee++){var Fe=h.stops[Ee],We=Fe[0].zoom;ge[We]===void 0&&(ge[We]={zoom:We,type:h.type,property:h.property,default:h.default,stops:[]},Re.push(We)),ge[We].stops.push([Fe[0].value,Fe[1]])}for(var Ze=[],Je=0,ut=Re;Je<ut.length;Je+=1){var Et=ut[Je];Ze.push([ge[Et].zoom,i(ge[Et],d)])}var Pt={name:"linear"};return{kind:"composite",interpolationType:Pt,interpolationFactor:b.interpolationFactor.bind(void 0,Pt),zoomStops:Ze.map(function(zt){return zt[0]}),evaluate:function(zt,or){var Ut=zt.zoom;return su({stops:Ze,base:h.base},d,Ut).evaluate(Ut,or)}}}if(z){var Qt=V==="exponential"?{name:"exponential",base:h.base!==void 0?h.base:1}:null;return{kind:"camera",interpolationType:Qt,interpolationFactor:b.interpolationFactor.bind(void 0,Qt),zoomStops:h.stops.map(function(zt){return zt[0]}),evaluate:function(zt){return g(h,d,zt.zoom,v,S)}}}return{kind:"source",evaluate:function(zt,or){var Ut=or&&or.properties?or.properties[h.property]:void 0;return Ut===void 0?to(h.default,d.default):g(h,d,Ut,v,S)}}}(this._parameters,this._specification))};function co(e){var r=e.key,i=e.value,h=e.valueSpec||{},d=e.objectElementValidators||{},g=e.style,v=e.styleSpec,S=[],P=Br(i);if(P!=="object")return[new be(r,i,"object expected, "+P+" found")];for(var O in i){var z=O.split(".")[0],V=h[z]||h["*"],G=void 0;if(d[z])G=d[z];else if(h[z])G=Bt;else if(d["*"])G=d["*"];else{if(!h["*"]){S.push(new be(r,i[O],'unknown property "'+O+'"'));continue}G=Bt}S=S.concat(G({key:(r&&r+".")+O,value:i[O],valueSpec:V,style:g,styleSpec:v,object:i,objectKey:O},i))}for(var K in h)d[K]||h[K].required&&h[K].default===void 0&&i[K]===void 0&&S.push(new be(r,i,'missing required property "'+K+'"'));return S}function ha(e){var r=e.value,i=e.valueSpec,h=e.style,d=e.styleSpec,g=e.key,v=e.arrayElementValidator||Bt;if(Br(r)!=="array")return[new be(g,r,"array expected, "+Br(r)+" found")];if(i.length&&r.length!==i.length)return[new be(g,r,"array length "+i.length+" expected, length "+r.length+" found")];if(i["min-length"]&&r.length<i["min-length"])return[new be(g,r,"array length at least "+i["min-length"]+" expected, length "+r.length+" found")];var S={type:i.value,values:i.values};d.$version<7&&(S.function=i.function),Br(i.value)==="object"&&(S=i.value);for(var P=[],O=0;O<r.length;O++)P=P.concat(v({array:r,arrayIndex:O,value:r[O],valueSpec:S,style:h,styleSpec:d,key:g+"["+O+"]"}));return P}function Ys(e){var r=e.key,i=e.value,h=e.valueSpec,d=Br(i);return d==="number"&&i!=i&&(d="NaN"),d!=="number"?[new be(r,i,"number expected, "+d+" found")]:"minimum"in h&&i<h.minimum?[new be(r,i,i+" is less than the minimum value "+h.minimum)]:"maximum"in h&&i>h.maximum?[new be(r,i,i+" is greater than the maximum value "+h.maximum)]:[]}function Js(e){var r,i,h,d=e.valueSpec,g=St(e.value.type),v={},S=g!=="categorical"&&e.value.property===void 0,P=!S,O=Br(e.value.stops)==="array"&&Br(e.value.stops[0])==="array"&&Br(e.value.stops[0][0])==="object",z=co({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(K){if(g==="identity")return[new be(K.key,K.value,'identity function may not have a "stops" property')];var fe=[],ge=K.value;return fe=fe.concat(ha({key:K.key,value:ge,valueSpec:K.valueSpec,style:K.style,styleSpec:K.styleSpec,arrayElementValidator:V})),Br(ge)==="array"&&ge.length===0&&fe.push(new be(K.key,ge,"array must have at least one stop")),fe},default:function(K){return Bt({key:K.key,value:K.value,valueSpec:d,style:K.style,styleSpec:K.styleSpec})}}});return g==="identity"&&S&&z.push(new be(e.key,e.value,'missing required property "property"')),g==="identity"||e.value.stops||z.push(new be(e.key,e.value,'missing required property "stops"')),g==="exponential"&&e.valueSpec.expression&&!So(e.valueSpec)&&z.push(new be(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(P&&!nn(e.valueSpec)?z.push(new be(e.key,e.value,"property functions not supported")):S&&!wo(e.valueSpec)&&z.push(new be(e.key,e.value,"zoom functions not supported"))),g!=="categorical"&&!O||e.value.property!==void 0||z.push(new be(e.key,e.value,'"property" property is required')),z;function V(K){var fe=[],ge=K.value,Re=K.key;if(Br(ge)!=="array")return[new be(Re,ge,"array expected, "+Br(ge)+" found")];if(ge.length!==2)return[new be(Re,ge,"array length 2 expected, length "+ge.length+" found")];if(O){if(Br(ge[0])!=="object")return[new be(Re,ge,"object expected, "+Br(ge[0])+" found")];if(ge[0].zoom===void 0)return[new be(Re,ge,"object stop key must have zoom")];if(ge[0].value===void 0)return[new be(Re,ge,"object stop key must have value")];if(h&&h>St(ge[0].zoom))return[new be(Re,ge[0].zoom,"stop zoom values must appear in ascending order")];St(ge[0].zoom)!==h&&(h=St(ge[0].zoom),i=void 0,v={}),fe=fe.concat(co({key:Re+"[0]",value:ge[0],valueSpec:{zoom:{}},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{zoom:Ys,value:G}}))}else fe=fe.concat(G({key:Re+"[0]",value:ge[0],valueSpec:{},style:K.style,styleSpec:K.styleSpec},ge));return Fi(rt(ge[1]))?fe.concat([new be(Re+"[1]",ge[1],"expressions are not allowed in function stops.")]):fe.concat(Bt({key:Re+"[1]",value:ge[1],valueSpec:d,style:K.style,styleSpec:K.styleSpec}))}function G(K,fe){var ge=Br(K.value),Re=St(K.value),Ee=K.value!==null?K.value:fe;if(r){if(ge!==r)return[new be(K.key,Ee,ge+" stop domain type must match previous stop domain type "+r)]}else r=ge;if(ge!=="number"&&ge!=="string"&&ge!=="boolean")return[new be(K.key,Ee,"stop domain value must be a number, string, or boolean")];if(ge!=="number"&&g!=="categorical"){var Fe="number expected, "+ge+" found";return nn(d)&&g===void 0&&(Fe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new be(K.key,Ee,Fe)]}return g!=="categorical"||ge!=="number"||isFinite(Re)&&Math.floor(Re)===Re?g!=="categorical"&&ge==="number"&&i!==void 0&&Re<i?[new be(K.key,Ee,"stop domain values must appear in ascending order")]:(i=Re,g==="categorical"&&Re in v?[new be(K.key,Ee,"stop domain values must be unique")]:(v[Re]=!0,[])):[new be(K.key,Ee,"integer expected, found "+Re)]}}function Ea(e){var r=(e.expressionContext==="property"?kl:Oo)(rt(e.value),e.valueSpec);if(r.result==="error")return r.value.map(function(h){return new be(""+e.key+h.key,e.value,h.message)});var i=r.value.expression||r.value._styleExpression.expression;if(e.expressionContext==="property"&&e.propertyKey==="text-font"&&!i.outputDefined())return[new be(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if(e.expressionContext==="property"&&e.propertyType==="layout"&&!Sa(i))return[new be(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if(e.expressionContext==="filter"&&!Sa(i))return[new be(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&e.expressionContext.indexOf("cluster")===0){if(!Xa(i,["zoom","feature-state"]))return[new be(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(e.expressionContext==="cluster-initial"&&!wa(i))return[new be(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ps(e){var r=e.key,i=e.value,h=e.valueSpec,d=[];return Array.isArray(h.values)?h.values.indexOf(St(i))===-1&&d.push(new be(r,i,"expected one of ["+h.values.join(", ")+"], "+JSON.stringify(i)+" found")):Object.keys(h.values).indexOf(St(i))===-1&&d.push(new be(r,i,"expected one of ["+Object.keys(h.values).join(", ")+"], "+JSON.stringify(i)+" found")),d}function Qs(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var r=0,i=e.slice(1);r<i.length;r+=1){var h=i[r];if(!Qs(h)&&typeof h!="boolean")return!1}return!0;default:return!0}}To.deserialize=function(e){return new To(e._parameters,e._specification)},To.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var $u={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ls(e){if(e==null)return{filter:function(){return!0},needGeometry:!1};Qs(e)||(e=el(e));var r=Oo(e,$u);if(r.result==="error")throw new Error(r.value.map(function(i){return i.key+": "+i.message}).join(", "));return{filter:function(i,h,d){return r.value.evaluate(i,h,{},d)},needGeometry:function i(h){if(!Array.isArray(h))return!1;if(h[0]==="within")return!0;for(var d=1;d<h.length;d++)if(i(h[d]))return!0;return!1}(e)}}function Gu(e,r){return e<r?-1:e>r?1:0}function el(e){if(!e)return!0;var r,i=e[0];return e.length<=1?i!=="any":i==="=="?Zu(e[1],e[2],"=="):i==="!="?_e(Zu(e[1],e[2],"==")):i==="<"||i===">"||i==="<="||i===">="?Zu(e[1],e[2],i):i==="any"?(r=e.slice(1),["any"].concat(r.map(el))):i==="all"?["all"].concat(e.slice(1).map(el)):i==="none"?["all"].concat(e.slice(1).map(el).map(_e)):i==="in"?lu(e[1],e.slice(2)):i==="!in"?_e(lu(e[1],e.slice(2))):i==="has"?Xu(e[1]):i==="!has"?_e(Xu(e[1])):i!=="within"||e}function Zu(e,r,i){switch(e){case"$type":return["filter-type-"+i,r];case"$id":return["filter-id-"+i,r];default:return["filter-"+i,e,r]}}function lu(e,r){if(r.length===0)return!1;switch(e){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(function(i){return typeof i!=typeof r[0]})?["filter-in-large",e,["literal",r.sort(Gu)]]:["filter-in-small",e,["literal",r]]}}function Xu(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function _e(e){return["!",e]}function ze(e){return Qs(rt(e.value))?Ea(gt({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function r(i){var h=i.value,d=i.key;if(Br(h)!=="array")return[new be(d,h,"array expected, "+Br(h)+" found")];var g,v=i.styleSpec,S=[];if(h.length<1)return[new be(d,h,"filter array must have at least 1 element")];switch(S=S.concat(ps({key:d+"[0]",value:h[0],valueSpec:v.filter_operator,style:i.style,styleSpec:i.styleSpec})),St(h[0])){case"<":case"<=":case">":case">=":h.length>=2&&St(h[1])==="$type"&&S.push(new be(d,h,'"$type" cannot be use with operator "'+h[0]+'"'));case"==":case"!=":h.length!==3&&S.push(new be(d,h,'filter array for operator "'+h[0]+'" must have 3 elements'));case"in":case"!in":h.length>=2&&(g=Br(h[1]))!=="string"&&S.push(new be(d+"[1]",h[1],"string expected, "+g+" found"));for(var P=2;P<h.length;P++)g=Br(h[P]),St(h[1])==="$type"?S=S.concat(ps({key:d+"["+P+"]",value:h[P],valueSpec:v.geometry_type,style:i.style,styleSpec:i.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&S.push(new be(d+"["+P+"]",h[P],"string, number, or boolean expected, "+g+" found"));break;case"any":case"all":case"none":for(var O=1;O<h.length;O++)S=S.concat(r({key:d+"["+O+"]",value:h[O],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":g=Br(h[1]),h.length!==2?S.push(new be(d,h,'filter array for "'+h[0]+'" operator must have 2 elements')):g!=="string"&&S.push(new be(d+"[1]",h[1],"string expected, "+g+" found"));break;case"within":g=Br(h[1]),h.length!==2?S.push(new be(d,h,'filter array for "'+h[0]+'" operator must have 2 elements')):g!=="object"&&S.push(new be(d+"[1]",h[1],"object expected, "+g+" found"))}return S}(e)}function Ye(e,r){var i=e.key,h=e.style,d=e.styleSpec,g=e.value,v=e.objectKey,S=d[r+"_"+e.layerType];if(!S)return[];var P=v.match(/^(.*)-transition$/);if(r==="paint"&&P&&S[P[1]]&&S[P[1]].transition)return Bt({key:i,value:g,valueSpec:d.transition,style:h,styleSpec:d});var O,z=e.valueSpec||S[v];if(!z)return[new be(i,g,'unknown property "'+v+'"')];if(Br(g)==="string"&&nn(z)&&!z.tokens&&(O=/^{([^}]+)}$/.exec(g)))return[new be(i,g,'"'+v+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(O[1])+" }`.")];var V=[];return e.layerType==="symbol"&&(v==="text-field"&&h&&!h.glyphs&&V.push(new be(i,g,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&fs(rt(g))&&St(g.type)==="identity"&&V.push(new be(i,g,'"text-font" does not support identity functions'))),V.concat(Bt({key:e.key,value:g,valueSpec:z,style:h,styleSpec:d,expressionContext:"property",propertyType:r,propertyKey:v}))}function at(e){return Ye(e,"paint")}function pt(e){return Ye(e,"layout")}function Vt(e){var r=[],i=e.value,h=e.key,d=e.style,g=e.styleSpec;i.type||i.ref||r.push(new be(h,i,'either "type" or "ref" is required'));var v,S=St(i.type),P=St(i.ref);if(i.id)for(var O=St(i.id),z=0;z<e.arrayIndex;z++){var V=d.layers[z];St(V.id)===O&&r.push(new be(h,i.id,'duplicate layer id "'+i.id+'", previously used at line '+V.id.__line__))}if("ref"in i)["type","source","source-layer","filter","layout"].forEach(function(fe){fe in i&&r.push(new be(h,i[fe],'"'+fe+'" is prohibited for ref layers'))}),d.layers.forEach(function(fe){St(fe.id)===P&&(v=fe)}),v?v.ref?r.push(new be(h,i.ref,"ref cannot reference another ref layer")):S=St(v.type):r.push(new be(h,i.ref,'ref layer "'+P+'" not found'));else if(S!=="background")if(i.source){var G=d.sources&&d.sources[i.source],K=G&&St(G.type);G?K==="vector"&&S==="raster"?r.push(new be(h,i.source,'layer "'+i.id+'" requires a raster source')):K==="raster"&&S!=="raster"?r.push(new be(h,i.source,'layer "'+i.id+'" requires a vector source')):K!=="vector"||i["source-layer"]?K==="raster-dem"&&S!=="hillshade"?r.push(new be(h,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!i.paint||!i.paint["line-gradient"]||K==="geojson"&&G.lineMetrics||r.push(new be(h,i,'layer "'+i.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):r.push(new be(h,i,'layer "'+i.id+'" must specify a "source-layer"')):r.push(new be(h,i.source,'source "'+i.source+'" not found'))}else r.push(new be(h,i,'missing required property "source"'));return r=r.concat(co({key:h,value:i,valueSpec:g.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Bt({key:h+".type",value:i.type,valueSpec:g.layer.type,style:e.style,styleSpec:e.styleSpec,object:i,objectKey:"type"})},filter:ze,layout:function(fe){return co({layer:i,key:fe.key,value:fe.value,style:fe.style,styleSpec:fe.styleSpec,objectElementValidators:{"*":function(ge){return pt(gt({layerType:S},ge))}}})},paint:function(fe){return co({layer:i,key:fe.key,value:fe.value,style:fe.style,styleSpec:fe.styleSpec,objectElementValidators:{"*":function(ge){return at(gt({layerType:S},ge))}}})}}}))}function Gt(e){var r=e.value,i=e.key,h=Br(r);return h!=="string"?[new be(i,r,"string expected, "+h+" found")]:[]}var Nt={promoteId:function(e){var r=e.key,i=e.value;if(Br(i)==="string")return Gt({key:r,value:i});var h=[];for(var d in i)h.push.apply(h,Gt({key:r+"."+d,value:i[d]}));return h}};function Yt(e){var r=e.value,i=e.key,h=e.styleSpec,d=e.style;if(!r.type)return[new be(i,r,'"type" is required')];var g,v=St(r.type);switch(v){case"vector":case"raster":case"raster-dem":return co({key:i,value:r,valueSpec:h["source_"+v.replace("-","_")],style:e.style,styleSpec:h,objectElementValidators:Nt});case"geojson":if(g=co({key:i,value:r,valueSpec:h.source_geojson,style:d,styleSpec:h,objectElementValidators:Nt}),r.cluster)for(var S in r.clusterProperties){var P=r.clusterProperties[S],O=P[0],z=typeof O=="string"?[O,["accumulated"],["get",S]]:O;g.push.apply(g,Ea({key:i+"."+S+".map",value:P[1],expressionContext:"cluster-map"})),g.push.apply(g,Ea({key:i+"."+S+".reduce",value:z,expressionContext:"cluster-reduce"}))}return g;case"video":return co({key:i,value:r,valueSpec:h.source_video,style:d,styleSpec:h});case"image":return co({key:i,value:r,valueSpec:h.source_image,style:d,styleSpec:h});case"canvas":return[new be(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ps({key:i+".type",value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:d,styleSpec:h})}}function Ur(e){var r=e.value,i=e.styleSpec,h=i.light,d=e.style,g=[],v=Br(r);if(r===void 0)return g;if(v!=="object")return g.concat([new be("light",r,"object expected, "+v+" found")]);for(var S in r){var P=S.match(/^(.*)-transition$/);g=g.concat(P&&h[P[1]]&&h[P[1]].transition?Bt({key:S,value:r[S],valueSpec:i.transition,style:d,styleSpec:i}):h[S]?Bt({key:S,value:r[S],valueSpec:h[S],style:d,styleSpec:i}):[new be(S,r[S],'unknown property "'+S+'"')])}return g}var br={"*":function(){return[]},array:ha,boolean:function(e){var r=e.value,i=e.key,h=Br(r);return h!=="boolean"?[new be(i,r,"boolean expected, "+h+" found")]:[]},number:Ys,color:function(e){var r=e.key,i=e.value,h=Br(i);return h!=="string"?[new be(r,i,"color expected, "+h+" found")]:Er(i)===null?[new be(r,i,'color expected, "'+i+'" found')]:[]},constants:je,enum:ps,filter:ze,function:Js,layer:Vt,object:co,source:Yt,light:Ur,string:Gt,formatted:function(e){return Gt(e).length===0?[]:Ea(e)},resolvedImage:function(e){return Gt(e).length===0?[]:Ea(e)}};function Bt(e){var r=e.value,i=e.valueSpec,h=e.styleSpec;return i.expression&&fs(St(r))?Js(e):i.expression&&Fi(rt(r))?Ea(e):i.type&&br[i.type]?br[i.type](e):co(gt({},e,{valueSpec:i.type?h[i.type]:i}))}function ar(e){var r=e.value,i=e.key,h=Gt(e);return h.length||(r.indexOf("{fontstack}")===-1&&h.push(new be(i,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&h.push(new be(i,r,'"glyphs" url must include a "{range}" token'))),h}function lr(e,r){r===void 0&&(r=Q);var i=[];return i=i.concat(Bt({key:"",value:e,valueSpec:r.$root,styleSpec:r,style:e,objectElementValidators:{glyphs:ar,"*":function(){return[]}}})),e.constants&&(i=i.concat(je({key:"constants",value:e.constants,style:e,styleSpec:r}))),An(i)}function An(e){return[].concat(e).sort(function(r,i){return r.line-i.line})}function Ai(e){return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return An(e.apply(this,r))}}lr.source=Ai(Yt),lr.light=Ai(Ur),lr.layer=Ai(Vt),lr.filter=Ai(ze),lr.paintProperty=Ai(at),lr.layoutProperty=Ai(pt);var vi=lr,Zo=vi.light,Ca=vi.paintProperty,Aa=vi.layoutProperty;function Ii(e,r){var i=!1;if(r&&r.length)for(var h=0,d=r;h<d.length;h+=1)e.fire(new ke(new Error(d[h].message))),i=!0;return i}var Rs=ki;function ki(e,r,i){var h=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var d=new Int32Array(this.arrayBuffer);e=d[0],this.d=(r=d[1])+2*(i=d[2]);for(var g=0;g<this.d*this.d;g++){var v=d[3+g],S=d[3+g+1];h.push(v===S?null:d.subarray(v,S))}var P=d[3+h.length+1];this.keys=d.subarray(d[3+h.length],P),this.bboxes=d.subarray(P),this.insert=this._insertReadonly}else{this.d=r+2*i;for(var O=0;O<this.d*this.d;O++)h.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=e,this.padding=i,this.scale=r/e,this.uid=0;var z=i/r*e;this.min=-z,this.max=e+z}ki.prototype.insert=function(e,r,i,h,d){this._forEachCell(r,i,h,d,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(r),this.bboxes.push(i),this.bboxes.push(h),this.bboxes.push(d)},ki.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ki.prototype._insertCell=function(e,r,i,h,d,g){this.cells[d].push(g)},ki.prototype.query=function(e,r,i,h,d){var g=this.min,v=this.max;if(e<=g&&r<=g&&v<=i&&v<=h&&!d)return Array.prototype.slice.call(this.keys);var S=[];return this._forEachCell(e,r,i,h,this._queryCell,S,{},d),S},ki.prototype._queryCell=function(e,r,i,h,d,g,v,S){var P=this.cells[d];if(P!==null)for(var O=this.keys,z=this.bboxes,V=0;V<P.length;V++){var G=P[V];if(v[G]===void 0){var K=4*G;(S?S(z[K+0],z[K+1],z[K+2],z[K+3]):e<=z[K+2]&&r<=z[K+3]&&i>=z[K+0]&&h>=z[K+1])?(v[G]=!0,g.push(O[G])):v[G]=!1}}},ki.prototype._forEachCell=function(e,r,i,h,d,g,v,S){for(var P=this._convertToCellCoord(e),O=this._convertToCellCoord(r),z=this._convertToCellCoord(i),V=this._convertToCellCoord(h),G=P;G<=z;G++)for(var K=O;K<=V;K++){var fe=this.d*K+G;if((!S||S(this._convertFromCellCoord(G),this._convertFromCellCoord(K),this._convertFromCellCoord(G+1),this._convertFromCellCoord(K+1)))&&d.call(this,e,r,i,h,fe,g,v,S))return}},ki.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},ki.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},ki.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,r=3+this.cells.length+1+1,i=0,h=0;h<this.cells.length;h++)i+=this.cells[h].length;var d=new Int32Array(r+i+this.keys.length+this.bboxes.length);d[0]=this.extent,d[1]=this.n,d[2]=this.padding;for(var g=r,v=0;v<e.length;v++){var S=e[v];d[3+v]=g,d.set(S,g),g+=S.length}return d[3+e.length]=g,d.set(this.keys,g),d[3+e.length+1]=g+=this.keys.length,d.set(this.bboxes,g),g+=this.bboxes.length,d.buffer};var Ku=W.ImageData,Sp=W.ImageBitmap,bi={};function $t(e,r,i){i===void 0&&(i={}),Object.defineProperty(r,"_classRegistryKey",{value:e,writeable:!1}),bi[e]={klass:r,omit:i.omit||[],shallow:i.shallow||[]}}for(var Xo in $t("Object",Object),Rs.serialize=function(e,r){var i=e.toArrayBuffer();return r&&r.push(i),{buffer:i}},Rs.deserialize=function(e){return new Rs(e.buffer)},$t("Grid",Rs),$t("Color",Xr),$t("Error",Error),$t("ResolvedImage",Oi),$t("StylePropertyFunction",To),$t("StyleExpression",Go,{omit:["_evaluator"]}),$t("ZoomDependentExpression",Ja),$t("ZoomConstantExpression",Ya),$t("CompoundExpression",yi,{omit:["_evaluate"]}),Ce)Ce[Xo]._classRegistryKey||$t("Expression_"+Xo,Ce[Xo]);function Oc(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}function uu(e){return Sp&&e instanceof Sp}function Qa(e,r){if(e==null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Oc(e)||uu(e))return r&&r.push(e),e;if(ArrayBuffer.isView(e)){var i=e;return r&&r.push(i.buffer),i}if(e instanceof Ku)return r&&r.push(e.data.buffer),e;if(Array.isArray(e)){for(var h=[],d=0,g=e;d<g.length;d+=1)h.push(Qa(g[d],r));return h}if(typeof e=="object"){var v=e.constructor,S=v._classRegistryKey;if(!S)throw new Error("can't serialize object of unregistered class");var P=v.serialize?v.serialize(e,r):{};if(!v.serialize){for(var O in e)if(e.hasOwnProperty(O)&&!(bi[S].omit.indexOf(O)>=0)){var z=e[O];P[O]=bi[S].shallow.indexOf(O)>=0?z:Qa(z,r)}e instanceof Error&&(P.message=e.message)}if(P.$name)throw new Error("$name property is reserved for worker serialization logic.");return S!=="Object"&&(P.$name=S),P}throw new Error("can't serialize object of type "+typeof e)}function Ko(e){if(e==null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Oc(e)||uu(e)||ArrayBuffer.isView(e)||e instanceof Ku)return e;if(Array.isArray(e))return e.map(Ko);if(typeof e=="object"){var r=e.$name||"Object",i=bi[r].klass;if(!i)throw new Error("can't deserialize unregistered class "+r);if(i.deserialize)return i.deserialize(e);for(var h=Object.create(i.prototype),d=0,g=Object.keys(e);d<g.length;d+=1){var v=g[d];if(v!=="$name"){var S=e[v];h[v]=bi[r].shallow.indexOf(v)>=0?S:Ko(S)}}return h}throw new Error("can't deserialize object of type "+typeof e)}var Kh=function(){this.first=!0};Kh.prototype.update=function(e,r){var i=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=r),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=i,!0))};var Ot={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Yh(e){for(var r=0,i=e;r<i.length;r+=1)if(Dc(i[r].charCodeAt(0)))return!0;return!1}function Dc(e){return!(e!==746&&e!==747&&(e<4352||!(Ot["Bopomofo Extended"](e)||Ot.Bopomofo(e)||Ot["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Ot["CJK Compatibility Ideographs"](e)||Ot["CJK Compatibility"](e)||Ot["CJK Radicals Supplement"](e)||Ot["CJK Strokes"](e)||!(!Ot["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||e===12336)||Ot["CJK Unified Ideographs Extension A"](e)||Ot["CJK Unified Ideographs"](e)||Ot["Enclosed CJK Letters and Months"](e)||Ot["Hangul Compatibility Jamo"](e)||Ot["Hangul Jamo Extended-A"](e)||Ot["Hangul Jamo Extended-B"](e)||Ot["Hangul Jamo"](e)||Ot["Hangul Syllables"](e)||Ot.Hiragana(e)||Ot["Ideographic Description Characters"](e)||Ot.Kanbun(e)||Ot["Kangxi Radicals"](e)||Ot["Katakana Phonetic Extensions"](e)||Ot.Katakana(e)&&e!==12540||!(!Ot["Halfwidth and Fullwidth Forms"](e)||e===65288||e===65289||e===65293||e>=65306&&e<=65310||e===65339||e===65341||e===65343||e>=65371&&e<=65503||e===65507||e>=65512&&e<=65519)||!(!Ot["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Ot["Unified Canadian Aboriginal Syllabics"](e)||Ot["Unified Canadian Aboriginal Syllabics Extended"](e)||Ot["Vertical Forms"](e)||Ot["Yijing Hexagram Symbols"](e)||Ot["Yi Syllables"](e)||Ot["Yi Radicals"](e))))}function Jh(e){return!(Dc(e)||function(r){return!!(Ot["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||Ot["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||Ot["Letterlike Symbols"](r)||Ot["Number Forms"](r)||Ot["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||Ot["Control Pictures"](r)&&r!==9251||Ot["Optical Character Recognition"](r)||Ot["Enclosed Alphanumerics"](r)||Ot["Geometric Shapes"](r)||Ot["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||Ot["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||Ot["CJK Symbols and Punctuation"](r)||Ot.Katakana(r)||Ot["Private Use Area"](r)||Ot["CJK Compatibility Forms"](r)||Ot["Small Form Variants"](r)||Ot["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(e))}function Ia(e){return e>=1424&&e<=2303||Ot["Arabic Presentation Forms-A"](e)||Ot["Arabic Presentation Forms-B"](e)}function Yo(e,r){return!(!r&&Ia(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Ot.Khmer(e))}function Nc(e){for(var r=0,i=e;r<i.length;r+=1)if(Ia(i[r].charCodeAt(0)))return!0;return!1}var zc=null,Jo="unavailable",Ms=null,Tp=function(e){e&&typeof e=="string"&&e.indexOf("NetworkError")>-1&&(Jo="error"),zc&&zc(e)};function Yu(){Qh.fire(new me("pluginStateChange",{pluginStatus:Jo,pluginURL:Ms}))}var Qh=new Oe,ef=function(){return Jo},es=function(){if(Jo!=="deferred"||!Ms)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jo="loading",Yu(),Ms&&$a({url:Ms},function(e){e?Tp(e):(Jo="loaded",Yu())})},fa={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Jo==="loaded"||fa.applyArabicShaping!=null},isLoading:function(){return Jo==="loading"},setState:function(e){Jo=e.pluginStatus,Ms=e.pluginURL},isParsed:function(){return fa.applyArabicShaping!=null&&fa.processBidirectionalText!=null&&fa.processStyledBidirectionalText!=null},getPluginURL:function(){return Ms}},jr=function(e,r){this.zoom=e,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Kh,this.transition={})};jr.prototype.isSupportedScript=function(e){return function(r,i){for(var h=0,d=r;h<d.length;h+=1)if(!Yo(d[h].charCodeAt(0),i))return!1;return!0}(e,fa.isLoaded())},jr.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},jr.prototype.getCrossfadeParameters=function(){var e=this.zoom,r=e-Math.floor(e),i=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*r}};var ds=function(e,r){this.property=e,this.value=r,this.expression=function(i,h){if(fs(i))return new To(i,h);if(Fi(i)){var d=kl(i,h);if(d.result==="error")throw new Error(d.value.map(function(v){return v.key+": "+v.message}).join(", "));return d.value}var g=i;return typeof i=="string"&&h.type==="color"&&(g=Xr.parse(i)),{kind:"constant",evaluate:function(){return g}}}(r===void 0?e.specification.default:r,e.specification)};ds.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},ds.prototype.possiblyEvaluate=function(e,r,i){return this.property.possiblyEvaluate(this,e,r,i)};var ka=function(e){this.property=e,this.value=new ds(e,void 0)};ka.prototype.transitioned=function(e,r){return new Pl(this.property,this.value,r,Pe({},e.transition,this.transition),e.now)},ka.prototype.untransitioned=function(){return new Pl(this.property,this.value,null,{},0)};var ro=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ro.prototype.getValue=function(e){return xt(this._values[e].value.value)},ro.prototype.setValue=function(e,r){this._values.hasOwnProperty(e)||(this._values[e]=new ka(this._values[e].property)),this._values[e].value=new ds(this._values[e].property,r===null?void 0:xt(r))},ro.prototype.getTransition=function(e){return xt(this._values[e].transition)},ro.prototype.setTransition=function(e,r){this._values.hasOwnProperty(e)||(this._values[e]=new ka(this._values[e].property)),this._values[e].transition=xt(r)||void 0},ro.prototype.serialize=function(){for(var e={},r=0,i=Object.keys(this._values);r<i.length;r+=1){var h=i[r],d=this.getValue(h);d!==void 0&&(e[h]=d);var g=this.getTransition(h);g!==void 0&&(e[h+"-transition"]=g)}return e},ro.prototype.transitioned=function(e,r){for(var i=new tl(this._properties),h=0,d=Object.keys(this._values);h<d.length;h+=1){var g=d[h];i._values[g]=this._values[g].transitioned(e,r._values[g])}return i},ro.prototype.untransitioned=function(){for(var e=new tl(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var h=i[r];e._values[h]=this._values[h].untransitioned()}return e};var Pl=function(e,r,i,h,d){this.property=e,this.value=r,this.begin=d+h.delay||0,this.end=this.begin+h.duration||0,e.specification.transition&&(h.delay||h.duration)&&(this.prior=i)};Pl.prototype.possiblyEvaluate=function(e,r,i){var h=e.now||0,d=this.value.possiblyEvaluate(e,r,i),g=this.prior;if(g){if(h>this.end)return this.prior=null,d;if(this.value.isDataDriven())return this.prior=null,d;if(h<this.begin)return g.possiblyEvaluate(e,r,i);var v=(h-this.begin)/(this.end-this.begin);return this.property.interpolate(g.possiblyEvaluate(e,r,i),d,function(S){if(S<=0)return 0;if(S>=1)return 1;var P=S*S,O=P*S;return 4*(S<.5?O:3*(S-P)+O-.75)}(v))}return d};var tl=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};tl.prototype.possiblyEvaluate=function(e,r,i){for(var h=new Ju(this._properties),d=0,g=Object.keys(this._values);d<g.length;d+=1){var v=g[d];h._values[v]=this._values[v].possiblyEvaluate(e,r,i)}return h},tl.prototype.hasTransition=function(){for(var e=0,r=Object.keys(this._values);e<r.length;e+=1)if(this._values[r[e]].prior)return!0;return!1};var ts=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};ts.prototype.getValue=function(e){return xt(this._values[e].value)},ts.prototype.setValue=function(e,r){this._values[e]=new ds(this._values[e].property,r===null?void 0:xt(r))},ts.prototype.serialize=function(){for(var e={},r=0,i=Object.keys(this._values);r<i.length;r+=1){var h=i[r],d=this.getValue(h);d!==void 0&&(e[h]=d)}return e},ts.prototype.possiblyEvaluate=function(e,r,i){for(var h=new Ju(this._properties),d=0,g=Object.keys(this._values);d<g.length;d+=1){var v=g[d];h._values[v]=this._values[v].possiblyEvaluate(e,r,i)}return h};var Eo=function(e,r,i){this.property=e,this.value=r,this.parameters=i};Eo.prototype.isConstant=function(){return this.value.kind==="constant"},Eo.prototype.constantOr=function(e){return this.value.kind==="constant"?this.value.value:e},Eo.prototype.evaluate=function(e,r,i,h){return this.property.evaluate(this.value,this.parameters,e,r,i,h)};var Ju=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};Ju.prototype.get=function(e){return this._values[e]};var nr=function(e){this.specification=e};nr.prototype.possiblyEvaluate=function(e,r){return e.expression.evaluate(r)},nr.prototype.interpolate=function(e,r,i){var h=Mo[this.specification.type];return h?h(e,r,i):e};var Xt=function(e,r){this.specification=e,this.overrides=r};Xt.prototype.possiblyEvaluate=function(e,r,i,h){return new Eo(this,e.expression.kind==="constant"||e.expression.kind==="camera"?{kind:"constant",value:e.expression.evaluate(r,null,{},i,h)}:e.expression,r)},Xt.prototype.interpolate=function(e,r,i){if(e.value.kind!=="constant"||r.value.kind!=="constant")return e;if(e.value.value===void 0||r.value.value===void 0)return new Eo(this,{kind:"constant",value:void 0},e.parameters);var h=Mo[this.specification.type];return h?new Eo(this,{kind:"constant",value:h(e.value.value,r.value.value,i)},e.parameters):e},Xt.prototype.evaluate=function(e,r,i,h,d,g){return e.kind==="constant"?e.value:e.evaluate(r,i,h,d,g)};var Fc=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(i,h,d,g){if(i.value===void 0)return new Eo(this,{kind:"constant",value:void 0},h);if(i.expression.kind==="constant"){var v=i.expression.evaluate(h,null,{},d,g),S=i.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,P=this._calculate(S,S,S,h);return new Eo(this,{kind:"constant",value:P},h)}if(i.expression.kind==="camera"){var O=this._calculate(i.expression.evaluate({zoom:h.zoom-1}),i.expression.evaluate({zoom:h.zoom}),i.expression.evaluate({zoom:h.zoom+1}),h);return new Eo(this,{kind:"constant",value:O},h)}return new Eo(this,i.expression,h)},r.prototype.evaluate=function(i,h,d,g,v,S){if(i.kind==="source"){var P=i.evaluate(h,d,g,v,S);return this._calculate(P,P,P,h)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(h.zoom)-1},d,g),i.evaluate({zoom:Math.floor(h.zoom)},d,g),i.evaluate({zoom:Math.floor(h.zoom)+1},d,g),h):i.value},r.prototype._calculate=function(i,h,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:i,to:h}:{from:d,to:h}},r.prototype.interpolate=function(i){return i},r}(Xt),Co=function(e){this.specification=e};Co.prototype.possiblyEvaluate=function(e,r,i,h){if(e.value!==void 0){if(e.expression.kind==="constant"){var d=e.expression.evaluate(r,null,{},i,h);return this._calculate(d,d,d,r)}return this._calculate(e.expression.evaluate(new jr(Math.floor(r.zoom-1),r)),e.expression.evaluate(new jr(Math.floor(r.zoom),r)),e.expression.evaluate(new jr(Math.floor(r.zoom+1),r)),r)}},Co.prototype._calculate=function(e,r,i,h){return h.zoom>h.zoomHistory.lastIntegerZoom?{from:e,to:r}:{from:i,to:r}},Co.prototype.interpolate=function(e){return e};var rs=function(e){this.specification=e};rs.prototype.possiblyEvaluate=function(e,r,i,h){return!!e.expression.evaluate(r,null,{},i,h)},rs.prototype.interpolate=function(){return!1};var no=function(e){for(var r in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var i=e[r];i.specification.overridable&&this.overridableProperties.push(r);var h=this.defaultPropertyValues[r]=new ds(i,void 0),d=this.defaultTransitionablePropertyValues[r]=new ka(i);this.defaultTransitioningPropertyValues[r]=d.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=h.possiblyEvaluate({})}};$t("DataDrivenProperty",Xt),$t("DataConstantProperty",nr),$t("CrossFadedDataDrivenProperty",Fc),$t("CrossFadedProperty",Co),$t("ColorRampProperty",rs);var ms=function(e){function r(i,h){if(e.call(this),this.id=i.id,this.type=i.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},i.type!=="custom"&&(this.metadata=(i=i).metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),h.layout&&(this._unevaluatedLayout=new ts(h.layout)),h.paint)){for(var d in this._transitionablePaint=new ro(h.paint),i.paint)this.setPaintProperty(d,i.paint[d],{validate:!1});for(var g in i.layout)this.setLayoutProperty(g,i.layout[g],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ju(h.paint)}}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},r.prototype.getLayoutProperty=function(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)},r.prototype.setLayoutProperty=function(i,h,d){d===void 0&&(d={}),h!=null&&this._validate(Aa,"layers."+this.id+".layout."+i,i,h,d)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,h):this.visibility=h)},r.prototype.getPaintProperty=function(i){return qe(i,"-transition")?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)},r.prototype.setPaintProperty=function(i,h,d){if(d===void 0&&(d={}),h!=null&&this._validate(Ca,"layers."+this.id+".paint."+i,i,h,d))return!1;if(qe(i,"-transition"))return this._transitionablePaint.setTransition(i.slice(0,-11),h||void 0),!1;var g=this._transitionablePaint._values[i],v=g.property.specification["property-type"]==="cross-faded-data-driven",S=g.value.isDataDriven(),P=g.value;this._transitionablePaint.setValue(i,h),this._handleSpecialPaintPropertyUpdate(i);var O=this._transitionablePaint._values[i].value;return O.isDataDriven()||S||v||this._handleOverridablePaintPropertyUpdate(i,P,O)},r.prototype._handleSpecialPaintPropertyUpdate=function(i){},r.prototype._handleOverridablePaintPropertyUpdate=function(i,h,d){return!1},r.prototype.isHidden=function(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"},r.prototype.updateTransitions=function(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)},r.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},r.prototype.recalculate=function(i,h){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,h)},r.prototype.serialize=function(){var i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),Xe(i,function(h,d){return!(h===void 0||d==="layout"&&!Object.keys(h).length||d==="paint"&&!Object.keys(h).length)})},r.prototype._validate=function(i,h,d,g,v){return v===void 0&&(v={}),(!v||v.validate!==!1)&&Ii(this,i.call(vi,{key:h,layerType:this.type,objectKey:d,value:g,styleSpec:Q,style:{glyphs:!0,sprite:!0}}))},r.prototype.is3D=function(){return!1},r.prototype.isTileClipped=function(){return!1},r.prototype.hasOffscreenPass=function(){return!1},r.prototype.resize=function(){},r.prototype.isStateDependent=function(){for(var i in this.paint._values){var h=this.paint.get(i);if(h instanceof Eo&&nn(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1},r}(Oe),tf={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Bc=function(e,r){this._structArray=e,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},vn=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Gi(e,r){r===void 0&&(r=1);var i=0,h=0;return{members:e.map(function(d){var g=tf[d.type].BYTES_PER_ELEMENT,v=i=Ep(i,Math.max(r,g)),S=d.components||1;return h=Math.max(h,g),i+=g*S,{name:d.name,type:d.type,components:S,offset:v}}),size:Ep(i,Math.max(h,r)),alignment:r}}function Ep(e,r){return Math.ceil(e/r)*r}vn.serialize=function(e,r){return e._trim(),r&&(e.isTransferred=!0,r.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},vn.deserialize=function(e){var r=Object.create(this.prototype);return r.arrayBuffer=e.arrayBuffer,r.length=e.length,r.capacity=e.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r},vn.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},vn.prototype.clear=function(){this.length=0},vn.prototype.resize=function(e){this.reserve(e),this.length=e},vn.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}},vn.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ll=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h){var d=this.length;return this.resize(d+1),this.emplace(d,i,h)},r.prototype.emplace=function(i,h,d){var g=2*i;return this.int16[g+0]=h,this.int16[g+1]=d,i},r}(vn);Ll.prototype.bytesPerElement=4,$t("StructArrayLayout2i4",Ll);var rf=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g){var v=this.length;return this.resize(v+1),this.emplace(v,i,h,d,g)},r.prototype.emplace=function(i,h,d,g,v){var S=4*i;return this.int16[S+0]=h,this.int16[S+1]=d,this.int16[S+2]=g,this.int16[S+3]=v,i},r}(vn);rf.prototype.bytesPerElement=8,$t("StructArrayLayout4i8",rf);var Os=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S){var P=this.length;return this.resize(P+1),this.emplace(P,i,h,d,g,v,S)},r.prototype.emplace=function(i,h,d,g,v,S,P){var O=6*i;return this.int16[O+0]=h,this.int16[O+1]=d,this.int16[O+2]=g,this.int16[O+3]=v,this.int16[O+4]=S,this.int16[O+5]=P,i},r}(vn);Os.prototype.bytesPerElement=12,$t("StructArrayLayout2i4i12",Os);var Qo=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S){var P=this.length;return this.resize(P+1),this.emplace(P,i,h,d,g,v,S)},r.prototype.emplace=function(i,h,d,g,v,S,P){var O=4*i,z=8*i;return this.int16[O+0]=h,this.int16[O+1]=d,this.uint8[z+4]=g,this.uint8[z+5]=v,this.uint8[z+6]=S,this.uint8[z+7]=P,i},r}(vn);Qo.prototype.bytesPerElement=8,$t("StructArrayLayout2i4ub8",Qo);var cu=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h){var d=this.length;return this.resize(d+1),this.emplace(d,i,h)},r.prototype.emplace=function(i,h,d){var g=2*i;return this.float32[g+0]=h,this.float32[g+1]=d,i},r}(vn);cu.prototype.bytesPerElement=8,$t("StructArrayLayout2f8",cu);var gs=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S,P,O,z,V){var G=this.length;return this.resize(G+1),this.emplace(G,i,h,d,g,v,S,P,O,z,V)},r.prototype.emplace=function(i,h,d,g,v,S,P,O,z,V,G){var K=10*i;return this.uint16[K+0]=h,this.uint16[K+1]=d,this.uint16[K+2]=g,this.uint16[K+3]=v,this.uint16[K+4]=S,this.uint16[K+5]=P,this.uint16[K+6]=O,this.uint16[K+7]=z,this.uint16[K+8]=V,this.uint16[K+9]=G,i},r}(vn);gs.prototype.bytesPerElement=20,$t("StructArrayLayout10ui20",gs);var Uc=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S,P,O,z,V,G,K){var fe=this.length;return this.resize(fe+1),this.emplace(fe,i,h,d,g,v,S,P,O,z,V,G,K)},r.prototype.emplace=function(i,h,d,g,v,S,P,O,z,V,G,K,fe){var ge=12*i;return this.int16[ge+0]=h,this.int16[ge+1]=d,this.int16[ge+2]=g,this.int16[ge+3]=v,this.uint16[ge+4]=S,this.uint16[ge+5]=P,this.uint16[ge+6]=O,this.uint16[ge+7]=z,this.int16[ge+8]=V,this.int16[ge+9]=G,this.int16[ge+10]=K,this.int16[ge+11]=fe,i},r}(vn);Uc.prototype.bytesPerElement=24,$t("StructArrayLayout4i4ui4i24",Uc);var hu=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d){var g=this.length;return this.resize(g+1),this.emplace(g,i,h,d)},r.prototype.emplace=function(i,h,d,g){var v=3*i;return this.float32[v+0]=h,this.float32[v+1]=d,this.float32[v+2]=g,i},r}(vn);hu.prototype.bytesPerElement=12,$t("StructArrayLayout3f12",hu);var Qu=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i){var h=this.length;return this.resize(h+1),this.emplace(h,i)},r.prototype.emplace=function(i,h){return this.uint32[1*i+0]=h,i},r}(vn);Qu.prototype.bytesPerElement=4,$t("StructArrayLayout1ul4",Qu);var nf=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S,P,O,z){var V=this.length;return this.resize(V+1),this.emplace(V,i,h,d,g,v,S,P,O,z)},r.prototype.emplace=function(i,h,d,g,v,S,P,O,z,V){var G=10*i,K=5*i;return this.int16[G+0]=h,this.int16[G+1]=d,this.int16[G+2]=g,this.int16[G+3]=v,this.int16[G+4]=S,this.int16[G+5]=P,this.uint32[K+3]=O,this.uint16[G+8]=z,this.uint16[G+9]=V,i},r}(vn);nf.prototype.bytesPerElement=20,$t("StructArrayLayout6i1ul2ui20",nf);var fu=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S){var P=this.length;return this.resize(P+1),this.emplace(P,i,h,d,g,v,S)},r.prototype.emplace=function(i,h,d,g,v,S,P){var O=6*i;return this.int16[O+0]=h,this.int16[O+1]=d,this.int16[O+2]=g,this.int16[O+3]=v,this.int16[O+4]=S,this.int16[O+5]=P,i},r}(vn);fu.prototype.bytesPerElement=12,$t("StructArrayLayout2i2i2i12",fu);var Rl=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v){var S=this.length;return this.resize(S+1),this.emplace(S,i,h,d,g,v)},r.prototype.emplace=function(i,h,d,g,v,S){var P=4*i,O=8*i;return this.float32[P+0]=h,this.float32[P+1]=d,this.float32[P+2]=g,this.int16[O+6]=v,this.int16[O+7]=S,i},r}(vn);Rl.prototype.bytesPerElement=16,$t("StructArrayLayout2f1f2i16",Rl);var of=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g){var v=this.length;return this.resize(v+1),this.emplace(v,i,h,d,g)},r.prototype.emplace=function(i,h,d,g,v){var S=12*i,P=3*i;return this.uint8[S+0]=h,this.uint8[S+1]=d,this.float32[P+1]=g,this.float32[P+2]=v,i},r}(vn);of.prototype.bytesPerElement=12,$t("StructArrayLayout2ub2f12",of);var rl=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d){var g=this.length;return this.resize(g+1),this.emplace(g,i,h,d)},r.prototype.emplace=function(i,h,d,g){var v=3*i;return this.uint16[v+0]=h,this.uint16[v+1]=d,this.uint16[v+2]=g,i},r}(vn);rl.prototype.bytesPerElement=6,$t("StructArrayLayout3ui6",rl);var nl=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S,P,O,z,V,G,K,fe,ge,Re,Ee,Fe){var We=this.length;return this.resize(We+1),this.emplace(We,i,h,d,g,v,S,P,O,z,V,G,K,fe,ge,Re,Ee,Fe)},r.prototype.emplace=function(i,h,d,g,v,S,P,O,z,V,G,K,fe,ge,Re,Ee,Fe,We){var Ze=24*i,Je=12*i,ut=48*i;return this.int16[Ze+0]=h,this.int16[Ze+1]=d,this.uint16[Ze+2]=g,this.uint16[Ze+3]=v,this.uint32[Je+2]=S,this.uint32[Je+3]=P,this.uint32[Je+4]=O,this.uint16[Ze+10]=z,this.uint16[Ze+11]=V,this.uint16[Ze+12]=G,this.float32[Je+7]=K,this.float32[Je+8]=fe,this.uint8[ut+36]=ge,this.uint8[ut+37]=Re,this.uint8[ut+38]=Ee,this.uint32[Je+10]=Fe,this.int16[Ze+22]=We,i},r}(vn);nl.prototype.bytesPerElement=48,$t("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",nl);var Vc=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g,v,S,P,O,z,V,G,K,fe,ge,Re,Ee,Fe,We,Ze,Je,ut,Et,Pt,Qt,zt,or,Ut,Rr){var gr=this.length;return this.resize(gr+1),this.emplace(gr,i,h,d,g,v,S,P,O,z,V,G,K,fe,ge,Re,Ee,Fe,We,Ze,Je,ut,Et,Pt,Qt,zt,or,Ut,Rr)},r.prototype.emplace=function(i,h,d,g,v,S,P,O,z,V,G,K,fe,ge,Re,Ee,Fe,We,Ze,Je,ut,Et,Pt,Qt,zt,or,Ut,Rr,gr){var Kt=34*i,Vr=17*i;return this.int16[Kt+0]=h,this.int16[Kt+1]=d,this.int16[Kt+2]=g,this.int16[Kt+3]=v,this.int16[Kt+4]=S,this.int16[Kt+5]=P,this.int16[Kt+6]=O,this.int16[Kt+7]=z,this.uint16[Kt+8]=V,this.uint16[Kt+9]=G,this.uint16[Kt+10]=K,this.uint16[Kt+11]=fe,this.uint16[Kt+12]=ge,this.uint16[Kt+13]=Re,this.uint16[Kt+14]=Ee,this.uint16[Kt+15]=Fe,this.uint16[Kt+16]=We,this.uint16[Kt+17]=Ze,this.uint16[Kt+18]=Je,this.uint16[Kt+19]=ut,this.uint16[Kt+20]=Et,this.uint16[Kt+21]=Pt,this.uint16[Kt+22]=Qt,this.uint32[Vr+12]=zt,this.float32[Vr+13]=or,this.float32[Vr+14]=Ut,this.float32[Vr+15]=Rr,this.float32[Vr+16]=gr,i},r}(vn);Vc.prototype.bytesPerElement=68,$t("StructArrayLayout8i15ui1ul4f68",Vc);var il=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i){var h=this.length;return this.resize(h+1),this.emplace(h,i)},r.prototype.emplace=function(i,h){return this.float32[1*i+0]=h,i},r}(vn);il.prototype.bytesPerElement=4,$t("StructArrayLayout1f4",il);var Pa=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d){var g=this.length;return this.resize(g+1),this.emplace(g,i,h,d)},r.prototype.emplace=function(i,h,d,g){var v=3*i;return this.int16[v+0]=h,this.int16[v+1]=d,this.int16[v+2]=g,i},r}(vn);Pa.prototype.bytesPerElement=6,$t("StructArrayLayout3i6",Pa);var af=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d){var g=this.length;return this.resize(g+1),this.emplace(g,i,h,d)},r.prototype.emplace=function(i,h,d,g){var v=4*i;return this.uint32[2*i+0]=h,this.uint16[v+2]=d,this.uint16[v+3]=g,i},r}(vn);af.prototype.bytesPerElement=8,$t("StructArrayLayout1ul2ui8",af);var ec=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h){var d=this.length;return this.resize(d+1),this.emplace(d,i,h)},r.prototype.emplace=function(i,h,d){var g=2*i;return this.uint16[g+0]=h,this.uint16[g+1]=d,i},r}(vn);ec.prototype.bytesPerElement=4,$t("StructArrayLayout2ui4",ec);var sf=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i){var h=this.length;return this.resize(h+1),this.emplace(h,i)},r.prototype.emplace=function(i,h){return this.uint16[1*i+0]=h,i},r}(vn);sf.prototype.bytesPerElement=2,$t("StructArrayLayout1ui2",sf);var jc=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(i,h,d,g){var v=this.length;return this.resize(v+1),this.emplace(v,i,h,d,g)},r.prototype.emplace=function(i,h,d,g,v){var S=4*i;return this.float32[S+0]=h,this.float32[S+1]=d,this.float32[S+2]=g,this.float32[S+3]=v,i},r}(vn);jc.prototype.bytesPerElement=16,$t("StructArrayLayout4f16",jc);var s=function(e){function r(){e.apply(this,arguments)}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return i.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},i.x1.get=function(){return this._structArray.int16[this._pos2+2]},i.y1.get=function(){return this._structArray.int16[this._pos2+3]},i.x2.get=function(){return this._structArray.int16[this._pos2+4]},i.y2.get=function(){return this._structArray.int16[this._pos2+5]},i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.anchorPoint.get=function(){return new R(this.anchorPointX,this.anchorPointY)},Object.defineProperties(r.prototype,i),r}(Bc);s.prototype.size=20;var u=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.get=function(i){return new s(this,i)},r}(nf);$t("CollisionBoxArray",u);var l=function(e){function r(){e.apply(this,arguments)}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},i.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},i.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},i.segment.get=function(){return this._structArray.uint16[this._pos2+10]},i.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},i.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},i.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},i.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},i.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},i.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},i.placedOrientation.set=function(h){this._structArray.uint8[this._pos1+37]=h},i.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},i.hidden.set=function(h){this._structArray.uint8[this._pos1+38]=h},i.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},i.crossTileID.set=function(h){this._structArray.uint32[this._pos4+10]=h},i.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(r.prototype,i),r}(Bc);l.prototype.size=48;var f=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.get=function(i){return new l(this,i)},r}(nl);$t("PlacedSymbolArray",f);var _=function(e){function r(){e.apply(this,arguments)}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},i.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},i.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},i.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},i.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},i.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},i.key.get=function(){return this._structArray.uint16[this._pos2+8]},i.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},i.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},i.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},i.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},i.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},i.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},i.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},i.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},i.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},i.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},i.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},i.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},i.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},i.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},i.crossTileID.set=function(h){this._structArray.uint32[this._pos4+12]=h},i.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},i.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},i.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},i.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(r.prototype,i),r}(Bc);_.prototype.size=68;var x=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.get=function(i){return new _(this,i)},r}(Vc);$t("SymbolInstanceArray",x);var w=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.getoffsetX=function(i){return this.float32[1*i+0]},r}(il);$t("GlyphOffsetArray",w);var k=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.getx=function(i){return this.int16[3*i+0]},r.prototype.gety=function(i){return this.int16[3*i+1]},r.prototype.gettileUnitDistanceFromAnchor=function(i){return this.int16[3*i+2]},r}(Pa);$t("SymbolLineVertexArray",k);var D=function(e){function r(){e.apply(this,arguments)}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(r.prototype,i),r}(Bc);D.prototype.size=8;var H=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.get=function(i){return new D(this,i)},r}(af);$t("FeatureIndexArray",H);var J=Gi([{name:"a_pos",components:2,type:"Int16"}],4).members,te=function(e){e===void 0&&(e=[]),this.segments=e};function ie(e,r){return 256*(e=ue(Math.floor(e),0,255))+ue(Math.floor(r),0,255)}te.prototype.prepareSegment=function(e,r,i,h){var d=this.segments[this.segments.length-1];return e>te.MAX_VERTEX_ARRAY_LENGTH&&tt("Max vertices per segment is "+te.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!d||d.vertexLength+e>te.MAX_VERTEX_ARRAY_LENGTH||d.sortKey!==h)&&(d={vertexOffset:r.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},h!==void 0&&(d.sortKey=h),this.segments.push(d)),d},te.prototype.get=function(){return this.segments},te.prototype.destroy=function(){for(var e=0,r=this.segments;e<r.length;e+=1){var i=r[e];for(var h in i.vaos)i.vaos[h].destroy()}},te.simpleSegment=function(e,r,i,h){return new te([{vertexOffset:e,primitiveOffset:r,vertexLength:i,primitiveLength:h,vaos:{},sortKey:0}])},te.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,$t("SegmentVector",te);var ve=Gi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ye=T(function(e){e.exports=function(r,i){var h,d,g,v,S,P,O,z;for(d=r.length-(h=3&r.length),g=i,S=3432918353,P=461845907,z=0;z<d;)O=255&r.charCodeAt(z)|(255&r.charCodeAt(++z))<<8|(255&r.charCodeAt(++z))<<16|(255&r.charCodeAt(++z))<<24,++z,g=27492+(65535&(v=5*(65535&(g=(g^=O=(65535&(O=(O=(65535&O)*S+(((O>>>16)*S&65535)<<16)&4294967295)<<15|O>>>17))*P+(((O>>>16)*P&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(O=0,h){case 3:O^=(255&r.charCodeAt(z+2))<<16;case 2:O^=(255&r.charCodeAt(z+1))<<8;case 1:g^=O=(65535&(O=(O=(65535&(O^=255&r.charCodeAt(z)))*S+(((O>>>16)*S&65535)<<16)&4294967295)<<15|O>>>17))*P+(((O>>>16)*P&65535)<<16)&4294967295}return g^=r.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0}}),Ie=T(function(e){e.exports=function(r,i){for(var h,d=r.length,g=i^d,v=0;d>=4;)h=1540483477*(65535&(h=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(h>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(h=1540483477*(65535&(h^=h>>>24))+((1540483477*(h>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:g^=(255&r.charCodeAt(v+2))<<16;case 2:g^=(255&r.charCodeAt(v+1))<<8;case 1:g=1540483477*(65535&(g^=255&r.charCodeAt(v)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0}}),he=ye,Ae=Ie;he.murmur3=ye,he.murmur2=Ae;var De=function(){this.ids=[],this.positions=[],this.indexed=!1};De.prototype.add=function(e,r,i,h){this.ids.push(nt(e)),this.positions.push(r,i,h)},De.prototype.getPositions=function(e){for(var r=nt(e),i=0,h=this.ids.length-1;i<h;){var d=i+h>>1;this.ids[d]>=r?h=d:i=d+1}for(var g=[];this.ids[i]===r;)g.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return g},De.serialize=function(e,r){var i=new Float64Array(e.ids),h=new Uint32Array(e.positions);return function d(g,v,S,P){for(;S<P;){for(var O=g[S+P>>1],z=S-1,V=P+1;;){do z++;while(g[z]<O);do V--;while(g[V]>O);if(z>=V)break;Ke(g,z,V),Ke(v,3*z,3*V),Ke(v,3*z+1,3*V+1),Ke(v,3*z+2,3*V+2)}V-S<P-V?(d(g,v,S,V),S=V+1):(d(g,v,V+1,P),P=V)}}(i,h,0,i.length-1),r&&r.push(i.buffer,h.buffer),{ids:i,positions:h}},De.deserialize=function(e){var r=new De;return r.ids=e.ids,r.positions=e.positions,r.indexed=!0,r};var He=Math.pow(2,53)-1;function nt(e){var r=+e;return!isNaN(r)&&r<=He?r:he(String(e))}function Ke(e,r,i){var h=e[r];e[r]=e[i],e[i]=h}$t("FeaturePositionMap",De);var ot=function(e,r){this.gl=e.gl,this.location=r},yt=function(e){function r(i,h){e.call(this,i,h),this.current=0}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.set=function(i){this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))},r}(ot),At=function(e){function r(i,h){e.call(this,i,h),this.current=0}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.set=function(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))},r}(ot),Ct=function(e){function r(i,h){e.call(this,i,h),this.current=[0,0]}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.set=function(i){i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1]))},r}(ot),jt=function(e){function r(i,h){e.call(this,i,h),this.current=[0,0,0]}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.set=function(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2]))},r}(ot),ir=function(e){function r(i,h){e.call(this,i,h),this.current=[0,0,0,0]}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.set=function(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))},r}(ot),cr=function(e){function r(i,h){e.call(this,i,h),this.current=Xr.transparent}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.set=function(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))},r}(ot),ur=new Float32Array(16),on=function(e){function r(i,h){e.call(this,i,h),this.current=ur}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.set=function(i){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(var h=1;h<16;h++)if(i[h]!==this.current[h]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}},r}(ot);function qt(e){return[ie(255*e.r,255*e.g),ie(255*e.b,255*e.a)]}var wr=function(e,r,i){this.value=e,this.uniformNames=r.map(function(h){return"u_"+h}),this.type=i};wr.prototype.setUniform=function(e,r,i){e.set(i.constantOr(this.value))},wr.prototype.getBinding=function(e,r,i){return this.type==="color"?new cr(e,r):new At(e,r)};var Lr=function(e,r){this.uniformNames=r.map(function(i){return"u_"+i}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Lr.prototype.setConstantPatternPositions=function(e,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=e.tlbr},Lr.prototype.setUniform=function(e,r,i,h){var d=h==="u_pattern_to"?this.patternTo:h==="u_pattern_from"?this.patternFrom:h==="u_pixel_ratio_to"?this.pixelRatioTo:h==="u_pixel_ratio_from"?this.pixelRatioFrom:null;d&&e.set(d)},Lr.prototype.getBinding=function(e,r,i){return i.substr(0,9)==="u_pattern"?new ir(e,r):new At(e,r)};var xr=function(e,r,i,h){this.expression=e,this.type=i,this.maxValue=0,this.paintVertexAttributes=r.map(function(d){return{name:"a_"+d,type:"Float32",components:i==="color"?2:1,offset:0}}),this.paintVertexArray=new h};xr.prototype.populatePaintArray=function(e,r,i,h,d){var g=this.paintVertexArray.length,v=this.expression.evaluate(new jr(0),r,{},h,[],d);this.paintVertexArray.resize(e),this._setPaintValue(g,e,v)},xr.prototype.updatePaintArray=function(e,r,i,h){var d=this.expression.evaluate({zoom:0},i,h);this._setPaintValue(e,r,d)},xr.prototype._setPaintValue=function(e,r,i){if(this.type==="color")for(var h=qt(i),d=e;d<r;d++)this.paintVertexArray.emplace(d,h[0],h[1]);else{for(var g=e;g<r;g++)this.paintVertexArray.emplace(g,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}},xr.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},xr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var _r=function(e,r,i,h,d,g){this.expression=e,this.uniformNames=r.map(function(v){return"u_"+v+"_t"}),this.type=i,this.useIntegerZoom=h,this.zoom=d,this.maxValue=0,this.paintVertexAttributes=r.map(function(v){return{name:"a_"+v,type:"Float32",components:i==="color"?4:2,offset:0}}),this.paintVertexArray=new g};_r.prototype.populatePaintArray=function(e,r,i,h,d){var g=this.expression.evaluate(new jr(this.zoom),r,{},h,[],d),v=this.expression.evaluate(new jr(this.zoom+1),r,{},h,[],d),S=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(S,e,g,v)},_r.prototype.updatePaintArray=function(e,r,i,h){var d=this.expression.evaluate({zoom:this.zoom},i,h),g=this.expression.evaluate({zoom:this.zoom+1},i,h);this._setPaintValue(e,r,d,g)},_r.prototype._setPaintValue=function(e,r,i,h){if(this.type==="color")for(var d=qt(i),g=qt(h),v=e;v<r;v++)this.paintVertexArray.emplace(v,d[0],d[1],g[0],g[1]);else{for(var S=e;S<r;S++)this.paintVertexArray.emplace(S,i,h);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(h))}},_r.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},_r.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},_r.prototype.setUniform=function(e,r){var i=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,h=ue(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);e.set(h)},_r.prototype.getBinding=function(e,r,i){return new At(e,r)};var Pr=function(e,r,i,h,d,g){this.expression=e,this.type=r,this.useIntegerZoom=i,this.zoom=h,this.layerId=g,this.zoomInPaintVertexArray=new d,this.zoomOutPaintVertexArray=new d};Pr.prototype.populatePaintArray=function(e,r,i){var h=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(h,e,r.patterns&&r.patterns[this.layerId],i)},Pr.prototype.updatePaintArray=function(e,r,i,h,d){this._setPaintValues(e,r,i.patterns&&i.patterns[this.layerId],d)},Pr.prototype._setPaintValues=function(e,r,i,h){if(h&&i){var d=h[i.min],g=h[i.mid],v=h[i.max];if(d&&g&&v)for(var S=e;S<r;S++)this.zoomInPaintVertexArray.emplace(S,g.tl[0],g.tl[1],g.br[0],g.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1],g.pixelRatio,d.pixelRatio),this.zoomOutPaintVertexArray.emplace(S,g.tl[0],g.tl[1],g.br[0],g.br[1],v.tl[0],v.tl[1],v.br[0],v.br[1],g.pixelRatio,v.pixelRatio)}},Pr.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,ve.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,ve.members,this.expression.isStateDependent))},Pr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var yr=function(e,r,i){this.binders={},this._buffers=[];var h=[];for(var d in e.paint._values)if(i(d)){var g=e.paint.get(d);if(g instanceof Eo&&nn(g.property.specification)){var v=Bi(d,e.type),S=g.value,P=g.property.specification.type,O=g.property.useIntegerZoom,z=g.property.specification["property-type"],V=z==="cross-faded"||z==="cross-faded-data-driven";if(S.kind==="constant")this.binders[d]=V?new Lr(S.value,v):new wr(S.value,v,P),h.push("/u_"+d);else if(S.kind==="source"||V){var G=ti(d,P,"source");this.binders[d]=V?new Pr(S,P,O,r,G,e.id):new xr(S,v,P,G),h.push("/a_"+d)}else{var K=ti(d,P,"composite");this.binders[d]=new _r(S,v,P,O,r,K),h.push("/z_"+d)}}}this.cacheKey=h.sort().join("")};yr.prototype.getMaxValue=function(e){var r=this.binders[e];return r instanceof xr||r instanceof _r?r.maxValue:0},yr.prototype.populatePaintArrays=function(e,r,i,h,d){for(var g in this.binders){var v=this.binders[g];(v instanceof xr||v instanceof _r||v instanceof Pr)&&v.populatePaintArray(e,r,i,h,d)}},yr.prototype.setConstantPatternPositions=function(e,r){for(var i in this.binders){var h=this.binders[i];h instanceof Lr&&h.setConstantPatternPositions(e,r)}},yr.prototype.updatePaintArrays=function(e,r,i,h,d){var g=!1;for(var v in e)for(var S=0,P=r.getPositions(v);S<P.length;S+=1){var O=P[S],z=i.feature(O.index);for(var V in this.binders){var G=this.binders[V];if((G instanceof xr||G instanceof _r||G instanceof Pr)&&G.expression.isStateDependent===!0){var K=h.paint.get(V);G.expression=K.value,G.updatePaintArray(O.start,O.end,z,e[v],d),g=!0}}}return g},yr.prototype.defines=function(){var e=[];for(var r in this.binders){var i=this.binders[r];(i instanceof wr||i instanceof Lr)&&e.push.apply(e,i.uniformNames.map(function(h){return"#define HAS_UNIFORM_"+h}))}return e},yr.prototype.getBinderAttributes=function(){var e=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof xr||i instanceof _r)for(var h=0;h<i.paintVertexAttributes.length;h++)e.push(i.paintVertexAttributes[h].name);else if(i instanceof Pr)for(var d=0;d<ve.members.length;d++)e.push(ve.members[d].name)}return e},yr.prototype.getBinderUniforms=function(){var e=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof wr||i instanceof Lr||i instanceof _r)for(var h=0,d=i.uniformNames;h<d.length;h+=1)e.push(d[h])}return e},yr.prototype.getPaintVertexBuffers=function(){return this._buffers},yr.prototype.getUniforms=function(e,r){var i=[];for(var h in this.binders){var d=this.binders[h];if(d instanceof wr||d instanceof Lr||d instanceof _r)for(var g=0,v=d.uniformNames;g<v.length;g+=1){var S=v[g];if(r[S]){var P=d.getBinding(e,r[S],S);i.push({name:S,property:h,binding:P})}}}return i},yr.prototype.setUniforms=function(e,r,i,h){for(var d=0,g=r;d<g.length;d+=1){var v=g[d],S=v.name,P=v.property;this.binders[P].setUniform(v.binding,h,i.get(P),S)}},yr.prototype.updatePaintBuffers=function(e){for(var r in this._buffers=[],this.binders){var i=this.binders[r];if(e&&i instanceof Pr){var h=e.fromScale===2?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;h&&this._buffers.push(h)}else(i instanceof xr||i instanceof _r)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}},yr.prototype.upload=function(e){for(var r in this.binders){var i=this.binders[r];(i instanceof xr||i instanceof _r||i instanceof Pr)&&i.upload(e)}this.updatePaintBuffers()},yr.prototype.destroy=function(){for(var e in this.binders){var r=this.binders[e];(r instanceof xr||r instanceof _r||r instanceof Pr)&&r.destroy()}};var mr=function(e,r,i){i===void 0&&(i=function(){return!0}),this.programConfigurations={};for(var h=0,d=e;h<d.length;h+=1){var g=d[h];this.programConfigurations[g.id]=new yr(g,r,i)}this.needsUpload=!1,this._featureMap=new De,this._bufferOffset=0};function Bi(e,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(r+"-","").replace(/-/g,"_")]}function ti(e,r,i){var h={color:{source:cu,composite:jc},number:{source:il,composite:cu}},d=function(g){return{"line-pattern":{source:gs,composite:gs},"fill-pattern":{source:gs,composite:gs},"fill-extrusion-pattern":{source:gs,composite:gs}}[g]}(e);return d&&d[i]||h[r][i]}mr.prototype.populatePaintArrays=function(e,r,i,h,d,g){for(var v in this.programConfigurations)this.programConfigurations[v].populatePaintArrays(e,r,h,d,g);r.id!==void 0&&this._featureMap.add(r.id,i,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},mr.prototype.updatePaintArrays=function(e,r,i,h){for(var d=0,g=i;d<g.length;d+=1){var v=g[d];this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(e,this._featureMap,r,v,h)||this.needsUpload}},mr.prototype.get=function(e){return this.programConfigurations[e]},mr.prototype.upload=function(e){if(this.needsUpload){for(var r in this.programConfigurations)this.programConfigurations[r].upload(e);this.needsUpload=!1}},mr.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},$t("ConstantBinder",wr),$t("CrossFadedConstantBinder",Lr),$t("SourceExpressionBinder",xr),$t("CrossFadedCompositeBinder",Pr),$t("CompositeExpressionBinder",_r),$t("ProgramConfiguration",yr,{omit:["_buffers"]}),$t("ProgramConfigurationSet",mr);var ho=Math.pow(2,14)-1,Zi=-ho-1;function Yn(e){for(var r=8192/e.extent,i=e.loadGeometry(),h=0;h<i.length;h++)for(var d=i[h],g=0;g<d.length;g++){var v=d[g],S=Math.round(v.x*r),P=Math.round(v.y*r);v.x=ue(S,Zi,ho),v.y=ue(P,Zi,ho),(S<v.x||S>v.x+1||P<v.y||P>v.y+1)&&tt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return i}function ui(e,r){return{type:e.type,id:e.id,properties:e.properties,geometry:r?Yn(e):[]}}function ea(e,r,i,h,d){e.emplaceBack(2*r+(h+1)/2,2*i+(d+1)/2)}var Ao=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ll,this.indexArray=new rl,this.segments=new te,this.programConfigurations=new mr(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function ol(e,r){for(var i=0;i<e.length;i++)if(ys(r,e[i]))return!0;for(var h=0;h<r.length;h++)if(ys(e,r[h]))return!0;return!!tc(e,r)}function Do(e,r,i){return!!ys(e,r)||!!al(r,e,i)}function ns(e,r){if(e.length===1)return rc(r,e[0]);for(var i=0;i<r.length;i++)for(var h=r[i],d=0;d<h.length;d++)if(ys(e,h[d]))return!0;for(var g=0;g<e.length;g++)if(rc(r,e[g]))return!0;for(var v=0;v<r.length;v++)if(tc(e,r[v]))return!0;return!1}function La(e,r,i){if(e.length>1){if(tc(e,r))return!0;for(var h=0;h<r.length;h++)if(al(r[h],e,i))return!0}for(var d=0;d<e.length;d++)if(al(e[d],r,i))return!0;return!1}function tc(e,r){if(e.length===0||r.length===0)return!1;for(var i=0;i<e.length-1;i++)for(var h=e[i],d=e[i+1],g=0;g<r.length-1;g++)if(pu(h,d,r[g],r[g+1]))return!0;return!1}function pu(e,r,i,h){return Ht(e,i,h)!==Ht(r,i,h)&&Ht(e,r,i)!==Ht(e,r,h)}function al(e,r,i){var h=i*i;if(r.length===1)return e.distSqr(r[0])<h;for(var d=1;d<r.length;d++)if(du(e,r[d-1],r[d])<h)return!0;return!1}function du(e,r,i){var h=r.distSqr(i);if(h===0)return e.distSqr(r);var d=((e.x-r.x)*(i.x-r.x)+(e.y-r.y)*(i.y-r.y))/h;return e.distSqr(d<0?r:d>1?i:i.sub(r)._mult(d)._add(r))}function rc(e,r){for(var i,h,d,g=!1,v=0;v<e.length;v++)for(var S=0,P=(i=e[v]).length-1;S<i.length;P=S++)(h=i[S]).y>r.y!=(d=i[P]).y>r.y&&r.x<(d.x-h.x)*(r.y-h.y)/(d.y-h.y)+h.x&&(g=!g);return g}function ys(e,r){for(var i=!1,h=0,d=e.length-1;h<e.length;d=h++){var g=e[h],v=e[d];g.y>r.y!=v.y>r.y&&r.x<(v.x-g.x)*(r.y-g.y)/(v.y-g.y)+g.x&&(i=!i)}return i}function nc(e,r,i){var h=i[0],d=i[2];if(e.x<h.x&&r.x<h.x||e.x>d.x&&r.x>d.x||e.y<h.y&&r.y<h.y||e.y>d.y&&r.y>d.y)return!1;var g=Ht(e,r,i[0]);return g!==Ht(e,r,i[1])||g!==Ht(e,r,i[2])||g!==Ht(e,r,i[3])}function _s(e,r,i){var h=r.paint.get(e).value;return h.kind==="constant"?h.value:i.programConfigurations.get(r.id).getMaxValue(e)}function Ui(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Ds(e,r,i,h,d){if(!r[0]&&!r[1])return e;var g=R.convert(r)._mult(d);i==="viewport"&&g._rotate(-h);for(var v=[],S=0;S<e.length;S++)v.push(e[S].sub(g));return v}Ao.prototype.populate=function(e,r,i){var h=this.layers[0],d=[],g=null;h.type==="circle"&&(g=h.layout.get("circle-sort-key"));for(var v=0,S=e;v<S.length;v+=1){var P=S[v],O=P.feature,z=P.id,V=P.index,G=P.sourceLayerIndex,K=this.layers[0]._featureFilter.needGeometry,fe=ui(O,K);if(this.layers[0]._featureFilter.filter(new jr(this.zoom),fe,i)){var ge=g?g.evaluate(fe,{},i):void 0,Re={id:z,properties:O.properties,type:O.type,sourceLayerIndex:G,index:V,geometry:K?fe.geometry:Yn(O),patterns:{},sortKey:ge};d.push(Re)}}g&&d.sort(function(Pt,Qt){return Pt.sortKey-Qt.sortKey});for(var Ee=0,Fe=d;Ee<Fe.length;Ee+=1){var We=Fe[Ee],Ze=We.geometry,Je=We.index,ut=We.sourceLayerIndex,Et=e[Je].feature;this.addFeature(We,Ze,Je,i),r.featureIndex.insert(Et,Ze,Je,ut,this.index)}},Ao.prototype.update=function(e,r,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,i)},Ao.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ao.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ao.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,J),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ao.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ao.prototype.addFeature=function(e,r,i,h){for(var d=0,g=r;d<g.length;d+=1)for(var v=0,S=g[d];v<S.length;v+=1){var P=S[v],O=P.x,z=P.y;if(!(O<0||O>=8192||z<0||z>=8192)){var V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),G=V.vertexLength;ea(this.layoutVertexArray,O,z,-1,-1),ea(this.layoutVertexArray,O,z,1,-1),ea(this.layoutVertexArray,O,z,1,1),ea(this.layoutVertexArray,O,z,-1,1),this.indexArray.emplaceBack(G,G+1,G+2),this.indexArray.emplaceBack(G,G+3,G+2),V.vertexLength+=4,V.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,{},h)},$t("CircleBucket",Ao,{omit:["layers"]});var sl=new no({"circle-sort-key":new Xt(Q.layout_circle["circle-sort-key"])}),Ml={paint:new no({"circle-radius":new Xt(Q.paint_circle["circle-radius"]),"circle-color":new Xt(Q.paint_circle["circle-color"]),"circle-blur":new Xt(Q.paint_circle["circle-blur"]),"circle-opacity":new Xt(Q.paint_circle["circle-opacity"]),"circle-translate":new nr(Q.paint_circle["circle-translate"]),"circle-translate-anchor":new nr(Q.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new nr(Q.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new nr(Q.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Xt(Q.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Xt(Q.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Xt(Q.paint_circle["circle-stroke-opacity"])}),layout:sl},dn=typeof Float32Array<"u"?Float32Array:Array;function pa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function No(e,r,i){var h=r[0],d=r[1],g=r[2],v=r[3],S=r[4],P=r[5],O=r[6],z=r[7],V=r[8],G=r[9],K=r[10],fe=r[11],ge=r[12],Re=r[13],Ee=r[14],Fe=r[15],We=i[0],Ze=i[1],Je=i[2],ut=i[3];return e[0]=We*h+Ze*S+Je*V+ut*ge,e[1]=We*d+Ze*P+Je*G+ut*Re,e[2]=We*g+Ze*O+Je*K+ut*Ee,e[3]=We*v+Ze*z+Je*fe+ut*Fe,e[4]=(We=i[4])*h+(Ze=i[5])*S+(Je=i[6])*V+(ut=i[7])*ge,e[5]=We*d+Ze*P+Je*G+ut*Re,e[6]=We*g+Ze*O+Je*K+ut*Ee,e[7]=We*v+Ze*z+Je*fe+ut*Fe,e[8]=(We=i[8])*h+(Ze=i[9])*S+(Je=i[10])*V+(ut=i[11])*ge,e[9]=We*d+Ze*P+Je*G+ut*Re,e[10]=We*g+Ze*O+Je*K+ut*Ee,e[11]=We*v+Ze*z+Je*fe+ut*Fe,e[12]=(We=i[12])*h+(Ze=i[13])*S+(Je=i[14])*V+(ut=i[15])*ge,e[13]=We*d+Ze*P+Je*G+ut*Re,e[14]=We*g+Ze*O+Je*K+ut*Ee,e[15]=We*v+Ze*z+Je*fe+ut*Fe,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,r=0,i=arguments.length;i--;)r+=e[i]*e[i];return Math.sqrt(r)});var Ol,Gm=No;function qc(e,r,i){var h=r[0],d=r[1],g=r[2],v=r[3];return e[0]=i[0]*h+i[4]*d+i[8]*g+i[12]*v,e[1]=i[1]*h+i[5]*d+i[9]*g+i[13]*v,e[2]=i[2]*h+i[6]*d+i[10]*g+i[14]*v,e[3]=i[3]*h+i[7]*d+i[11]*g+i[15]*v,e}Ol=new dn(3),dn!=Float32Array&&(Ol[0]=0,Ol[1]=0,Ol[2]=0),function(){var e=new dn(4);dn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var Zm=(function(){var e=new dn(2);dn!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function r(i){e.call(this,i,Ml)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.createBucket=function(i){return new Ao(i)},r.prototype.queryRadius=function(i){var h=i;return _s("circle-radius",this,h)+_s("circle-stroke-width",this,h)+Ui(this.paint.get("circle-translate"))},r.prototype.queryIntersectsFeature=function(i,h,d,g,v,S,P,O){for(var z=Ds(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,P),V=this.paint.get("circle-radius").evaluate(h,d)+this.paint.get("circle-stroke-width").evaluate(h,d),G=this.paint.get("circle-pitch-alignment")==="map",K=G?z:function(Et,Pt){return Et.map(function(Qt){return ic(Qt,Pt)})}(z,O),fe=G?V*P:V,ge=0,Re=g;ge<Re.length;ge+=1)for(var Ee=0,Fe=Re[ge];Ee<Fe.length;Ee+=1){var We=Fe[Ee],Ze=G?We:ic(We,O),Je=fe,ut=qc([],[We.x,We.y,0,1],O);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Je*=ut[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Je*=S.cameraToCenterDistance/ut[3]),Do(K,Ze,Je))return!0}return!1},r}(ms));function ic(e,r){var i=qc([],[e.x,e.y,0,1],r);return new R(i[0]/i[3],i[1]/i[3])}var Cp=function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r}(Ao);function mu(e,r,i,h){var d=r.width,g=r.height;if(h){if(h instanceof Uint8ClampedArray)h=new Uint8Array(h.buffer);else if(h.length!==d*g*i)throw new RangeError("mismatched image size")}else h=new Uint8Array(d*g*i);return e.width=d,e.height=g,e.data=h,e}function Hc(e,r,i){var h=r.width,d=r.height;if(h!==e.width||d!==e.height){var g=mu({},{width:h,height:d},i);Xm(e,g,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,h),height:Math.min(e.height,d)},i),e.width=h,e.height=d,e.data=g.data}}function Xm(e,r,i,h,d,g){if(d.width===0||d.height===0)return r;if(d.width>e.width||d.height>e.height||i.x>e.width-d.width||i.y>e.height-d.height)throw new RangeError("out of range source coordinates for image copy");if(d.width>r.width||d.height>r.height||h.x>r.width-d.width||h.y>r.height-d.height)throw new RangeError("out of range destination coordinates for image copy");for(var v=e.data,S=r.data,P=0;P<d.height;P++)for(var O=((i.y+P)*e.width+i.x)*g,z=((h.y+P)*r.width+h.x)*g,V=0;V<d.width*g;V++)S[z+V]=v[O+V];return r}$t("HeatmapBucket",Cp,{omit:["layers"]});var oc=function(e,r){mu(this,e,1,r)};oc.prototype.resize=function(e){Hc(this,e,1)},oc.prototype.clone=function(){return new oc({width:this.width,height:this.height},new Uint8Array(this.data))},oc.copy=function(e,r,i,h,d){Xm(e,r,i,h,d,1)};var ta=function(e,r){mu(this,e,4,r)};ta.prototype.resize=function(e){Hc(this,e,4)},ta.prototype.replace=function(e,r){r?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},ta.prototype.clone=function(){return new ta({width:this.width,height:this.height},new Uint8Array(this.data))},ta.copy=function(e,r,i,h,d){Xm(e,r,i,h,d,4)},$t("AlphaImage",oc),$t("RGBAImage",ta);var hT={paint:new no({"heatmap-radius":new Xt(Q.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Xt(Q.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new nr(Q.paint_heatmap["heatmap-intensity"]),"heatmap-color":new rs(Q.paint_heatmap["heatmap-color"]),"heatmap-opacity":new nr(Q.paint_heatmap["heatmap-opacity"])})};function $_(e){var r={},i=e.resolution||256,h=e.clips?e.clips.length:1,d=e.image||new ta({width:i,height:h}),g=function(fe,ge,Re){r[e.evaluationKey]=Re;var Ee=e.expression.evaluate(r);d.data[fe+ge+0]=Math.floor(255*Ee.r/Ee.a),d.data[fe+ge+1]=Math.floor(255*Ee.g/Ee.a),d.data[fe+ge+2]=Math.floor(255*Ee.b/Ee.a),d.data[fe+ge+3]=Math.floor(255*Ee.a)};if(e.clips)for(var v=0,S=0;v<h;++v,S+=4*i)for(var P=0,O=0;P<i;P++,O+=4){var z=P/(i-1),V=e.clips[v];g(S,O,V.start*(1-z)+V.end*z)}else for(var G=0,K=0;G<i;G++,K+=4)g(0,K,G/(i-1));return d}var fT=function(e){function r(i){e.call(this,i,hT),this._updateColorRamp()}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.createBucket=function(i){return new Cp(i)},r.prototype._handleSpecialPaintPropertyUpdate=function(i){i==="heatmap-color"&&this._updateColorRamp()},r.prototype._updateColorRamp=function(){this.colorRamp=$_({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},r.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},r}(ms),pT={paint:new no({"hillshade-illumination-direction":new nr(Q.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new nr(Q.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new nr(Q.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new nr(Q.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new nr(Q.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new nr(Q.paint_hillshade["hillshade-accent-color"])})},dT=function(e){function r(i){e.call(this,i,pT)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},r}(ms),mT=Gi([{name:"a_pos",components:2,type:"Int16"}],4).members,Km=Ap,gT=Ap;function Ap(e,r,i){i=i||2;var h,d,g,v,S,P,O,z=r&&r.length,V=z?r[0]*i:e.length,G=G_(e,0,V,i,!0),K=[];if(!G||G.next===G.prev)return K;if(z&&(G=function(ge,Re,Ee,Fe){var We,Ze,Je,ut=[];for(We=0,Ze=Re.length;We<Ze;We++)(Je=G_(ge,Re[We]*Fe,We<Ze-1?Re[We+1]*Fe:ge.length,Fe,!1))===Je.next&&(Je.steiner=!0),ut.push(TT(Je));for(ut.sort(xT),We=0;We<ut.length;We++)wT(ut[We],Ee),Ee=gu(Ee,Ee.next);return Ee}(e,r,G,i)),e.length>80*i){h=g=e[0],d=v=e[1];for(var fe=i;fe<V;fe+=i)(S=e[fe])<h&&(h=S),(P=e[fe+1])<d&&(d=P),S>g&&(g=S),P>v&&(v=P);O=(O=Math.max(g-h,v-d))!==0?1/O:0}return lf(G,K,i,h,d,O),K}function G_(e,r,i,h,d){var g,v;if(d===Qm(e,r,i,h)>0)for(g=r;g<i;g+=h)v=K_(g,e[g],e[g+1],v);else for(g=i-h;g>=r;g-=h)v=K_(g,e[g],e[g+1],v);return v&&Ip(v,v.next)&&(cf(v),v=v.next),v}function gu(e,r){if(!e)return e;r||(r=e);var i,h=e;do if(i=!1,h.steiner||!Ip(h,h.next)&&Pi(h.prev,h,h.next)!==0)h=h.next;else{if(cf(h),(h=r=h.prev)===h.next)break;i=!0}while(i||h!==r);return r}function lf(e,r,i,h,d,g,v){if(e){!v&&g&&function(z,V,G,K){var fe=z;do fe.z===null&&(fe.z=Ym(fe.x,fe.y,V,G,K)),fe.prevZ=fe.prev,fe.nextZ=fe.next,fe=fe.next;while(fe!==z);fe.prevZ.nextZ=null,fe.prevZ=null,function(ge){var Re,Ee,Fe,We,Ze,Je,ut,Et,Pt=1;do{for(Ee=ge,ge=null,Ze=null,Je=0;Ee;){for(Je++,Fe=Ee,ut=0,Re=0;Re<Pt&&(ut++,Fe=Fe.nextZ);Re++);for(Et=Pt;ut>0||Et>0&&Fe;)ut!==0&&(Et===0||!Fe||Ee.z<=Fe.z)?(We=Ee,Ee=Ee.nextZ,ut--):(We=Fe,Fe=Fe.nextZ,Et--),Ze?Ze.nextZ=We:ge=We,We.prevZ=Ze,Ze=We;Ee=Fe}Ze.nextZ=null,Pt*=2}while(Je>1)}(fe)}(e,h,d,g);for(var S,P,O=e;e.prev!==e.next;)if(S=e.prev,P=e.next,g?_T(e,h,d,g):yT(e))r.push(S.i/i),r.push(e.i/i),r.push(P.i/i),cf(e),e=P.next,O=P.next;else if((e=P)===O){v?v===1?lf(e=vT(gu(e),r,i),r,i,h,d,g,2):v===2&&bT(e,r,i,h,d,g):lf(gu(e),r,i,h,d,g,1);break}}}function yT(e){var r=e.prev,i=e,h=e.next;if(Pi(r,i,h)>=0)return!1;for(var d=e.next.next;d!==e.prev;){if(Wc(r.x,r.y,i.x,i.y,h.x,h.y,d.x,d.y)&&Pi(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function _T(e,r,i,h){var d=e.prev,g=e,v=e.next;if(Pi(d,g,v)>=0)return!1;for(var S=d.x>g.x?d.x>v.x?d.x:v.x:g.x>v.x?g.x:v.x,P=d.y>g.y?d.y>v.y?d.y:v.y:g.y>v.y?g.y:v.y,O=Ym(d.x<g.x?d.x<v.x?d.x:v.x:g.x<v.x?g.x:v.x,d.y<g.y?d.y<v.y?d.y:v.y:g.y<v.y?g.y:v.y,r,i,h),z=Ym(S,P,r,i,h),V=e.prevZ,G=e.nextZ;V&&V.z>=O&&G&&G.z<=z;){if(V!==e.prev&&V!==e.next&&Wc(d.x,d.y,g.x,g.y,v.x,v.y,V.x,V.y)&&Pi(V.prev,V,V.next)>=0||(V=V.prevZ,G!==e.prev&&G!==e.next&&Wc(d.x,d.y,g.x,g.y,v.x,v.y,G.x,G.y)&&Pi(G.prev,G,G.next)>=0))return!1;G=G.nextZ}for(;V&&V.z>=O;){if(V!==e.prev&&V!==e.next&&Wc(d.x,d.y,g.x,g.y,v.x,v.y,V.x,V.y)&&Pi(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;G&&G.z<=z;){if(G!==e.prev&&G!==e.next&&Wc(d.x,d.y,g.x,g.y,v.x,v.y,G.x,G.y)&&Pi(G.prev,G,G.next)>=0)return!1;G=G.nextZ}return!0}function vT(e,r,i){var h=e;do{var d=h.prev,g=h.next.next;!Ip(d,g)&&Z_(d,h,h.next,g)&&uf(d,g)&&uf(g,d)&&(r.push(d.i/i),r.push(h.i/i),r.push(g.i/i),cf(h),cf(h.next),h=e=g),h=h.next}while(h!==e);return gu(h)}function bT(e,r,i,h,d,g){var v=e;do{for(var S=v.next.next;S!==v.prev;){if(v.i!==S.i&&ET(v,S)){var P=X_(v,S);return v=gu(v,v.next),P=gu(P,P.next),lf(v,r,i,h,d,g),void lf(P,r,i,h,d,g)}S=S.next}v=v.next}while(v!==e)}function xT(e,r){return e.x-r.x}function wT(e,r){if(r=function(h,d){var g,v=d,S=h.x,P=h.y,O=-1/0;do{if(P<=v.y&&P>=v.next.y&&v.next.y!==v.y){var z=v.x+(P-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(z<=S&&z>O){if(O=z,z===S){if(P===v.y)return v;if(P===v.next.y)return v.next}g=v.x<v.next.x?v:v.next}}v=v.next}while(v!==d);if(!g)return null;if(S===O)return g;var V,G=g,K=g.x,fe=g.y,ge=1/0;v=g;do S>=v.x&&v.x>=K&&S!==v.x&&Wc(P<fe?S:O,P,K,fe,P<fe?O:S,P,v.x,v.y)&&(V=Math.abs(P-v.y)/(S-v.x),uf(v,h)&&(V<ge||V===ge&&(v.x>g.x||v.x===g.x&&ST(g,v)))&&(g=v,ge=V)),v=v.next;while(v!==G);return g}(e,r)){var i=X_(r,e);gu(r,r.next),gu(i,i.next)}}function ST(e,r){return Pi(e.prev,e,r.prev)<0&&Pi(r.next,e,e.next)<0}function Ym(e,r,i,h,d){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*d)|e<<8))|e<<4))|e<<2))|e<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-h)*d)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function TT(e){var r=e,i=e;do(r.x<i.x||r.x===i.x&&r.y<i.y)&&(i=r),r=r.next;while(r!==e);return i}function Wc(e,r,i,h,d,g,v,S){return(d-v)*(r-S)-(e-v)*(g-S)>=0&&(e-v)*(h-S)-(i-v)*(r-S)>=0&&(i-v)*(g-S)-(d-v)*(h-S)>=0}function ET(e,r){return e.next.i!==r.i&&e.prev.i!==r.i&&!function(i,h){var d=i;do{if(d.i!==i.i&&d.next.i!==i.i&&d.i!==h.i&&d.next.i!==h.i&&Z_(d,d.next,i,h))return!0;d=d.next}while(d!==i);return!1}(e,r)&&(uf(e,r)&&uf(r,e)&&function(i,h){var d=i,g=!1,v=(i.x+h.x)/2,S=(i.y+h.y)/2;do d.y>S!=d.next.y>S&&d.next.y!==d.y&&v<(d.next.x-d.x)*(S-d.y)/(d.next.y-d.y)+d.x&&(g=!g),d=d.next;while(d!==i);return g}(e,r)&&(Pi(e.prev,e,r.prev)||Pi(e,r.prev,r))||Ip(e,r)&&Pi(e.prev,e,e.next)>0&&Pi(r.prev,r,r.next)>0)}function Pi(e,r,i){return(r.y-e.y)*(i.x-r.x)-(r.x-e.x)*(i.y-r.y)}function Ip(e,r){return e.x===r.x&&e.y===r.y}function Z_(e,r,i,h){var d=Pp(Pi(e,r,i)),g=Pp(Pi(e,r,h)),v=Pp(Pi(i,h,e)),S=Pp(Pi(i,h,r));return d!==g&&v!==S||!(d!==0||!kp(e,i,r))||!(g!==0||!kp(e,h,r))||!(v!==0||!kp(i,e,h))||!(S!==0||!kp(i,r,h))}function kp(e,r,i){return r.x<=Math.max(e.x,i.x)&&r.x>=Math.min(e.x,i.x)&&r.y<=Math.max(e.y,i.y)&&r.y>=Math.min(e.y,i.y)}function Pp(e){return e>0?1:e<0?-1:0}function uf(e,r){return Pi(e.prev,e,e.next)<0?Pi(e,r,e.next)>=0&&Pi(e,e.prev,r)>=0:Pi(e,r,e.prev)<0||Pi(e,e.next,r)<0}function X_(e,r){var i=new Jm(e.i,e.x,e.y),h=new Jm(r.i,r.x,r.y),d=e.next,g=r.prev;return e.next=r,r.prev=e,i.next=d,d.prev=i,h.next=i,i.prev=h,g.next=h,h.prev=g,h}function K_(e,r,i,h){var d=new Jm(e,r,i);return h?(d.next=h.next,d.prev=h,h.next.prev=d,h.next=d):(d.prev=d,d.next=d),d}function cf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Jm(e,r,i){this.i=e,this.x=r,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qm(e,r,i,h){for(var d=0,g=r,v=i-h;g<i;g+=h)d+=(e[v]-e[g])*(e[g+1]+e[v+1]),v=g;return d}function CT(e,r,i,h,d){(function g(v,S,P,O,z){for(;O>P;){if(O-P>600){var V=O-P+1,G=S-P+1,K=Math.log(V),fe=.5*Math.exp(2*K/3),ge=.5*Math.sqrt(K*fe*(V-fe)/V)*(G-V/2<0?-1:1);g(v,S,Math.max(P,Math.floor(S-G*fe/V+ge)),Math.min(O,Math.floor(S+(V-G)*fe/V+ge)),z)}var Re=v[S],Ee=P,Fe=O;for(hf(v,P,S),z(v[O],Re)>0&&hf(v,P,O);Ee<Fe;){for(hf(v,Ee,Fe),Ee++,Fe--;z(v[Ee],Re)<0;)Ee++;for(;z(v[Fe],Re)>0;)Fe--}z(v[P],Re)===0?hf(v,P,Fe):hf(v,++Fe,O),Fe<=S&&(P=Fe+1),S<=Fe&&(O=Fe-1)}})(e,r,i,h||e.length-1,d||AT)}function hf(e,r,i){var h=e[r];e[r]=e[i],e[i]=h}function AT(e,r){return e<r?-1:e>r?1:0}function eg(e,r){var i=e.length;if(i<=1)return[e];for(var h,d,g=[],v=0;v<i;v++){var S=fr(e[v]);S!==0&&(e[v].area=Math.abs(S),d===void 0&&(d=S<0),d===S<0?(h&&g.push(h),h=[e[v]]):h.push(e[v]))}if(h&&g.push(h),r>1)for(var P=0;P<g.length;P++)g[P].length<=r||(CT(g[P],r,1,g[P].length-1,IT),g[P]=g[P].slice(0,r));return g}function IT(e,r){return r.area-e.area}function tg(e,r,i){for(var h=i.patternDependencies,d=!1,g=0,v=r;g<v.length;g+=1){var S=v[g].paint.get(e+"-pattern");S.isConstant()||(d=!0);var P=S.constantOr(null);P&&(d=!0,h[P.to]=!0,h[P.from]=!0)}return d}function rg(e,r,i,h,d){for(var g=d.patternDependencies,v=0,S=r;v<S.length;v+=1){var P=S[v],O=P.paint.get(e+"-pattern").value;if(O.kind!=="constant"){var z=O.evaluate({zoom:h-1},i,{},d.availableImages),V=O.evaluate({zoom:h},i,{},d.availableImages),G=O.evaluate({zoom:h+1},i,{},d.availableImages);V=V&&V.name?V.name:V,G=G&&G.name?G.name:G,g[z=z&&z.name?z.name:z]=!0,g[V]=!0,g[G]=!0,i.patterns[P.id]={min:z,mid:V,max:G}}}return i}Ap.deviation=function(e,r,i,h){var d=r&&r.length,g=Math.abs(Qm(e,0,d?r[0]*i:e.length,i));if(d)for(var v=0,S=r.length;v<S;v++)g-=Math.abs(Qm(e,r[v]*i,v<S-1?r[v+1]*i:e.length,i));var P=0;for(v=0;v<h.length;v+=3){var O=h[v]*i,z=h[v+1]*i,V=h[v+2]*i;P+=Math.abs((e[O]-e[V])*(e[z+1]-e[O+1])-(e[O]-e[z])*(e[V+1]-e[O+1]))}return g===0&&P===0?0:Math.abs((P-g)/g)},Ap.flatten=function(e){for(var r=e[0][0].length,i={vertices:[],holes:[],dimensions:r},h=0,d=0;d<e.length;d++){for(var g=0;g<e[d].length;g++)for(var v=0;v<r;v++)i.vertices.push(e[d][g][v]);d>0&&i.holes.push(h+=e[d-1].length)}return i},Km.default=gT;var Ns=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ll,this.indexArray=new rl,this.indexArray2=new ec,this.programConfigurations=new mr(e.layers,e.zoom),this.segments=new te,this.segments2=new te,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};Ns.prototype.populate=function(e,r,i){this.hasPattern=tg("fill",this.layers,r);for(var h=this.layers[0].layout.get("fill-sort-key"),d=[],g=0,v=e;g<v.length;g+=1){var S=v[g],P=S.feature,O=S.id,z=S.index,V=S.sourceLayerIndex,G=this.layers[0]._featureFilter.needGeometry,K=ui(P,G);if(this.layers[0]._featureFilter.filter(new jr(this.zoom),K,i)){var fe=h?h.evaluate(K,{},i,r.availableImages):void 0,ge={id:O,properties:P.properties,type:P.type,sourceLayerIndex:V,index:z,geometry:G?K.geometry:Yn(P),patterns:{},sortKey:fe};d.push(ge)}}h&&d.sort(function(Et,Pt){return Et.sortKey-Pt.sortKey});for(var Re=0,Ee=d;Re<Ee.length;Re+=1){var Fe=Ee[Re],We=Fe.geometry,Ze=Fe.index,Je=Fe.sourceLayerIndex;if(this.hasPattern){var ut=rg("fill",this.layers,Fe,this.zoom,r);this.patternFeatures.push(ut)}else this.addFeature(Fe,We,Ze,i,{});r.featureIndex.insert(e[Ze].feature,We,Ze,Je,this.index)}},Ns.prototype.update=function(e,r,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,i)},Ns.prototype.addFeatures=function(e,r,i){for(var h=0,d=this.patternFeatures;h<d.length;h+=1){var g=d[h];this.addFeature(g,g.geometry,g.index,r,i)}},Ns.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ns.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ns.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,mT),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},Ns.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ns.prototype.addFeature=function(e,r,i,h,d){for(var g=0,v=eg(r,500);g<v.length;g+=1){for(var S=v[g],P=0,O=0,z=S;O<z.length;O+=1)P+=z[O].length;for(var V=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray),G=V.vertexLength,K=[],fe=[],ge=0,Re=S;ge<Re.length;ge+=1){var Ee=Re[ge];if(Ee.length!==0){Ee!==S[0]&&fe.push(K.length/2);var Fe=this.segments2.prepareSegment(Ee.length,this.layoutVertexArray,this.indexArray2),We=Fe.vertexLength;this.layoutVertexArray.emplaceBack(Ee[0].x,Ee[0].y),this.indexArray2.emplaceBack(We+Ee.length-1,We),K.push(Ee[0].x),K.push(Ee[0].y);for(var Ze=1;Ze<Ee.length;Ze++)this.layoutVertexArray.emplaceBack(Ee[Ze].x,Ee[Ze].y),this.indexArray2.emplaceBack(We+Ze-1,We+Ze),K.push(Ee[Ze].x),K.push(Ee[Ze].y);Fe.vertexLength+=Ee.length,Fe.primitiveLength+=Ee.length}}for(var Je=Km(K,fe),ut=0;ut<Je.length;ut+=3)this.indexArray.emplaceBack(G+Je[ut],G+Je[ut+1],G+Je[ut+2]);V.vertexLength+=P,V.primitiveLength+=Je.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,d,h)},$t("FillBucket",Ns,{omit:["layers","patternFeatures"]});var kT=new no({"fill-sort-key":new Xt(Q.layout_fill["fill-sort-key"])}),PT={paint:new no({"fill-antialias":new nr(Q.paint_fill["fill-antialias"]),"fill-opacity":new Xt(Q.paint_fill["fill-opacity"]),"fill-color":new Xt(Q.paint_fill["fill-color"]),"fill-outline-color":new Xt(Q.paint_fill["fill-outline-color"]),"fill-translate":new nr(Q.paint_fill["fill-translate"]),"fill-translate-anchor":new nr(Q.paint_fill["fill-translate-anchor"]),"fill-pattern":new Fc(Q.paint_fill["fill-pattern"])}),layout:kT},LT=function(e){function r(i){e.call(this,i,PT)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.recalculate=function(i,h){e.prototype.recalculate.call(this,i,h);var d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},r.prototype.createBucket=function(i){return new Ns(i)},r.prototype.queryRadius=function(){return Ui(this.paint.get("fill-translate"))},r.prototype.queryIntersectsFeature=function(i,h,d,g,v,S,P){return ns(Ds(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,P),g)},r.prototype.isTileClipped=function(){return!0},r}(ms),RT=Gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Y_=$c;function $c(e,r,i,h,d){this.properties={},this.extent=i,this.type=0,this._pbf=e,this._geometry=-1,this._keys=h,this._values=d,e.readFields(MT,this,r)}function MT(e,r,i){e==1?r.id=i.readVarint():e==2?function(h,d){for(var g=h.readVarint()+h.pos;h.pos<g;){var v=d._keys[h.readVarint()],S=d._values[h.readVarint()];d.properties[v]=S}}(i,r):e==3?r.type=i.readVarint():e==4&&(r._geometry=i.pos)}function OT(e){for(var r,i,h=0,d=0,g=e.length,v=g-1;d<g;v=d++)h+=((i=e[v]).x-(r=e[d]).x)*(r.y+i.y);return h}$c.types=["Unknown","Point","LineString","Polygon"],$c.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var r,i=e.readVarint()+e.pos,h=1,d=0,g=0,v=0,S=[];e.pos<i;){if(d<=0){var P=e.readVarint();h=7&P,d=P>>3}if(d--,h===1||h===2)g+=e.readSVarint(),v+=e.readSVarint(),h===1&&(r&&S.push(r),r=[]),r.push(new R(g,v));else{if(h!==7)throw new Error("unknown command "+h);r&&r.push(r[0].clone())}}return r&&S.push(r),S},$c.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var r=e.readVarint()+e.pos,i=1,h=0,d=0,g=0,v=1/0,S=-1/0,P=1/0,O=-1/0;e.pos<r;){if(h<=0){var z=e.readVarint();i=7&z,h=z>>3}if(h--,i===1||i===2)(d+=e.readSVarint())<v&&(v=d),d>S&&(S=d),(g+=e.readSVarint())<P&&(P=g),g>O&&(O=g);else if(i!==7)throw new Error("unknown command "+i)}return[v,P,S,O]},$c.prototype.toGeoJSON=function(e,r,i){var h,d,g=this.extent*Math.pow(2,i),v=this.extent*e,S=this.extent*r,P=this.loadGeometry(),O=$c.types[this.type];function z(K){for(var fe=0;fe<K.length;fe++){var ge=K[fe];K[fe]=[360*(ge.x+v)/g-180,360/Math.PI*Math.atan(Math.exp((180-360*(ge.y+S)/g)*Math.PI/180))-90]}}switch(this.type){case 1:var V=[];for(h=0;h<P.length;h++)V[h]=P[h][0];z(P=V);break;case 2:for(h=0;h<P.length;h++)z(P[h]);break;case 3:for(P=function(K){var fe=K.length;if(fe<=1)return[K];for(var ge,Re,Ee=[],Fe=0;Fe<fe;Fe++){var We=OT(K[Fe]);We!==0&&(Re===void 0&&(Re=We<0),Re===We<0?(ge&&Ee.push(ge),ge=[K[Fe]]):ge.push(K[Fe]))}return ge&&Ee.push(ge),Ee}(P),h=0;h<P.length;h++)for(d=0;d<P[h].length;d++)z(P[h][d])}P.length===1?P=P[0]:O="Multi"+O;var G={type:"Feature",geometry:{type:O,coordinates:P},properties:this.properties};return"id"in this&&(G.id=this.id),G};var J_=Q_;function Q_(e,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(DT,this,r),this.length=this._features.length}function DT(e,r,i){e===15?r.version=i.readVarint():e===1?r.name=i.readString():e===5?r.extent=i.readVarint():e===2?r._features.push(i.pos):e===3?r._keys.push(i.readString()):e===4&&r._values.push(function(h){for(var d=null,g=h.readVarint()+h.pos;h.pos<g;){var v=h.readVarint()>>3;d=v===1?h.readString():v===2?h.readFloat():v===3?h.readDouble():v===4?h.readVarint64():v===5?h.readVarint():v===6?h.readSVarint():v===7?h.readBoolean():null}return d}(i))}function NT(e,r,i){if(e===3){var h=new J_(i,i.readVarint()+i.pos);h.length&&(r[h.name]=h)}}Q_.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var r=this._pbf.readVarint()+this._pbf.pos;return new Y_(this._pbf,r,this.extent,this._keys,this._values)};var Gc={VectorTile:function(e,r){this.layers=e.readFields(NT,{},r)},VectorTileFeature:Y_,VectorTileLayer:J_},zT=Gc.VectorTileFeature.types,ng=Math.pow(2,13);function ff(e,r,i,h,d,g,v,S){e.emplaceBack(r,i,2*Math.floor(h*ng)+v,d*ng*2,g*ng*2,Math.round(S))}var zs=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Os,this.indexArray=new rl,this.programConfigurations=new mr(e.layers,e.zoom),this.segments=new te,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function FT(e,r){return e.x===r.x&&(e.x<0||e.x>8192)||e.y===r.y&&(e.y<0||e.y>8192)}zs.prototype.populate=function(e,r,i){this.features=[],this.hasPattern=tg("fill-extrusion",this.layers,r);for(var h=0,d=e;h<d.length;h+=1){var g=d[h],v=g.feature,S=g.id,P=g.index,O=g.sourceLayerIndex,z=this.layers[0]._featureFilter.needGeometry,V=ui(v,z);if(this.layers[0]._featureFilter.filter(new jr(this.zoom),V,i)){var G={id:S,sourceLayerIndex:O,index:P,geometry:z?V.geometry:Yn(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(rg("fill-extrusion",this.layers,G,this.zoom,r)):this.addFeature(G,G.geometry,P,i,{}),r.featureIndex.insert(v,G.geometry,P,O,this.index,!0)}}},zs.prototype.addFeatures=function(e,r,i){for(var h=0,d=this.features;h<d.length;h+=1){var g=d[h];this.addFeature(g,g.geometry,g.index,r,i)}},zs.prototype.update=function(e,r,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,i)},zs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},zs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zs.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,RT),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},zs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zs.prototype.addFeature=function(e,r,i,h,d){for(var g=0,v=eg(r,500);g<v.length;g+=1){for(var S=v[g],P=0,O=0,z=S;O<z.length;O+=1)P+=z[O].length;for(var V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),G=0,K=S;G<K.length;G+=1){var fe=K[G];if(fe.length!==0&&!((Vr=fe).every(function(Ir){return Ir.x<0})||Vr.every(function(Ir){return Ir.x>8192})||Vr.every(function(Ir){return Ir.y<0})||Vr.every(function(Ir){return Ir.y>8192})))for(var ge=0,Re=0;Re<fe.length;Re++){var Ee=fe[Re];if(Re>=1){var Fe=fe[Re-1];if(!FT(Ee,Fe)){V.vertexLength+4>te.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var We=Ee.sub(Fe)._perp()._unit(),Ze=Fe.dist(Ee);ge+Ze>32768&&(ge=0),ff(this.layoutVertexArray,Ee.x,Ee.y,We.x,We.y,0,0,ge),ff(this.layoutVertexArray,Ee.x,Ee.y,We.x,We.y,0,1,ge),ff(this.layoutVertexArray,Fe.x,Fe.y,We.x,We.y,0,0,ge+=Ze),ff(this.layoutVertexArray,Fe.x,Fe.y,We.x,We.y,0,1,ge);var Je=V.vertexLength;this.indexArray.emplaceBack(Je,Je+2,Je+1),this.indexArray.emplaceBack(Je+1,Je+2,Je+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+P>te.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray)),zT[e.type]==="Polygon"){for(var ut=[],Et=[],Pt=V.vertexLength,Qt=0,zt=S;Qt<zt.length;Qt+=1){var or=zt[Qt];if(or.length!==0){or!==S[0]&&Et.push(ut.length/2);for(var Ut=0;Ut<or.length;Ut++){var Rr=or[Ut];ff(this.layoutVertexArray,Rr.x,Rr.y,0,0,1,1,0),ut.push(Rr.x),ut.push(Rr.y)}}}for(var gr=Km(ut,Et),Kt=0;Kt<gr.length;Kt+=3)this.indexArray.emplaceBack(Pt+gr[Kt],Pt+gr[Kt+2],Pt+gr[Kt+1]);V.primitiveLength+=gr.length/3,V.vertexLength+=P}}var Vr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,d,h)},$t("FillExtrusionBucket",zs,{omit:["layers","features"]});var BT={paint:new no({"fill-extrusion-opacity":new nr(Q["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Xt(Q["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new nr(Q["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new nr(Q["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Fc(Q["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Xt(Q["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Xt(Q["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new nr(Q["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},UT=function(e){function r(i){e.call(this,i,BT)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.createBucket=function(i){return new zs(i)},r.prototype.queryRadius=function(){return Ui(this.paint.get("fill-extrusion-translate"))},r.prototype.is3D=function(){return!0},r.prototype.queryIntersectsFeature=function(i,h,d,g,v,S,P,O){var z=Ds(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,P),V=this.paint.get("fill-extrusion-height").evaluate(h,d),G=this.paint.get("fill-extrusion-base").evaluate(h,d),K=function(ge,Re,Ee,Fe){for(var We=[],Ze=0,Je=ge;Ze<Je.length;Ze+=1){var ut=Je[Ze],Et=[ut.x,ut.y,0,1];qc(Et,Et,Re),We.push(new R(Et[0]/Et[3],Et[1]/Et[3]))}return We}(z,O),fe=function(ge,Re,Ee,Fe){for(var We=[],Ze=[],Je=Fe[8]*Re,ut=Fe[9]*Re,Et=Fe[10]*Re,Pt=Fe[11]*Re,Qt=Fe[8]*Ee,zt=Fe[9]*Ee,or=Fe[10]*Ee,Ut=Fe[11]*Ee,Rr=0,gr=ge;Rr<gr.length;Rr+=1){for(var Kt=[],Vr=[],Ir=0,Jr=gr[Rr];Ir<Jr.length;Ir+=1){var sr=Jr[Ir],hn=sr.x,qn=sr.y,ri=Fe[0]*hn+Fe[4]*qn+Fe[12],Jn=Fe[1]*hn+Fe[5]*qn+Fe[13],Hn=Fe[2]*hn+Fe[6]*qn+Fe[14],ni=Fe[3]*hn+Fe[7]*qn+Fe[15],Vi=Hn+Et,ji=ni+Pt,ko=ri+Qt,Ki=Jn+zt,Po=Hn+or,ci=ni+Ut,Yi=new R((ri+Je)/ji,(Jn+ut)/ji);Yi.z=Vi/ji,Kt.push(Yi);var Wr=new R(ko/ci,Ki/ci);Wr.z=Po/ci,Vr.push(Wr)}We.push(Kt),Ze.push(Vr)}return[We,Ze]}(g,G,V,O);return function(ge,Re,Ee){var Fe=1/0;ns(Ee,Re)&&(Fe=ev(Ee,Re[0]));for(var We=0;We<Re.length;We++)for(var Ze=Re[We],Je=ge[We],ut=0;ut<Ze.length-1;ut++){var Et=Ze[ut],Pt=[Et,Ze[ut+1],Je[ut+1],Je[ut],Et];ol(Ee,Pt)&&(Fe=Math.min(Fe,ev(Ee,Pt)))}return Fe!==1/0&&Fe}(fe[0],fe[1],K)},r}(ms);function pf(e,r){return e.x*r.x+e.y*r.y}function ev(e,r){if(e.length===1){for(var i,h=0,d=r[h++];!i||d.equals(i);)if(!(i=r[h++]))return 1/0;for(;h<r.length;h++){var g=r[h],v=e[0],S=i.sub(d),P=g.sub(d),O=v.sub(d),z=pf(S,S),V=pf(S,P),G=pf(P,P),K=pf(O,S),fe=pf(O,P),ge=z*G-V*V,Re=(G*K-V*fe)/ge,Ee=(z*fe-V*K)/ge,Fe=d.z*(1-Re-Ee)+i.z*Re+g.z*Ee;if(isFinite(Fe))return Fe}return 1/0}for(var We=1/0,Ze=0,Je=r;Ze<Je.length;Ze+=1)We=Math.min(We,Je[Ze].z);return We}var VT=Gi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,jT=Gi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,qT=Gc.VectorTileFeature.types,HT=Math.cos(Math.PI/180*37.5),tv=Math.pow(2,14)/.5,zo=function(e){var r=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(i){return i.id}),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(i){r.gradients[i.id]={}}),this.layoutVertexArray=new Qo,this.layoutVertexArray2=new cu,this.indexArray=new rl,this.programConfigurations=new mr(e.layers,e.zoom),this.segments=new te,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(i){return i.isStateDependent()}).map(function(i){return i.id})};zo.prototype.populate=function(e,r,i){this.hasPattern=tg("line",this.layers,r);for(var h=this.layers[0].layout.get("line-sort-key"),d=[],g=0,v=e;g<v.length;g+=1){var S=v[g],P=S.feature,O=S.id,z=S.index,V=S.sourceLayerIndex,G=this.layers[0]._featureFilter.needGeometry,K=ui(P,G);if(this.layers[0]._featureFilter.filter(new jr(this.zoom),K,i)){var fe=h?h.evaluate(K,{},i):void 0,ge={id:O,properties:P.properties,type:P.type,sourceLayerIndex:V,index:z,geometry:G?K.geometry:Yn(P),patterns:{},sortKey:fe};d.push(ge)}}h&&d.sort(function(Et,Pt){return Et.sortKey-Pt.sortKey});for(var Re=0,Ee=d;Re<Ee.length;Re+=1){var Fe=Ee[Re],We=Fe.geometry,Ze=Fe.index,Je=Fe.sourceLayerIndex;if(this.hasPattern){var ut=rg("line",this.layers,Fe,this.zoom,r);this.patternFeatures.push(ut)}else this.addFeature(Fe,We,Ze,i,{});r.featureIndex.insert(e[Ze].feature,We,Ze,Je,this.index)}},zo.prototype.update=function(e,r,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,i)},zo.prototype.addFeatures=function(e,r,i){for(var h=0,d=this.patternFeatures;h<d.length;h+=1){var g=d[h];this.addFeature(g,g.geometry,g.index,r,i)}},zo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},zo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zo.prototype.upload=function(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,jT)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,VT),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},zo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zo.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},zo.prototype.addFeature=function(e,r,i,h,d){var g=this.layers[0].layout,v=g.get("line-join").evaluate(e,{}),S=g.get("line-cap"),P=g.get("line-miter-limit"),O=g.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var z=0,V=r;z<V.length;z+=1)this.addLine(V[z],e,v,S,P,O);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,d,h)},zo.prototype.addLine=function(e,r,i,h,d,g){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var v=0;v<e.length-1;v++)this.totalDistance+=e[v].dist(e[v+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var S=qT[r.type]==="Polygon",P=e.length;P>=2&&e[P-1].equals(e[P-2]);)P--;for(var O=0;O<P-1&&e[O].equals(e[O+1]);)O++;if(!(P<(S?3:2))){i==="bevel"&&(d=1.05);var z,V=this.overscaling<=16?122880/(512*this.overscaling):0,G=this.segments.prepareSegment(10*P,this.layoutVertexArray,this.indexArray),K=void 0,fe=void 0,ge=void 0,Re=void 0;this.e1=this.e2=-1,S&&(Re=e[O].sub(z=e[P-2])._unit()._perp());for(var Ee=O;Ee<P;Ee++)if(!(fe=Ee===P-1?S?e[O+1]:void 0:e[Ee+1])||!e[Ee].equals(fe)){Re&&(ge=Re),z&&(K=z),z=e[Ee],Re=fe?fe.sub(z)._unit()._perp():ge;var Fe=(ge=ge||Re).add(Re);Fe.x===0&&Fe.y===0||Fe._unit();var We=ge.x*Re.x+ge.y*Re.y,Ze=Fe.x*Re.x+Fe.y*Re.y,Je=Ze!==0?1/Ze:1/0,ut=2*Math.sqrt(2-2*Ze),Et=Ze<HT&&K&&fe,Pt=ge.x*Re.y-ge.y*Re.x>0;if(Et&&Ee>O){var Qt=z.dist(K);if(Qt>2*V){var zt=z.sub(z.sub(K)._mult(V/Qt)._round());this.updateDistance(K,zt),this.addCurrentVertex(zt,ge,0,0,G),K=zt}}var or=K&&fe,Ut=or?i:S?"butt":h;if(or&&Ut==="round"&&(Je<g?Ut="miter":Je<=2&&(Ut="fakeround")),Ut==="miter"&&Je>d&&(Ut="bevel"),Ut==="bevel"&&(Je>2&&(Ut="flipbevel"),Je<d&&(Ut="miter")),K&&this.updateDistance(K,z),Ut==="miter")Fe._mult(Je),this.addCurrentVertex(z,Fe,0,0,G);else if(Ut==="flipbevel"){if(Je>100)Fe=Re.mult(-1);else{var Rr=Je*ge.add(Re).mag()/ge.sub(Re).mag();Fe._perp()._mult(Rr*(Pt?-1:1))}this.addCurrentVertex(z,Fe,0,0,G),this.addCurrentVertex(z,Fe.mult(-1),0,0,G)}else if(Ut==="bevel"||Ut==="fakeround"){var gr=-Math.sqrt(Je*Je-1),Kt=Pt?gr:0,Vr=Pt?0:gr;if(K&&this.addCurrentVertex(z,ge,Kt,Vr,G),Ut==="fakeround")for(var Ir=Math.round(180*ut/Math.PI/20),Jr=1;Jr<Ir;Jr++){var sr=Jr/Ir;if(sr!==.5){var hn=sr-.5;sr+=sr*hn*(sr-1)*((1.0904+We*(We*(3.55645-1.43519*We)-3.2452))*hn*hn+(.848013+We*(.215638*We-1.06021)))}var qn=Re.sub(ge)._mult(sr)._add(ge)._unit()._mult(Pt?-1:1);this.addHalfVertex(z,qn.x,qn.y,!1,Pt,0,G)}fe&&this.addCurrentVertex(z,Re,-Kt,-Vr,G)}else if(Ut==="butt")this.addCurrentVertex(z,Fe,0,0,G);else if(Ut==="square"){var ri=K?1:-1;this.addCurrentVertex(z,Fe,ri,ri,G)}else Ut==="round"&&(K&&(this.addCurrentVertex(z,ge,0,0,G),this.addCurrentVertex(z,ge,1,1,G,!0)),fe&&(this.addCurrentVertex(z,Re,-1,-1,G,!0),this.addCurrentVertex(z,Re,0,0,G)));if(Et&&Ee<P-1){var Jn=z.dist(fe);if(Jn>2*V){var Hn=z.add(fe.sub(z)._mult(V/Jn)._round());this.updateDistance(z,Hn),this.addCurrentVertex(Hn,Re,0,0,G),z=Hn}}}}},zo.prototype.addCurrentVertex=function(e,r,i,h,d,g){g===void 0&&(g=!1);var v=r.y*h-r.x,S=-r.y-r.x*h;this.addHalfVertex(e,r.x+r.y*i,r.y-r.x*i,g,!1,i,d),this.addHalfVertex(e,v,S,g,!0,-h,d),this.distance>tv/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(e,r,i,h,d,g))},zo.prototype.addHalfVertex=function(e,r,i,h,d,g,v){var S=.5*(this.lineClips?this.scaledDistance*(tv-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(h?1:0),(e.y<<1)+(d?1:0),Math.round(63*r)+128,Math.round(63*i)+128,1+(g===0?0:g<0?-1:1)|(63&S)<<2,S>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var P=v.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,P),v.primitiveLength++),d?this.e2=P:this.e1=P},zo.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},zo.prototype.updateDistance=function(e,r){this.distance+=e.dist(r),this.updateScaledDistance()},$t("LineBucket",zo,{omit:["layers","patternFeatures"]});var WT=new no({"line-cap":new nr(Q.layout_line["line-cap"]),"line-join":new Xt(Q.layout_line["line-join"]),"line-miter-limit":new nr(Q.layout_line["line-miter-limit"]),"line-round-limit":new nr(Q.layout_line["line-round-limit"]),"line-sort-key":new Xt(Q.layout_line["line-sort-key"])}),rv={paint:new no({"line-opacity":new Xt(Q.paint_line["line-opacity"]),"line-color":new Xt(Q.paint_line["line-color"]),"line-translate":new nr(Q.paint_line["line-translate"]),"line-translate-anchor":new nr(Q.paint_line["line-translate-anchor"]),"line-width":new Xt(Q.paint_line["line-width"]),"line-gap-width":new Xt(Q.paint_line["line-gap-width"]),"line-offset":new Xt(Q.paint_line["line-offset"]),"line-blur":new Xt(Q.paint_line["line-blur"]),"line-dasharray":new Co(Q.paint_line["line-dasharray"]),"line-pattern":new Fc(Q.paint_line["line-pattern"]),"line-gradient":new rs(Q.paint_line["line-gradient"])}),layout:WT},nv=new(function(e){function r(){e.apply(this,arguments)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(i,h){return h=new jr(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),e.prototype.possiblyEvaluate.call(this,i,h)},r.prototype.evaluate=function(i,h,d,g){return h=Pe({},h,{zoom:Math.floor(h.zoom)}),e.prototype.evaluate.call(this,i,h,d,g)},r}(Xt))(rv.paint.properties["line-width"].specification);nv.useIntegerZoom=!0;var $T=function(e){function r(i){e.call(this,i,rv),this.gradientVersion=0}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype._handleSpecialPaintPropertyUpdate=function(i){i==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof dr,this.gradientVersion=(this.gradientVersion+1)%ae)},r.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},r.prototype.recalculate=function(i,h){e.prototype.recalculate.call(this,i,h),this.paint._values["line-floorwidth"]=nv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)},r.prototype.createBucket=function(i){return new zo(i)},r.prototype.queryRadius=function(i){var h=i,d=iv(_s("line-width",this,h),_s("line-gap-width",this,h)),g=_s("line-offset",this,h);return d/2+Math.abs(g)+Ui(this.paint.get("line-translate"))},r.prototype.queryIntersectsFeature=function(i,h,d,g,v,S,P){var O=Ds(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,P),z=P/2*iv(this.paint.get("line-width").evaluate(h,d),this.paint.get("line-gap-width").evaluate(h,d)),V=this.paint.get("line-offset").evaluate(h,d);return V&&(g=function(G,K){for(var fe=[],ge=new R(0,0),Re=0;Re<G.length;Re++){for(var Ee=G[Re],Fe=[],We=0;We<Ee.length;We++){var Ze=Ee[We],Je=Ee[We+1],ut=We===0?ge:Ze.sub(Ee[We-1])._unit()._perp(),Et=We===Ee.length-1?ge:Je.sub(Ze)._unit()._perp(),Pt=ut._add(Et)._unit();Pt._mult(1/(Pt.x*Et.x+Pt.y*Et.y)),Fe.push(Pt._mult(K)._add(Ze))}fe.push(Fe)}return fe}(g,V*P)),function(G,K,fe){for(var ge=0;ge<K.length;ge++){var Re=K[ge];if(G.length>=3){for(var Ee=0;Ee<Re.length;Ee++)if(ys(G,Re[Ee]))return!0}if(La(G,Re,fe))return!0}return!1}(O,g,z)},r.prototype.isTileClipped=function(){return!0},r}(ms);function iv(e,r){return r>0?r+2*e:e}var GT=Gi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ZT=Gi([{name:"a_projected_pos",components:3,type:"Float32"}],4),XT=(Gi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Gi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ov=(Gi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),KT=Gi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function YT(e,r,i){return e.sections.forEach(function(h){h.text=function(d,g,v){var S=g.layout.get("text-transform").evaluate(v,{});return S==="uppercase"?d=d.toLocaleUpperCase():S==="lowercase"&&(d=d.toLocaleLowerCase()),fa.applyArabicShaping&&(d=fa.applyArabicShaping(d)),d}(h.text,r,i)}),e}Gi([{name:"triangle",components:3,type:"Uint16"}]),Gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Gi([{type:"Float32",name:"offsetX"}]),Gi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var df={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},av=function(e,r,i,h,d){var g,v,S=8*d-h-1,P=(1<<S)-1,O=P>>1,z=-7,V=d-1,G=-1,K=e[r+V];for(V+=G,g=K&(1<<-z)-1,K>>=-z,z+=S;z>0;g=256*g+e[r+V],V+=G,z-=8);for(v=g&(1<<-z)-1,g>>=-z,z+=h;z>0;v=256*v+e[r+V],V+=G,z-=8);if(g===0)g=1-O;else{if(g===P)return v?NaN:1/0*(K?-1:1);v+=Math.pow(2,h),g-=O}return(K?-1:1)*v*Math.pow(2,g-h)},sv=function(e,r,i,h,d,g){var v,S,P,O=8*g-d-1,z=(1<<O)-1,V=z>>1,G=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=0,fe=1,ge=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(S=isNaN(r)?1:0,v=z):(v=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-v))<1&&(v--,P*=2),(r+=v+V>=1?G/P:G*Math.pow(2,1-V))*P>=2&&(v++,P/=2),v+V>=z?(S=0,v=z):v+V>=1?(S=(r*P-1)*Math.pow(2,d),v+=V):(S=r*Math.pow(2,V-1)*Math.pow(2,d),v=0));d>=8;e[i+K]=255&S,K+=fe,S/=256,d-=8);for(v=v<<d|S,O+=d;O>0;e[i+K]=255&v,K+=fe,v/=256,O-=8);e[i+K-fe]|=128*ge},Lp=zn;function zn(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}zn.Varint=0,zn.Fixed64=1,zn.Bytes=2,zn.Fixed32=5;var lv=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Dl(e){return e.type===zn.Bytes?e.readVarint()+e.pos:e.pos+1}function Zc(e,r,i){return i?4294967296*r+(e>>>0):4294967296*(r>>>0)+(e>>>0)}function uv(e,r,i){var h=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));i.realloc(h);for(var d=i.pos-1;d>=e;d--)i.buf[d+h]=i.buf[d]}function JT(e,r){for(var i=0;i<e.length;i++)r.writeVarint(e[i])}function QT(e,r){for(var i=0;i<e.length;i++)r.writeSVarint(e[i])}function eE(e,r){for(var i=0;i<e.length;i++)r.writeFloat(e[i])}function tE(e,r){for(var i=0;i<e.length;i++)r.writeDouble(e[i])}function rE(e,r){for(var i=0;i<e.length;i++)r.writeBoolean(e[i])}function nE(e,r){for(var i=0;i<e.length;i++)r.writeFixed32(e[i])}function iE(e,r){for(var i=0;i<e.length;i++)r.writeSFixed32(e[i])}function oE(e,r){for(var i=0;i<e.length;i++)r.writeFixed64(e[i])}function aE(e,r){for(var i=0;i<e.length;i++)r.writeSFixed64(e[i])}function Rp(e,r){return(e[r]|e[r+1]<<8|e[r+2]<<16)+16777216*e[r+3]}function Xc(e,r,i){e[i]=r,e[i+1]=r>>>8,e[i+2]=r>>>16,e[i+3]=r>>>24}function cv(e,r){return(e[r]|e[r+1]<<8|e[r+2]<<16)+(e[r+3]<<24)}function sE(e,r,i){e===1&&i.readMessage(lE,r)}function lE(e,r,i){if(e===3){var h=i.readMessage(uE,{}),d=h.width,g=h.height,v=h.left,S=h.top,P=h.advance;r.push({id:h.id,bitmap:new oc({width:d+6,height:g+6},h.bitmap),metrics:{width:d,height:g,left:v,top:S,advance:P}})}}function uE(e,r,i){e===1?r.id=i.readVarint():e===2?r.bitmap=i.readBytes():e===3?r.width=i.readVarint():e===4?r.height=i.readVarint():e===5?r.left=i.readSVarint():e===6?r.top=i.readSVarint():e===7&&(r.advance=i.readVarint())}function hv(e){for(var r=0,i=0,h=0,d=e;h<d.length;h+=1){var g=d[h];r+=g.w*g.h,i=Math.max(i,g.w)}e.sort(function(ge,Re){return Re.h-ge.h});for(var v=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),i),h:1/0}],S=0,P=0,O=0,z=e;O<z.length;O+=1)for(var V=z[O],G=v.length-1;G>=0;G--){var K=v[G];if(!(V.w>K.w||V.h>K.h)){if(V.x=K.x,V.y=K.y,P=Math.max(P,V.y+V.h),S=Math.max(S,V.x+V.w),V.w===K.w&&V.h===K.h){var fe=v.pop();G<v.length&&(v[G]=fe)}else V.h===K.h?(K.x+=V.w,K.w-=V.w):V.w===K.w?(K.y+=V.h,K.h-=V.h):(v.push({x:K.x+V.w,y:K.y,w:K.w-V.w,h:V.h}),K.y+=V.h,K.h-=V.h);break}}return{w:S,h:P,fill:r/(S*P)||0}}zn.prototype={destroy:function(){this.buf=null},readFields:function(e,r,i){for(i=i||this.length;this.pos<i;){var h=this.readVarint(),d=h>>3,g=this.pos;this.type=7&h,e(d,r,this),this.pos===g&&this.skip(h)}return r},readMessage:function(e,r){return this.readFields(e,r,this.readVarint()+this.pos)},readFixed32:function(){var e=Rp(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=cv(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Rp(this.buf,this.pos)+4294967296*Rp(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=Rp(this.buf,this.pos)+4294967296*cv(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=av(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=av(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var r,i,h=this.buf;return r=127&(i=h[this.pos++]),i<128?r:(r|=(127&(i=h[this.pos++]))<<7,i<128?r:(r|=(127&(i=h[this.pos++]))<<14,i<128?r:(r|=(127&(i=h[this.pos++]))<<21,i<128?r:function(d,g,v){var S,P,O=v.buf;if(S=(112&(P=O[v.pos++]))>>4,P<128||(S|=(127&(P=O[v.pos++]))<<3,P<128)||(S|=(127&(P=O[v.pos++]))<<10,P<128)||(S|=(127&(P=O[v.pos++]))<<17,P<128)||(S|=(127&(P=O[v.pos++]))<<24,P<128)||(S|=(1&(P=O[v.pos++]))<<31,P<128))return Zc(d,S,g);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(i=h[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,r=this.pos;return this.pos=e,e-r>=12&&lv?function(i,h,d){return lv.decode(i.subarray(h,d))}(this.buf,r,e):function(i,h,d){for(var g="",v=h;v<d;){var S,P,O,z=i[v],V=null,G=z>239?4:z>223?3:z>191?2:1;if(v+G>d)break;G===1?z<128&&(V=z):G===2?(192&(S=i[v+1]))==128&&(V=(31&z)<<6|63&S)<=127&&(V=null):G===3?(P=i[v+2],(192&(S=i[v+1]))==128&&(192&P)==128&&((V=(15&z)<<12|(63&S)<<6|63&P)<=2047||V>=55296&&V<=57343)&&(V=null)):G===4&&(P=i[v+2],O=i[v+3],(192&(S=i[v+1]))==128&&(192&P)==128&&(192&O)==128&&((V=(15&z)<<18|(63&S)<<12|(63&P)<<6|63&O)<=65535||V>=1114112)&&(V=null)),V===null?(V=65533,G=1):V>65535&&(V-=65536,g+=String.fromCharCode(V>>>10&1023|55296),V=56320|1023&V),g+=String.fromCharCode(V),v+=G}return g}(this.buf,r,e)},readBytes:function(){var e=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,e);return this.pos=e,r},readPackedVarint:function(e,r){if(this.type!==zn.Bytes)return e.push(this.readVarint(r));var i=Dl(this);for(e=e||[];this.pos<i;)e.push(this.readVarint(r));return e},readPackedSVarint:function(e){if(this.type!==zn.Bytes)return e.push(this.readSVarint());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==zn.Bytes)return e.push(this.readBoolean());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==zn.Bytes)return e.push(this.readFloat());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==zn.Bytes)return e.push(this.readDouble());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==zn.Bytes)return e.push(this.readFixed32());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==zn.Bytes)return e.push(this.readSFixed32());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==zn.Bytes)return e.push(this.readFixed64());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==zn.Bytes)return e.push(this.readSFixed64());var r=Dl(this);for(e=e||[];this.pos<r;)e.push(this.readSFixed64());return e},skip:function(e){var r=7&e;if(r===zn.Varint)for(;this.buf[this.pos++]>127;);else if(r===zn.Bytes)this.pos=this.readVarint()+this.pos;else if(r===zn.Fixed32)this.pos+=4;else{if(r!==zn.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(e,r){this.writeVarint(e<<3|r)},realloc:function(e){for(var r=this.length||16;r<this.pos+e;)r*=2;if(r!==this.length){var i=new Uint8Array(r);i.set(this.buf),this.buf=i,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Xc(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Xc(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Xc(this.buf,-1&e,this.pos),Xc(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Xc(this.buf,-1&e,this.pos),Xc(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(r,i){var h,d;if(r>=0?(h=r%4294967296|0,d=r/4294967296|0):(d=~(-r/4294967296),4294967295^(h=~(-r%4294967296))?h=h+1|0:(h=0,d=d+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),function(g,v,S){S.buf[S.pos++]=127&g|128,g>>>=7,S.buf[S.pos++]=127&g|128,g>>>=7,S.buf[S.pos++]=127&g|128,g>>>=7,S.buf[S.pos++]=127&g|128,S.buf[S.pos]=127&(g>>>=7)}(h,0,i),function(g,v){var S=(7&g)<<4;v.buf[v.pos++]|=S|((g>>>=3)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g)))))}(d,i)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var r=this.pos;this.pos=function(h,d,g){for(var v,S,P=0;P<d.length;P++){if((v=d.charCodeAt(P))>55295&&v<57344){if(!S){v>56319||P+1===d.length?(h[g++]=239,h[g++]=191,h[g++]=189):S=v;continue}if(v<56320){h[g++]=239,h[g++]=191,h[g++]=189,S=v;continue}v=S-55296<<10|v-56320|65536,S=null}else S&&(h[g++]=239,h[g++]=191,h[g++]=189,S=null);v<128?h[g++]=v:(v<2048?h[g++]=v>>6|192:(v<65536?h[g++]=v>>12|224:(h[g++]=v>>18|240,h[g++]=v>>12&63|128),h[g++]=v>>6&63|128),h[g++]=63&v|128)}return g}(this.buf,e,this.pos);var i=this.pos-r;i>=128&&uv(r,i,this),this.pos=r-1,this.writeVarint(i),this.pos+=i},writeFloat:function(e){this.realloc(4),sv(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),sv(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var r=e.length;this.writeVarint(r),this.realloc(r);for(var i=0;i<r;i++)this.buf[this.pos++]=e[i]},writeRawMessage:function(e,r){this.pos++;var i=this.pos;e(r,this);var h=this.pos-i;h>=128&&uv(i,h,this),this.pos=i-1,this.writeVarint(h),this.pos+=h},writeMessage:function(e,r,i){this.writeTag(e,zn.Bytes),this.writeRawMessage(r,i)},writePackedVarint:function(e,r){r.length&&this.writeMessage(e,JT,r)},writePackedSVarint:function(e,r){r.length&&this.writeMessage(e,QT,r)},writePackedBoolean:function(e,r){r.length&&this.writeMessage(e,rE,r)},writePackedFloat:function(e,r){r.length&&this.writeMessage(e,eE,r)},writePackedDouble:function(e,r){r.length&&this.writeMessage(e,tE,r)},writePackedFixed32:function(e,r){r.length&&this.writeMessage(e,nE,r)},writePackedSFixed32:function(e,r){r.length&&this.writeMessage(e,iE,r)},writePackedFixed64:function(e,r){r.length&&this.writeMessage(e,oE,r)},writePackedSFixed64:function(e,r){r.length&&this.writeMessage(e,aE,r)},writeBytesField:function(e,r){this.writeTag(e,zn.Bytes),this.writeBytes(r)},writeFixed32Field:function(e,r){this.writeTag(e,zn.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(e,r){this.writeTag(e,zn.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(e,r){this.writeTag(e,zn.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(e,r){this.writeTag(e,zn.Fixed64),this.writeSFixed64(r)},writeVarintField:function(e,r){this.writeTag(e,zn.Varint),this.writeVarint(r)},writeSVarintField:function(e,r){this.writeTag(e,zn.Varint),this.writeSVarint(r)},writeStringField:function(e,r){this.writeTag(e,zn.Bytes),this.writeString(r)},writeFloatField:function(e,r){this.writeTag(e,zn.Fixed32),this.writeFloat(r)},writeDoubleField:function(e,r){this.writeTag(e,zn.Fixed64),this.writeDouble(r)},writeBooleanField:function(e,r){this.writeVarintField(e,!!r)}};var Mp=function(e,r){var i=r.pixelRatio,h=r.version,d=r.stretchX,g=r.stretchY,v=r.content;this.paddedRect=e,this.pixelRatio=i,this.stretchX=d,this.stretchY=g,this.content=v,this.version=h},mf={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};mf.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},mf.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},mf.tlbr.get=function(){return this.tl.concat(this.br)},mf.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Mp.prototype,mf);var gf=function(e,r){var i={},h={};this.haveRenderCallbacks=[];var d=[];this.addImages(e,i,d),this.addImages(r,h,d);var g=hv(d),v=new ta({width:g.w||1,height:g.h||1});for(var S in e){var P=e[S],O=i[S].paddedRect;ta.copy(P.data,v,{x:0,y:0},{x:O.x+1,y:O.y+1},P.data)}for(var z in r){var V=r[z],G=h[z].paddedRect,K=G.x+1,fe=G.y+1,ge=V.data.width,Re=V.data.height;ta.copy(V.data,v,{x:0,y:0},{x:K,y:fe},V.data),ta.copy(V.data,v,{x:0,y:Re-1},{x:K,y:fe-1},{width:ge,height:1}),ta.copy(V.data,v,{x:0,y:0},{x:K,y:fe+Re},{width:ge,height:1}),ta.copy(V.data,v,{x:ge-1,y:0},{x:K-1,y:fe},{width:1,height:Re}),ta.copy(V.data,v,{x:0,y:0},{x:K+ge,y:fe},{width:1,height:Re})}this.image=v,this.iconPositions=i,this.patternPositions=h};gf.prototype.addImages=function(e,r,i){for(var h in e){var d=e[h],g={x:0,y:0,w:d.data.width+2,h:d.data.height+2};i.push(g),r[h]=new Mp(g,d),d.hasRenderCallback&&this.haveRenderCallbacks.push(h)}},gf.prototype.patchUpdatedImages=function(e,r){for(var i in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[i],e.getImage(i),r),this.patchUpdatedImage(this.patternPositions[i],e.getImage(i),r)},gf.prototype.patchUpdatedImage=function(e,r,i){if(e&&r&&e.version!==r.version){e.version=r.version;var h=e.tl;i.update(r.data,void 0,{x:h[0],y:h[1]})}},$t("ImagePosition",Mp),$t("ImageAtlas",gf);var Ra={horizontal:1,vertical:2,horizontalOnly:3},Kc=function(){this.scale=1,this.fontStack="",this.imageName=null};Kc.forText=function(e,r){var i=new Kc;return i.scale=e||1,i.fontStack=r,i},Kc.forImage=function(e){var r=new Kc;return r.imageName=e,r};var Io=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Op(e,r,i,h,d,g,v,S,P,O,z,V,G,K,fe,ge){var Re,Ee=Io.fromFeature(e,d);V===Ra.vertical&&Ee.verticalizePunctuation();var Fe=fa.processBidirectionalText,We=fa.processStyledBidirectionalText;if(Fe&&Ee.sections.length===1){Re=[];for(var Ze=0,Je=Fe(Ee.toString(),ig(Ee,O,g,r,h,K,fe));Ze<Je.length;Ze+=1){var ut=Je[Ze],Et=new Io;Et.text=ut,Et.sections=Ee.sections;for(var Pt=0;Pt<ut.length;Pt++)Et.sectionIndex.push(0);Re.push(Et)}}else if(We){Re=[];for(var Qt=0,zt=We(Ee.text,Ee.sectionIndex,ig(Ee,O,g,r,h,K,fe));Qt<zt.length;Qt+=1){var or=zt[Qt],Ut=new Io;Ut.text=or[0],Ut.sectionIndex=or[1],Ut.sections=Ee.sections,Re.push(Ut)}}else Re=function(Kt,Vr){for(var Ir=[],Jr=Kt.text,sr=0,hn=0,qn=Vr;hn<qn.length;hn+=1){var ri=qn[hn];Ir.push(Kt.substring(sr,ri)),sr=ri}return sr<Jr.length&&Ir.push(Kt.substring(sr,Jr.length)),Ir}(Ee,ig(Ee,O,g,r,h,K,fe));var Rr=[],gr={positionedLines:Rr,text:Ee.toString(),top:z[1],bottom:z[1],left:z[0],right:z[0],writingMode:V,iconsInText:!1,verticalizable:!1};return function(Kt,Vr,Ir,Jr,sr,hn,qn,ri,Jn,Hn,ni,Vi){for(var ji=0,ko=-17,Ki=0,Po=0,ci=ri==="right"?1:ri==="left"?0:.5,Yi=0,Wr=0,Rn=sr;Wr<Rn.length;Wr+=1){var Tn=Rn[Wr];Tn.trim();var an=Tn.getMaxScale(),Fo=24*(an-1),fo={positionedGlyphs:[],lineOffset:0};Kt.positionedLines[Yi]=fo;var Un=fo.positionedGlyphs,xi=0;if(Tn.length()){for(var po=0;po<Tn.length();po++){var fn=Tn.getSection(po),ll=Tn.getSectionIndex(po),Ma=Tn.getCharCode(po),ul=0,hi=null,cl=null,vs=null,ih=24,uc=!(Jn===Ra.horizontal||!ni&&!Dc(Ma)||ni&&(Dp[Ma]||(Bl=Ma,Ot.Arabic(Bl)||Ot["Arabic Supplement"](Bl)||Ot["Arabic Extended-A"](Bl)||Ot["Arabic Presentation Forms-A"](Bl)||Ot["Arabic Presentation Forms-B"](Bl))));if(fn.imageName){var oh=Jr[fn.imageName];if(!oh)continue;vs=fn.imageName,Kt.iconsInText=Kt.iconsInText||!0,cl=oh.paddedRect;var Fl=oh.displaySize;fn.scale=24*fn.scale/Vi,ul=Fo+(24-Fl[1]*fn.scale),ih=(hi={width:Fl[0],height:Fl[1],left:1,top:-3,advance:uc?Fl[1]:Fl[0]}).advance;var ah=uc?Fl[0]*fn.scale-24*an:Fl[1]*fn.scale-24*an;ah>0&&ah>xi&&(xi=ah)}else{var Hp=Ir[fn.fontStack],sh=Hp&&Hp[Ma];if(sh&&sh.rect)cl=sh.rect,hi=sh.metrics;else{var vf=Vr[fn.fontStack],Wp=vf&&vf[Ma];if(!Wp)continue;hi=Wp.metrics}ul=24*(an-fn.scale)}uc?(Kt.verticalizable=!0,Un.push({glyph:Ma,imageName:vs,x:ji,y:ko+ul,vertical:uc,scale:fn.scale,fontStack:fn.fontStack,sectionIndex:ll,metrics:hi,rect:cl}),ji+=ih*fn.scale+Hn):(Un.push({glyph:Ma,imageName:vs,x:ji,y:ko+ul,vertical:uc,scale:fn.scale,fontStack:fn.fontStack,sectionIndex:ll,metrics:hi,rect:cl}),ji+=hi.advance*fn.scale+Hn)}Un.length!==0&&(Ki=Math.max(ji-Hn,Ki),hE(Un,0,Un.length-1,ci,xi)),ji=0;var $p=hn*an+xi;fo.lineOffset=Math.max(xi,Fo),ko+=$p,Po=Math.max($p,Po),++Yi}else ko+=hn,++Yi}var Bl,bf=ko- -17,lh=og(qn),_u=lh.horizontalAlign,uh=lh.verticalAlign;(function(Gp,Zp,xf,wf,Xp,Sf,Tf,Ef,Kp){var ch,Yp=(Zp-xf)*Xp;ch=Sf!==Tf?-Ef*wf- -17:(-wf*Kp+.5)*Tf;for(var hh=0,Cf=Gp;hh<Cf.length;hh+=1)for(var cc=0,Af=Cf[hh].positionedGlyphs;cc<Af.length;cc+=1){var fh=Af[cc];fh.x+=Yp,fh.y+=ch}})(Kt.positionedLines,ci,_u,uh,Ki,Po,hn,bf,sr.length),Kt.top+=-uh*bf,Kt.bottom=Kt.top+bf,Kt.left+=-_u*Ki,Kt.right=Kt.left+Ki}(gr,r,i,h,Re,v,S,P,V,O,G,ge),!function(Kt){for(var Vr=0,Ir=Kt;Vr<Ir.length;Vr+=1)if(Ir[Vr].positionedGlyphs.length!==0)return!1;return!0}(Rr)&&gr}Io.fromFeature=function(e,r){for(var i=new Io,h=0;h<e.sections.length;h++){var d=e.sections[h];d.image?i.addImageSection(d):i.addTextSection(d,r)}return i},Io.prototype.length=function(){return this.text.length},Io.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Io.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Io.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Io.prototype.verticalizePunctuation=function(){this.text=function(e){for(var r="",i=0;i<e.length;i++){var h=e.charCodeAt(i+1)||null,d=e.charCodeAt(i-1)||null;r+=h&&Jh(h)&&!df[e[i+1]]||d&&Jh(d)&&!df[e[i-1]]||!df[e[i]]?e[i]:df[e[i]]}return r}(this.text)},Io.prototype.trim=function(){for(var e=0,r=0;r<this.text.length&&Dp[this.text.charCodeAt(r)];r++)e++;for(var i=this.text.length,h=this.text.length-1;h>=0&&h>=e&&Dp[this.text.charCodeAt(h)];h--)i--;this.text=this.text.substring(e,i),this.sectionIndex=this.sectionIndex.slice(e,i)},Io.prototype.substring=function(e,r){var i=new Io;return i.text=this.text.substring(e,r),i.sectionIndex=this.sectionIndex.slice(e,r),i.sections=this.sections,i},Io.prototype.toString=function(){return this.text},Io.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(r,i){return Math.max(r,e.sections[i].scale)},0)},Io.prototype.addTextSection=function(e,r){this.text+=e.text,this.sections.push(Kc.forText(e.scale,e.fontStack||r));for(var i=this.sections.length-1,h=0;h<e.text.length;++h)this.sectionIndex.push(i)},Io.prototype.addImageSection=function(e){var r=e.image?e.image.name:"";if(r.length!==0){var i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(Kc.forImage(r)),this.sectionIndex.push(this.sections.length-1)):tt("Reached maximum number of images 6401")}else tt("Can't add FormattedSection with an empty image.")},Io.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Dp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},da={};function fv(e,r,i,h,d,g){if(r.imageName){var v=h[r.imageName];return v?v.displaySize[0]*r.scale*24/g+d:0}var S=i[r.fontStack],P=S&&S[e];return P?P.metrics.advance*r.scale+d:0}function pv(e,r,i,h){var d=Math.pow(e-r,2);return h?e<r?d/2:2*d:d+Math.abs(i)*i}function cE(e,r,i){var h=0;return e===10&&(h-=1e4),i&&(h+=150),e!==40&&e!==65288||(h+=50),r!==41&&r!==65289||(h+=50),h}function dv(e,r,i,h,d,g){for(var v=null,S=pv(r,i,d,g),P=0,O=h;P<O.length;P+=1){var z=O[P],V=pv(r-z.x,i,d,g)+z.badness;V<=S&&(v=z,S=V)}return{index:e,x:r,priorBreak:v,badness:S}}function ig(e,r,i,h,d,g,v){if(g!=="point")return[];if(!e)return[];for(var S,P=[],O=function(Re,Ee,Fe,We,Ze,Je){for(var ut=0,Et=0;Et<Re.length();Et++){var Pt=Re.getSection(Et);ut+=fv(Re.getCharCode(Et),Pt,We,Ze,Ee,Je)}return ut/Math.max(1,Math.ceil(ut/Fe))}(e,r,i,h,d,v),z=e.text.indexOf("​")>=0,V=0,G=0;G<e.length();G++){var K=e.getSection(G),fe=e.getCharCode(G);if(Dp[fe]||(V+=fv(fe,K,h,d,r,v)),G<e.length()-1){var ge=!((S=fe)<11904||!(Ot["Bopomofo Extended"](S)||Ot.Bopomofo(S)||Ot["CJK Compatibility Forms"](S)||Ot["CJK Compatibility Ideographs"](S)||Ot["CJK Compatibility"](S)||Ot["CJK Radicals Supplement"](S)||Ot["CJK Strokes"](S)||Ot["CJK Symbols and Punctuation"](S)||Ot["CJK Unified Ideographs Extension A"](S)||Ot["CJK Unified Ideographs"](S)||Ot["Enclosed CJK Letters and Months"](S)||Ot["Halfwidth and Fullwidth Forms"](S)||Ot.Hiragana(S)||Ot["Ideographic Description Characters"](S)||Ot["Kangxi Radicals"](S)||Ot["Katakana Phonetic Extensions"](S)||Ot.Katakana(S)||Ot["Vertical Forms"](S)||Ot["Yi Radicals"](S)||Ot["Yi Syllables"](S)));(da[fe]||ge||K.imageName)&&P.push(dv(G+1,V,O,P,cE(fe,e.getCharCode(G+1),ge&&z),!1))}}return function Re(Ee){return Ee?Re(Ee.priorBreak).concat(Ee.index):[]}(dv(e.length(),V,O,P,0,!0))}function og(e){var r=.5,i=.5;switch(e){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:r,verticalAlign:i}}function hE(e,r,i,h,d){if(h||d)for(var g=e[i],v=(e[i].x+g.metrics.advance*g.scale)*h,S=r;S<=i;S++)e[S].x-=v,e[S].y+=d}function mv(e,r,i,h,d,g){var v,S=e.image;if(S.content){var P=S.content,O=S.pixelRatio||1;v=[P[0]/O,P[1]/O,S.displaySize[0]-P[2]/O,S.displaySize[1]-P[3]/O]}var z,V,G,K,fe=r.left*g,ge=r.right*g;i==="width"||i==="both"?(K=d[0]+fe-h[3],V=d[0]+ge+h[1]):V=(K=d[0]+(fe+ge-S.displaySize[0])/2)+S.displaySize[0];var Re=r.top*g,Ee=r.bottom*g;return i==="height"||i==="both"?(z=d[1]+Re-h[0],G=d[1]+Ee+h[2]):G=(z=d[1]+(Re+Ee-S.displaySize[1])/2)+S.displaySize[1],{image:S,top:z,right:V,bottom:G,left:K,collisionPadding:v}}da[10]=!0,da[32]=!0,da[38]=!0,da[40]=!0,da[41]=!0,da[43]=!0,da[45]=!0,da[47]=!0,da[173]=!0,da[183]=!0,da[8203]=!0,da[8208]=!0,da[8211]=!0,da[8231]=!0;var Yc=function(e){function r(i,h,d,g){e.call(this,i,h),this.angle=d,g!==void 0&&(this.segment=g)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)},r}(R);function ag(e,r){var i=r.expression;if(i.kind==="constant")return{kind:"constant",layoutSize:i.evaluate(new jr(e+1))};if(i.kind==="source")return{kind:"source"};for(var h=i.zoomStops,d=i.interpolationType,g=0;g<h.length&&h[g]<=e;)g++;for(var v=g=Math.max(0,g-1);v<h.length&&h[v]<e+1;)v++;v=Math.min(h.length-1,v);var S=h[g],P=h[v];return i.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:P,interpolationType:d}:{kind:"camera",minZoom:S,maxZoom:P,minSize:i.evaluate(new jr(S)),maxSize:i.evaluate(new jr(P)),interpolationType:d}}function gv(e,r,i){var h=r.uSize,d=i.lowerSize;return e.kind==="source"?d/128:e.kind==="composite"?Nn(d/128,i.upperSize/128,r.uSizeT):h}function yv(e,r){var i=0,h=0;if(e.kind==="constant")h=e.layoutSize;else if(e.kind!=="source"){var d=e.interpolationType,g=d?ue(b.interpolationFactor(d,r,e.minZoom,e.maxZoom),0,1):0;e.kind==="camera"?h=Nn(e.minSize,e.maxSize,g):i=g}return{uSizeT:i,uSize:h}}$t("Anchor",Yc);var fE=Object.freeze({__proto__:null,getSizeData:ag,evaluateSizeForFeature:gv,evaluateSizeForZoom:yv,SIZE_PACK_FACTOR:128});function _v(e,r,i,h,d){if(r.segment===void 0)return!0;for(var g=r,v=r.segment+1,S=0;S>-i/2;){if(--v<0)return!1;S-=e[v].dist(g),g=e[v]}S+=e[v].dist(e[v+1]),v++;for(var P=[],O=0;S<i/2;){var z=e[v],V=e[v+1];if(!V)return!1;var G=e[v-1].angleTo(z)-z.angleTo(V);for(G=Math.abs((G+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:S,angleDelta:G}),O+=G;S-P[0].distance>h;)O-=P.shift().angleDelta;if(O>d)return!1;v++,S+=z.dist(V)}return!0}function vv(e){for(var r=0,i=0;i<e.length-1;i++)r+=e[i].dist(e[i+1]);return r}function bv(e,r,i){return e?.6*r*i:0}function xv(e,r){return Math.max(e?e.right-e.left:0,r?r.right-r.left:0)}function pE(e,r,i,h,d,g){for(var v=bv(i,d,g),S=xv(i,h)*g,P=0,O=vv(e)/2,z=0;z<e.length-1;z++){var V=e[z],G=e[z+1],K=V.dist(G);if(P+K>O){var fe=(O-P)/K,ge=Nn(V.x,G.x,fe),Re=Nn(V.y,G.y,fe),Ee=new Yc(ge,Re,G.angleTo(V),z);return Ee._round(),!v||_v(e,Ee,S,v,r)?Ee:void 0}P+=K}}function dE(e,r,i,h,d,g,v,S,P){var O=bv(h,g,v),z=xv(h,d),V=z*v,G=e[0].x===0||e[0].x===P||e[0].y===0||e[0].y===P;return r-V<r/4&&(r=V+r/4),function K(fe,ge,Re,Ee,Fe,We,Ze,Je,ut){for(var Et=We/2,Pt=vv(fe),Qt=0,zt=ge-Re,or=[],Ut=0;Ut<fe.length-1;Ut++){for(var Rr=fe[Ut],gr=fe[Ut+1],Kt=Rr.dist(gr),Vr=gr.angleTo(Rr);zt+Re<Qt+Kt;){var Ir=((zt+=Re)-Qt)/Kt,Jr=Nn(Rr.x,gr.x,Ir),sr=Nn(Rr.y,gr.y,Ir);if(Jr>=0&&Jr<ut&&sr>=0&&sr<ut&&zt-Et>=0&&zt+Et<=Pt){var hn=new Yc(Jr,sr,Vr,Ut);hn._round(),Ee&&!_v(fe,hn,We,Ee,Fe)||or.push(hn)}}Qt+=Kt}return Je||or.length||Ze||(or=K(fe,Qt/2,Re,Ee,Fe,We,Ze,!0,ut)),or}(e,G?r/2*S%r:(z/2+2*g)*v*S%r,r,O,i,V,G,!1,P)}function wv(e,r,i,h,d){for(var g=[],v=0;v<e.length;v++)for(var S=e[v],P=void 0,O=0;O<S.length-1;O++){var z=S[O],V=S[O+1];z.x<r&&V.x<r||(z.x<r?z=new R(r,z.y+(r-z.x)/(V.x-z.x)*(V.y-z.y))._round():V.x<r&&(V=new R(r,z.y+(r-z.x)/(V.x-z.x)*(V.y-z.y))._round()),z.y<i&&V.y<i||(z.y<i?z=new R(z.x+(i-z.y)/(V.y-z.y)*(V.x-z.x),i)._round():V.y<i&&(V=new R(z.x+(i-z.y)/(V.y-z.y)*(V.x-z.x),i)._round()),z.x>=h&&V.x>=h||(z.x>=h?z=new R(h,z.y+(h-z.x)/(V.x-z.x)*(V.y-z.y))._round():V.x>=h&&(V=new R(h,z.y+(h-z.x)/(V.x-z.x)*(V.y-z.y))._round()),z.y>=d&&V.y>=d||(z.y>=d?z=new R(z.x+(d-z.y)/(V.y-z.y)*(V.x-z.x),d)._round():V.y>=d&&(V=new R(z.x+(d-z.y)/(V.y-z.y)*(V.x-z.x),d)._round()),P&&z.equals(P[P.length-1])||g.push(P=[z]),P.push(V)))))}return g}function Sv(e,r,i,h){var d=[],g=e.image,v=g.pixelRatio,S=g.paddedRect.w-2,P=g.paddedRect.h-2,O=e.right-e.left,z=e.bottom-e.top,V=g.stretchX||[[0,S]],G=g.stretchY||[[0,P]],K=function(Jr,sr){return Jr+sr[1]-sr[0]},fe=V.reduce(K,0),ge=G.reduce(K,0),Re=S-fe,Ee=P-ge,Fe=0,We=fe,Ze=0,Je=ge,ut=0,Et=Re,Pt=0,Qt=Ee;if(g.content&&h){var zt=g.content;Fe=Np(V,0,zt[0]),Ze=Np(G,0,zt[1]),We=Np(V,zt[0],zt[2]),Je=Np(G,zt[1],zt[3]),ut=zt[0]-Fe,Pt=zt[1]-Ze,Et=zt[2]-zt[0]-We,Qt=zt[3]-zt[1]-Je}var or=function(Jr,sr,hn,qn){var ri=zp(Jr.stretch-Fe,We,O,e.left),Jn=Fp(Jr.fixed-ut,Et,Jr.stretch,fe),Hn=zp(sr.stretch-Ze,Je,z,e.top),ni=Fp(sr.fixed-Pt,Qt,sr.stretch,ge),Vi=zp(hn.stretch-Fe,We,O,e.left),ji=Fp(hn.fixed-ut,Et,hn.stretch,fe),ko=zp(qn.stretch-Ze,Je,z,e.top),Ki=Fp(qn.fixed-Pt,Qt,qn.stretch,ge),Po=new R(ri,Hn),ci=new R(Vi,Hn),Yi=new R(Vi,ko),Wr=new R(ri,ko),Rn=new R(Jn/v,ni/v),Tn=new R(ji/v,Ki/v),an=r*Math.PI/180;if(an){var Fo=Math.sin(an),fo=Math.cos(an),Un=[fo,-Fo,Fo,fo];Po._matMult(Un),ci._matMult(Un),Wr._matMult(Un),Yi._matMult(Un)}var xi=Jr.stretch+Jr.fixed,po=sr.stretch+sr.fixed;return{tl:Po,tr:ci,bl:Wr,br:Yi,tex:{x:g.paddedRect.x+1+xi,y:g.paddedRect.y+1+po,w:hn.stretch+hn.fixed-xi,h:qn.stretch+qn.fixed-po},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Rn,pixelOffsetBR:Tn,minFontScaleX:Et/v/O,minFontScaleY:Qt/v/z,isSDF:i}};if(h&&(g.stretchX||g.stretchY))for(var Ut=Tv(V,Re,fe),Rr=Tv(G,Ee,ge),gr=0;gr<Ut.length-1;gr++)for(var Kt=Ut[gr],Vr=Ut[gr+1],Ir=0;Ir<Rr.length-1;Ir++)d.push(or(Kt,Rr[Ir],Vr,Rr[Ir+1]));else d.push(or({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:P+1}));return d}function Np(e,r,i){for(var h=0,d=0,g=e;d<g.length;d+=1){var v=g[d];h+=Math.max(r,Math.min(i,v[1]))-Math.max(r,Math.min(i,v[0]))}return h}function Tv(e,r,i){for(var h=[{fixed:-1,stretch:0}],d=0,g=e;d<g.length;d+=1){var v=g[d],S=v[0],P=v[1],O=h[h.length-1];h.push({fixed:S-O.stretch,stretch:O.stretch}),h.push({fixed:S-O.stretch,stretch:O.stretch+(P-S)})}return h.push({fixed:r+1,stretch:i}),h}function zp(e,r,i,h){return e/r*i+h}function Fp(e,r,i,h){return e-r*i/h}var Bp=function(e,r,i,h,d,g,v,S,P,O){if(this.boxStartIndex=e.length,P){var z=g.top,V=g.bottom,G=g.collisionPadding;G&&(z-=G[1],V+=G[3]);var K=V-z;K>0&&(K=Math.max(10,K),this.circleDiameter=K)}else{var fe=g.top*v-S,ge=g.bottom*v+S,Re=g.left*v-S,Ee=g.right*v+S,Fe=g.collisionPadding;if(Fe&&(Re-=Fe[0]*v,fe-=Fe[1]*v,Ee+=Fe[2]*v,ge+=Fe[3]*v),O){var We=new R(Re,fe),Ze=new R(Ee,fe),Je=new R(Re,ge),ut=new R(Ee,ge),Et=O*Math.PI/180;We._rotate(Et),Ze._rotate(Et),Je._rotate(Et),ut._rotate(Et),Re=Math.min(We.x,Ze.x,Je.x,ut.x),Ee=Math.max(We.x,Ze.x,Je.x,ut.x),fe=Math.min(We.y,Ze.y,Je.y,ut.y),ge=Math.max(We.y,Ze.y,Je.y,ut.y)}e.emplaceBack(r.x,r.y,Re,fe,Ee,ge,i,h,d)}this.boxEndIndex=e.length},Jc=function(e,r){if(e===void 0&&(e=[]),r===void 0&&(r=mE),this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)};function mE(e,r){return e<r?-1:e>r?1:0}function gE(e,r,i){i===void 0&&(i=!1);for(var h=1/0,d=1/0,g=-1/0,v=-1/0,S=e[0],P=0;P<S.length;P++){var O=S[P];(!P||O.x<h)&&(h=O.x),(!P||O.y<d)&&(d=O.y),(!P||O.x>g)&&(g=O.x),(!P||O.y>v)&&(v=O.y)}var z=Math.min(g-h,v-d),V=z/2,G=new Jc([],yE);if(z===0)return new R(h,d);for(var K=h;K<g;K+=z)for(var fe=d;fe<v;fe+=z)G.push(new Qc(K+V,fe+V,V,e));for(var ge=function(Fe){for(var We=0,Ze=0,Je=0,ut=Fe[0],Et=0,Pt=ut.length,Qt=Pt-1;Et<Pt;Qt=Et++){var zt=ut[Et],or=ut[Qt],Ut=zt.x*or.y-or.x*zt.y;Ze+=(zt.x+or.x)*Ut,Je+=(zt.y+or.y)*Ut,We+=3*Ut}return new Qc(Ze/We,Je/We,0,Fe)}(e),Re=G.length;G.length;){var Ee=G.pop();(Ee.d>ge.d||!ge.d)&&(ge=Ee,i&&console.log("found best %d after %d probes",Math.round(1e4*Ee.d)/1e4,Re)),Ee.max-ge.d<=r||(G.push(new Qc(Ee.p.x-(V=Ee.h/2),Ee.p.y-V,V,e)),G.push(new Qc(Ee.p.x+V,Ee.p.y-V,V,e)),G.push(new Qc(Ee.p.x-V,Ee.p.y+V,V,e)),G.push(new Qc(Ee.p.x+V,Ee.p.y+V,V,e)),Re+=4)}return i&&(console.log("num probes: "+Re),console.log("best distance: "+ge.d)),ge.p}function yE(e,r){return r.max-e.max}function Qc(e,r,i,h){this.p=new R(e,r),this.h=i,this.d=function(d,g){for(var v=!1,S=1/0,P=0;P<g.length;P++)for(var O=g[P],z=0,V=O.length,G=V-1;z<V;G=z++){var K=O[z],fe=O[G];K.y>d.y!=fe.y>d.y&&d.x<(fe.x-K.x)*(d.y-K.y)/(fe.y-K.y)+K.x&&(v=!v),S=Math.min(S,du(d,K,fe))}return(v?1:-1)*Math.sqrt(S)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}Jc.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Jc.prototype.pop=function(){if(this.length!==0){var e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}},Jc.prototype.peek=function(){return this.data[0]},Jc.prototype._up=function(e){for(var r=this.data,i=this.compare,h=r[e];e>0;){var d=e-1>>1,g=r[d];if(i(h,g)>=0)break;r[e]=g,e=d}r[e]=h},Jc.prototype._down=function(e){for(var r=this.data,i=this.compare,h=this.length>>1,d=r[e];e<h;){var g=1+(e<<1),v=r[g],S=g+1;if(S<this.length&&i(r[S],v)<0&&(g=S,v=r[S]),i(v,d)>=0)break;r[e]=v,e=g}r[e]=d};var sg=Number.POSITIVE_INFINITY;function Ev(e,r){return r[1]!==sg?function(i,h,d){var g=0,v=0;switch(h=Math.abs(h),d=Math.abs(d),i){case"top-right":case"top-left":case"top":v=d-7;break;case"bottom-right":case"bottom-left":case"bottom":v=7-d}switch(i){case"top-right":case"bottom-right":case"right":g=-h;break;case"top-left":case"bottom-left":case"left":g=h}return[g,v]}(e,r[0],r[1]):function(i,h){var d=0,g=0;h<0&&(h=0);var v=h/Math.sqrt(2);switch(i){case"top-right":case"top-left":g=v-7;break;case"bottom-right":case"bottom-left":g=7-v;break;case"bottom":g=7-h;break;case"top":g=h-7}switch(i){case"top-right":case"bottom-right":d=-v;break;case"top-left":case"bottom-left":d=v;break;case"left":d=h;break;case"right":d=-h}return[d,g]}(e,r[0])}function lg(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Cv(e,r,i,h,d,g,v,S,P,O,z,V,G,K,fe){var ge=function(Ze,Je,ut,Et,Pt,Qt,zt,or){for(var Ut=Et.layout.get("text-rotate").evaluate(Qt,{})*Math.PI/180,Rr=[],gr=0,Kt=Je.positionedLines;gr<Kt.length;gr+=1)for(var Vr=Kt[gr],Ir=0,Jr=Vr.positionedGlyphs;Ir<Jr.length;Ir+=1){var sr=Jr[Ir];if(sr.rect){var hn=sr.rect||{},qn=4,ri=!0,Jn=1,Hn=0,ni=(Pt||or)&&sr.vertical,Vi=sr.metrics.advance*sr.scale/2;if(or&&Je.verticalizable&&(Hn=Vr.lineOffset/2-(sr.imageName?-(24-sr.metrics.width*sr.scale)/2:24*(sr.scale-1))),sr.imageName){var ji=zt[sr.imageName];ri=ji.sdf,qn=1/(Jn=ji.pixelRatio)}var ko=Pt?[sr.x+Vi,sr.y]:[0,0],Ki=Pt?[0,0]:[sr.x+Vi+ut[0],sr.y+ut[1]-Hn],Po=[0,0];ni&&(Po=Ki,Ki=[0,0]);var ci=(sr.metrics.left-qn)*sr.scale-Vi+Ki[0],Yi=(-sr.metrics.top-qn)*sr.scale+Ki[1],Wr=ci+hn.w*sr.scale/Jn,Rn=Yi+hn.h*sr.scale/Jn,Tn=new R(ci,Yi),an=new R(Wr,Yi),Fo=new R(ci,Rn),fo=new R(Wr,Rn);if(ni){var Un=new R(-Vi,Vi- -17),xi=-Math.PI/2,po=12-Vi,fn=new R(22-po,-(sr.imageName?po:0)),ll=new(Function.prototype.bind.apply(R,[null].concat(Po)));Tn._rotateAround(xi,Un)._add(fn)._add(ll),an._rotateAround(xi,Un)._add(fn)._add(ll),Fo._rotateAround(xi,Un)._add(fn)._add(ll),fo._rotateAround(xi,Un)._add(fn)._add(ll)}if(Ut){var Ma=Math.sin(Ut),ul=Math.cos(Ut),hi=[ul,-Ma,Ma,ul];Tn._matMult(hi),an._matMult(hi),Fo._matMult(hi),fo._matMult(hi)}var cl=new R(0,0),vs=new R(0,0);Rr.push({tl:Tn,tr:an,bl:Fo,br:fo,tex:hn,writingMode:Je.writingMode,glyphOffset:ko,sectionIndex:sr.sectionIndex,isSDF:ri,pixelOffsetTL:cl,pixelOffsetBR:vs,minFontScaleX:0,minFontScaleY:0})}}return Rr}(0,i,S,d,g,v,h,e.allowVerticalPlacement),Re=e.textSizeData,Ee=null;Re.kind==="source"?(Ee=[128*d.layout.get("text-size").evaluate(v,{})])[0]>32640&&tt(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):Re.kind==="composite"&&((Ee=[128*K.compositeTextSizes[0].evaluate(v,{},fe),128*K.compositeTextSizes[1].evaluate(v,{},fe)])[0]>32640||Ee[1]>32640)&&tt(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,ge,Ee,S,g,v,O,r,P.lineStartIndex,P.lineLength,G,fe);for(var Fe=0,We=z;Fe<We.length;Fe+=1)V[We[Fe]]=e.text.placedSymbolArray.length-1;return 4*ge.length}function Av(e){for(var r in e)return e[r];return null}function _E(e,r,i,h){var d=e.compareText;if(r in d){for(var g=d[r],v=g.length-1;v>=0;v--)if(h.dist(g[v])<i)return!0}else d[r]=[];return d[r].push(h),!1}var vE=Gc.VectorTileFeature.types,bE=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Up(e,r,i,h,d,g,v,S,P,O,z,V,G){var K=S?Math.min(32640,Math.round(S[0])):0,fe=S?Math.min(32640,Math.round(S[1])):0;e.emplaceBack(r,i,Math.round(32*h),Math.round(32*d),g,v,(K<<1)+(P?1:0),fe,16*O,16*z,256*V,256*G)}function ug(e,r,i){e.emplaceBack(r.x,r.y,i),e.emplaceBack(r.x,r.y,i),e.emplaceBack(r.x,r.y,i),e.emplaceBack(r.x,r.y,i)}function xE(e){for(var r=0,i=e.sections;r<i.length;r+=1)if(Nc(i[r].text))return!0;return!1}var eh=function(e){this.layoutVertexArray=new Uc,this.indexArray=new rl,this.programConfigurations=e,this.segments=new te,this.dynamicLayoutVertexArray=new hu,this.opacityVertexArray=new Qu,this.placedSymbolArray=new f};eh.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},eh.prototype.upload=function(e,r,i,h){this.isEmpty()||(i&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,GT.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,ZT.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,bE,!0),this.opacityVertexBuffer.itemSize=1),(i||h)&&this.programConfigurations.upload(e))},eh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},$t("SymbolBuffers",eh);var yf=function(e,r,i){this.layoutVertexArray=new e,this.layoutAttributes=r,this.indexArray=new i,this.segments=new te,this.collisionVertexArray=new of};yf.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,XT.members,!0)},yf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},$t("CollisionBuffers",yf);var In=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(g){return g.id}),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=pa([]),this.placementViewportMatrix=pa([]);var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ag(this.zoom,r["text-size"]),this.iconSizeData=ag(this.zoom,r["icon-size"]);var i=this.layers[0].layout,h=i.get("symbol-sort-key"),d=i.get("symbol-z-order");this.canOverlap=i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey=d!=="viewport-y"&&h.constantOr(1)!==void 0,this.sortFeaturesByY=(d==="viewport-y"||d==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,i.get("symbol-placement")==="point"&&(this.writingModes=i.get("text-writing-mode").map(function(g){return Ra[g]})),this.stateDependentLayerIds=this.layers.filter(function(g){return g.isStateDependent()}).map(function(g){return g.id}),this.sourceID=e.sourceID};In.prototype.createArrays=function(){this.text=new eh(new mr(this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new eh(new mr(this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.glyphOffsetArray=new w,this.lineVertexArray=new k,this.symbolInstances=new x},In.prototype.calculateGlyphDependencies=function(e,r,i,h,d){for(var g=0;g<e.length;g++)if(r[e.charCodeAt(g)]=!0,(i||h)&&d){var v=df[e.charAt(g)];v&&(r[v.charCodeAt(0)]=!0)}},In.prototype.populate=function(e,r,i){var h=this.layers[0],d=h.layout,g=d.get("text-font"),v=d.get("text-field"),S=d.get("icon-image"),P=(v.value.kind!=="constant"||v.value.value instanceof Kn&&!v.value.value.isEmpty()||v.value.value.toString().length>0)&&(g.value.kind!=="constant"||g.value.value.length>0),O=S.value.kind!=="constant"||!!S.value.value||Object.keys(S.parameters).length>0,z=d.get("symbol-sort-key");if(this.features=[],P||O){for(var V=r.iconDependencies,G=r.glyphDependencies,K=r.availableImages,fe=new jr(this.zoom),ge=0,Re=e;ge<Re.length;ge+=1){var Ee=Re[ge],Fe=Ee.feature,We=Ee.id,Ze=Ee.index,Je=Ee.sourceLayerIndex,ut=h._featureFilter.needGeometry,Et=ui(Fe,ut);if(h._featureFilter.filter(fe,Et,i)){ut||(Et.geometry=Yn(Fe));var Pt=void 0;if(P){var Qt=h.getValueAndResolveTokens("text-field",Et,i,K),zt=Kn.factory(Qt);xE(zt)&&(this.hasRTLText=!0),(!this.hasRTLText||ef()==="unavailable"||this.hasRTLText&&fa.isParsed())&&(Pt=YT(zt,h,Et))}var or=void 0;if(O){var Ut=h.getValueAndResolveTokens("icon-image",Et,i,K);or=Ut instanceof Oi?Ut:Oi.fromString(Ut)}if(Pt||or){var Rr=this.sortFeaturesByKey?z.evaluate(Et,{},i):void 0;if(this.features.push({id:We,text:Pt,icon:or,index:Ze,sourceLayerIndex:Je,geometry:Et.geometry,properties:Fe.properties,type:vE[Fe.type],sortKey:Rr}),or&&(V[or.name]=!0),Pt){var gr=g.evaluate(Et,{},i).join(","),Kt=d.get("text-rotation-alignment")==="map"&&d.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ra.vertical)>=0;for(var Vr=0,Ir=Pt.sections;Vr<Ir.length;Vr+=1){var Jr=Ir[Vr];if(Jr.image)V[Jr.image.name]=!0;else{var sr=Yh(Pt.toString()),hn=Jr.fontStack||gr,qn=G[hn]=G[hn]||{};this.calculateGlyphDependencies(Jr.text,qn,Kt,this.allowVerticalPlacement,sr)}}}}}}d.get("symbol-placement")==="line"&&(this.features=function(ri){var Jn={},Hn={},ni=[],Vi=0;function ji(Un){ni.push(ri[Un]),Vi++}function ko(Un,xi,po){var fn=Hn[Un];return delete Hn[Un],Hn[xi]=fn,ni[fn].geometry[0].pop(),ni[fn].geometry[0]=ni[fn].geometry[0].concat(po[0]),fn}function Ki(Un,xi,po){var fn=Jn[xi];return delete Jn[xi],Jn[Un]=fn,ni[fn].geometry[0].shift(),ni[fn].geometry[0]=po[0].concat(ni[fn].geometry[0]),fn}function Po(Un,xi,po){var fn=po?xi[0][xi[0].length-1]:xi[0][0];return Un+":"+fn.x+":"+fn.y}for(var ci=0;ci<ri.length;ci++){var Yi=ri[ci],Wr=Yi.geometry,Rn=Yi.text?Yi.text.toString():null;if(Rn){var Tn=Po(Rn,Wr),an=Po(Rn,Wr,!0);if(Tn in Hn&&an in Jn&&Hn[Tn]!==Jn[an]){var Fo=Ki(Tn,an,Wr),fo=ko(Tn,an,ni[Fo].geometry);delete Jn[Tn],delete Hn[an],Hn[Po(Rn,ni[fo].geometry,!0)]=fo,ni[Fo].geometry=null}else Tn in Hn?ko(Tn,an,Wr):an in Jn?Ki(Tn,an,Wr):(ji(ci),Jn[Tn]=Vi-1,Hn[an]=Vi-1)}else ji(ci)}return ni.filter(function(Un){return Un.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ri,Jn){return ri.sortKey-Jn.sortKey})}},In.prototype.update=function(e,r,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,r,this.layers,i),this.icon.programConfigurations.updatePaintArrays(e,r,this.layers,i))},In.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},In.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},In.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},In.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},In.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},In.prototype.addToLineVertexArray=function(e,r){var i=this.lineVertexArray.length;if(e.segment!==void 0){for(var h=e.dist(r[e.segment+1]),d=e.dist(r[e.segment]),g={},v=e.segment+1;v<r.length;v++)g[v]={x:r[v].x,y:r[v].y,tileUnitDistanceFromAnchor:h},v<r.length-1&&(h+=r[v+1].dist(r[v]));for(var S=e.segment||0;S>=0;S--)g[S]={x:r[S].x,y:r[S].y,tileUnitDistanceFromAnchor:d},S>0&&(d+=r[S-1].dist(r[S]));for(var P=0;P<r.length;P++){var O=g[P];this.lineVertexArray.emplaceBack(O.x,O.y,O.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}},In.prototype.addSymbols=function(e,r,i,h,d,g,v,S,P,O,z,V){for(var G=e.indexArray,K=e.layoutVertexArray,fe=e.segments.prepareSegment(4*r.length,K,G,this.canOverlap?g.sortKey:void 0),ge=this.glyphOffsetArray.length,Re=fe.vertexLength,Ee=this.allowVerticalPlacement&&v===Ra.vertical?Math.PI/2:0,Fe=g.text&&g.text.sections,We=0;We<r.length;We++){var Ze=r[We],Je=Ze.tl,ut=Ze.tr,Et=Ze.bl,Pt=Ze.br,Qt=Ze.tex,zt=Ze.pixelOffsetTL,or=Ze.pixelOffsetBR,Ut=Ze.minFontScaleX,Rr=Ze.minFontScaleY,gr=Ze.glyphOffset,Kt=Ze.isSDF,Vr=Ze.sectionIndex,Ir=fe.vertexLength,Jr=gr[1];Up(K,S.x,S.y,Je.x,Jr+Je.y,Qt.x,Qt.y,i,Kt,zt.x,zt.y,Ut,Rr),Up(K,S.x,S.y,ut.x,Jr+ut.y,Qt.x+Qt.w,Qt.y,i,Kt,or.x,zt.y,Ut,Rr),Up(K,S.x,S.y,Et.x,Jr+Et.y,Qt.x,Qt.y+Qt.h,i,Kt,zt.x,or.y,Ut,Rr),Up(K,S.x,S.y,Pt.x,Jr+Pt.y,Qt.x+Qt.w,Qt.y+Qt.h,i,Kt,or.x,or.y,Ut,Rr),ug(e.dynamicLayoutVertexArray,S,Ee),G.emplaceBack(Ir,Ir+1,Ir+2),G.emplaceBack(Ir+1,Ir+2,Ir+3),fe.vertexLength+=4,fe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(gr[0]),We!==r.length-1&&Vr===r[We+1].sectionIndex||e.programConfigurations.populatePaintArrays(K.length,g,g.index,{},V,Fe&&Fe[Vr])}e.placedSymbolArray.emplaceBack(S.x,S.y,ge,this.glyphOffsetArray.length-ge,Re,P,O,S.segment,i?i[0]:0,i?i[1]:0,h[0],h[1],v,0,!1,0,z)},In.prototype._addCollisionDebugVertex=function(e,r,i,h,d,g){return r.emplaceBack(0,0),e.emplaceBack(i.x,i.y,h,d,Math.round(g.x),Math.round(g.y))},In.prototype.addCollisionDebugVertices=function(e,r,i,h,d,g,v){var S=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),P=S.vertexLength,O=d.layoutVertexArray,z=d.collisionVertexArray,V=v.anchorX,G=v.anchorY;this._addCollisionDebugVertex(O,z,g,V,G,new R(e,r)),this._addCollisionDebugVertex(O,z,g,V,G,new R(i,r)),this._addCollisionDebugVertex(O,z,g,V,G,new R(i,h)),this._addCollisionDebugVertex(O,z,g,V,G,new R(e,h)),S.vertexLength+=4;var K=d.indexArray;K.emplaceBack(P,P+1),K.emplaceBack(P+1,P+2),K.emplaceBack(P+2,P+3),K.emplaceBack(P+3,P),S.primitiveLength+=4},In.prototype.addDebugCollisionBoxes=function(e,r,i,h){for(var d=e;d<r;d++){var g=this.collisionBoxArray.get(d);this.addCollisionDebugVertices(g.x1,g.y1,g.x2,g.y2,h?this.textCollisionBox:this.iconCollisionBox,g.anchorPoint,i)}},In.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yf(fu,ov.members,ec),this.iconCollisionBox=new yf(fu,ov.members,ec);for(var e=0;e<this.symbolInstances.length;e++){var r=this.symbolInstances.get(e);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}},In.prototype._deserializeCollisionBoxesForSymbol=function(e,r,i,h,d,g,v,S,P){for(var O={},z=r;z<i;z++){var V=e.get(z);O.textBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},O.textFeatureIndex=V.featureIndex;break}for(var G=h;G<d;G++){var K=e.get(G);O.verticalTextBox={x1:K.x1,y1:K.y1,x2:K.x2,y2:K.y2,anchorPointX:K.anchorPointX,anchorPointY:K.anchorPointY},O.verticalTextFeatureIndex=K.featureIndex;break}for(var fe=g;fe<v;fe++){var ge=e.get(fe);O.iconBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},O.iconFeatureIndex=ge.featureIndex;break}for(var Re=S;Re<P;Re++){var Ee=e.get(Re);O.verticalIconBox={x1:Ee.x1,y1:Ee.y1,x2:Ee.x2,y2:Ee.y2,anchorPointX:Ee.anchorPointX,anchorPointY:Ee.anchorPointY},O.verticalIconFeatureIndex=Ee.featureIndex;break}return O},In.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var r=0;r<this.symbolInstances.length;r++){var i=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}},In.prototype.hasTextData=function(){return this.text.segments.get().length>0},In.prototype.hasIconData=function(){return this.icon.segments.get().length>0},In.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},In.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},In.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},In.prototype.addIndicesForPlacedSymbol=function(e,r){for(var i=e.placedSymbolArray.get(r),h=i.vertexStartIndex+4*i.numGlyphs,d=i.vertexStartIndex;d<h;d+=4)e.indexArray.emplaceBack(d,d+1,d+2),e.indexArray.emplaceBack(d+1,d+2,d+3)},In.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var r=Math.sin(e),i=Math.cos(e),h=[],d=[],g=[],v=0;v<this.symbolInstances.length;++v){g.push(v);var S=this.symbolInstances.get(v);h.push(0|Math.round(r*S.anchorX+i*S.anchorY)),d.push(S.featureIndex)}return g.sort(function(P,O){return h[P]-h[O]||d[O]-d[P]}),g},In.prototype.addToSortKeyRanges=function(e,r){var i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===r?i.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:e,symbolInstanceEnd:e+1})},In.prototype.sortFeatures=function(e){var r=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var i=0,h=this.symbolInstanceIndexes;i<h.length;i+=1){var d=this.symbolInstances.get(h[i]);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach(function(g,v,S){g>=0&&S.indexOf(g)===v&&r.addIndicesForPlacedSymbol(r.text,g)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},$t("SymbolBucket",In,{omit:["layers","collisionBoxArray","features","compareText"]}),In.MAX_GLYPHS=65535,In.addDynamicAttributes=ug;var wE=new no({"symbol-placement":new nr(Q.layout_symbol["symbol-placement"]),"symbol-spacing":new nr(Q.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new nr(Q.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Xt(Q.layout_symbol["symbol-sort-key"]),"symbol-z-order":new nr(Q.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new nr(Q.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new nr(Q.layout_symbol["icon-ignore-placement"]),"icon-optional":new nr(Q.layout_symbol["icon-optional"]),"icon-rotation-alignment":new nr(Q.layout_symbol["icon-rotation-alignment"]),"icon-size":new Xt(Q.layout_symbol["icon-size"]),"icon-text-fit":new nr(Q.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new nr(Q.layout_symbol["icon-text-fit-padding"]),"icon-image":new Xt(Q.layout_symbol["icon-image"]),"icon-rotate":new Xt(Q.layout_symbol["icon-rotate"]),"icon-padding":new nr(Q.layout_symbol["icon-padding"]),"icon-keep-upright":new nr(Q.layout_symbol["icon-keep-upright"]),"icon-offset":new Xt(Q.layout_symbol["icon-offset"]),"icon-anchor":new Xt(Q.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new nr(Q.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new nr(Q.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new nr(Q.layout_symbol["text-rotation-alignment"]),"text-field":new Xt(Q.layout_symbol["text-field"]),"text-font":new Xt(Q.layout_symbol["text-font"]),"text-size":new Xt(Q.layout_symbol["text-size"]),"text-max-width":new Xt(Q.layout_symbol["text-max-width"]),"text-line-height":new nr(Q.layout_symbol["text-line-height"]),"text-letter-spacing":new Xt(Q.layout_symbol["text-letter-spacing"]),"text-justify":new Xt(Q.layout_symbol["text-justify"]),"text-radial-offset":new Xt(Q.layout_symbol["text-radial-offset"]),"text-variable-anchor":new nr(Q.layout_symbol["text-variable-anchor"]),"text-anchor":new Xt(Q.layout_symbol["text-anchor"]),"text-max-angle":new nr(Q.layout_symbol["text-max-angle"]),"text-writing-mode":new nr(Q.layout_symbol["text-writing-mode"]),"text-rotate":new Xt(Q.layout_symbol["text-rotate"]),"text-padding":new nr(Q.layout_symbol["text-padding"]),"text-keep-upright":new nr(Q.layout_symbol["text-keep-upright"]),"text-transform":new Xt(Q.layout_symbol["text-transform"]),"text-offset":new Xt(Q.layout_symbol["text-offset"]),"text-allow-overlap":new nr(Q.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new nr(Q.layout_symbol["text-ignore-placement"]),"text-optional":new nr(Q.layout_symbol["text-optional"])}),cg={paint:new no({"icon-opacity":new Xt(Q.paint_symbol["icon-opacity"]),"icon-color":new Xt(Q.paint_symbol["icon-color"]),"icon-halo-color":new Xt(Q.paint_symbol["icon-halo-color"]),"icon-halo-width":new Xt(Q.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Xt(Q.paint_symbol["icon-halo-blur"]),"icon-translate":new nr(Q.paint_symbol["icon-translate"]),"icon-translate-anchor":new nr(Q.paint_symbol["icon-translate-anchor"]),"text-opacity":new Xt(Q.paint_symbol["text-opacity"]),"text-color":new Xt(Q.paint_symbol["text-color"],{runtimeType:It,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new Xt(Q.paint_symbol["text-halo-color"]),"text-halo-width":new Xt(Q.paint_symbol["text-halo-width"]),"text-halo-blur":new Xt(Q.paint_symbol["text-halo-blur"]),"text-translate":new nr(Q.paint_symbol["text-translate"]),"text-translate-anchor":new nr(Q.paint_symbol["text-translate-anchor"])}),layout:wE},th=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Dt,this.defaultValue=e};th.prototype.evaluate=function(e){if(e.formattedSection){var r=this.defaultValue.property.overrides;if(r&&r.hasOverride(e.formattedSection))return r.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},th.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},th.prototype.outputDefined=function(){return!1},th.prototype.serialize=function(){return null},$t("FormatSectionOverride",th,{omit:["defaultValue"]});var SE=function(e){function r(i){e.call(this,i,cg)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.recalculate=function(i,h){if(e.prototype.recalculate.call(this,i,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var d=this.layout.get("text-writing-mode");if(d){for(var g=[],v=0,S=d;v<S.length;v+=1){var P=S[v];g.indexOf(P)<0&&g.push(P)}this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},r.prototype.getValueAndResolveTokens=function(i,h,d,g){var v=this.layout.get(i).evaluate(h,{},d,g),S=this._unevaluatedLayout._values[i];return S.isDataDriven()||Fi(S.value)||!v?v:function(P,O){return O.replace(/{([^{}]+)}/g,function(z,V){return V in P?String(P[V]):""})}(h.properties,v)},r.prototype.createBucket=function(i){return new In(i)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype._setPaintOverrides=function(){for(var i=0,h=cg.paint.overridableProperties;i<h.length;i+=1){var d=h[i];if(r.hasPaintOverride(this.layout,d)){var g,v=this.paint.get(d),S=new th(v),P=new Go(S,v.property.specification);g=v.value.kind==="constant"||v.value.kind==="source"?new Ya("source",P):new Ja("composite",P,v.value.zoomStops,v.value._interpolationType),this.paint._values[d]=new Eo(v.property,g,v.parameters)}}},r.prototype._handleOverridablePaintPropertyUpdate=function(i,h,d){return!(!this.layout||h.isDataDriven()||d.isDataDriven())&&r.hasPaintOverride(this.layout,i)},r.hasPaintOverride=function(i,h){var d=i.get("text-field"),g=cg.paint.properties[h],v=!1,S=function(z){for(var V=0,G=z;V<G.length;V+=1)if(g.overrides&&g.overrides.hasOverride(G[V]))return void(v=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Kn)S(d.value.value.sections);else if(d.value.kind==="source"){var P=function(z){v||(z instanceof Ni&&Cn(z.value)===yn?S(z.value.sections):z instanceof bo?S(z.sections):z.eachChild(P))},O=d.value;O._styleExpression&&P(O._styleExpression.expression)}return v},r}(ms),TE={paint:new no({"background-color":new nr(Q.paint_background["background-color"]),"background-pattern":new Co(Q.paint_background["background-pattern"]),"background-opacity":new nr(Q.paint_background["background-opacity"])})},EE=function(e){function r(i){e.call(this,i,TE)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r}(ms),CE={paint:new no({"raster-opacity":new nr(Q.paint_raster["raster-opacity"]),"raster-hue-rotate":new nr(Q.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new nr(Q.paint_raster["raster-brightness-min"]),"raster-brightness-max":new nr(Q.paint_raster["raster-brightness-max"]),"raster-saturation":new nr(Q.paint_raster["raster-saturation"]),"raster-contrast":new nr(Q.paint_raster["raster-contrast"]),"raster-resampling":new nr(Q.paint_raster["raster-resampling"]),"raster-fade-duration":new nr(Q.paint_raster["raster-fade-duration"])})},AE=function(e){function r(i){e.call(this,i,CE)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r}(ms),IE=function(e){function r(i){e.call(this,i,{}),this.implementation=i}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},r.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},r.prototype.recalculate=function(){},r.prototype.updateTransitions=function(){},r.prototype.hasTransition=function(){},r.prototype.serialize=function(){},r.prototype.onAdd=function(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)},r.prototype.onRemove=function(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)},r}(ms),kE={circle:Zm,heatmap:fT,hillshade:dT,fill:LT,"fill-extrusion":UT,line:$T,symbol:SE,background:EE,raster:AE},Iv=W.HTMLImageElement,kv=W.HTMLCanvasElement,Pv=W.HTMLVideoElement,Lv=W.ImageData,Vp=W.ImageBitmap,ac=function(e,r,i,h){this.context=e,this.format=i,this.texture=e.gl.createTexture(),this.update(r,h)};ac.prototype.update=function(e,r,i){var h=e.width,d=e.height,g=!(this.size&&this.size[0]===h&&this.size[1]===d||i),v=this.context,S=v.gl;if(this.useMipmap=!!(r&&r.useMipmap),S.bindTexture(S.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===S.RGBA&&(!r||r.premultiply!==!1)),g)this.size=[h,d],e instanceof Iv||e instanceof kv||e instanceof Pv||e instanceof Lv||Vp&&e instanceof Vp?S.texImage2D(S.TEXTURE_2D,0,this.format,this.format,S.UNSIGNED_BYTE,e):S.texImage2D(S.TEXTURE_2D,0,this.format,h,d,0,this.format,S.UNSIGNED_BYTE,e.data);else{var P=i||{x:0,y:0},O=P.x,z=P.y;e instanceof Iv||e instanceof kv||e instanceof Pv||e instanceof Lv||Vp&&e instanceof Vp?S.texSubImage2D(S.TEXTURE_2D,0,O,z,S.RGBA,S.UNSIGNED_BYTE,e):S.texSubImage2D(S.TEXTURE_2D,0,O,z,h,d,S.RGBA,S.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&S.generateMipmap(S.TEXTURE_2D)},ac.prototype.bind=function(e,r,i){var h=this.context.gl;h.bindTexture(h.TEXTURE_2D,this.texture),i!==h.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=h.LINEAR),e!==this.filter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,e),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,i||e),this.filter=e),r!==this.wrap&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,r),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,r),this.wrap=r)},ac.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ac.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var hg=function(e){var r=this;this._callback=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){r._triggered=!1,r._callback()})};hg.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){e._triggered=!1,e._callback()},0))},hg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var rh=function(e,r,i){this.target=e,this.parent=r,this.mapId=i,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},C(["receive","process"],this),this.invoker=new hg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Lt()?e:W};function Rv(e,r,i){var h=2*Math.PI*6378137/256/Math.pow(2,i);return[e*h-2*Math.PI*6378137/2,r*h-2*Math.PI*6378137/2]}rh.prototype.send=function(e,r,i,h,d){var g=this;d===void 0&&(d=!1);var v=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(this.callbacks[v]=i);var S=Zr(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:e,hasCallback:!!i,targetMapId:h,mustQueue:d,sourceMapId:this.mapId,data:Qa(r,S)},S),{cancel:function(){i&&delete g.callbacks[v],g.target.postMessage({id:v,type:"<cancel>",targetMapId:h,sourceMapId:g.mapId})}}},rh.prototype.receive=function(e){var r=e.data,i=r.id;if(i&&(!r.targetMapId||this.mapId===r.targetMapId))if(r.type==="<cancel>"){delete this.tasks[i];var h=this.cancelCallbacks[i];delete this.cancelCallbacks[i],h&&h()}else Lt()||r.mustQueue?(this.tasks[i]=r,this.taskQueue.push(i),this.invoker.trigger()):this.processTask(i,r)},rh.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),r=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),r&&this.processTask(e,r)}},rh.prototype.processTask=function(e,r){var i=this;if(r.type==="<response>"){var h=this.callbacks[e];delete this.callbacks[e],h&&(r.error?h(Ko(r.error)):h(null,Ko(r.data)))}else{var d=!1,g=Zr(this.globalScope)?void 0:[],v=r.hasCallback?function(z,V){d=!0,delete i.cancelCallbacks[e],i.target.postMessage({id:e,type:"<response>",sourceMapId:i.mapId,error:z?Qa(z):null,data:Qa(V,g)},g)}:function(z){d=!0},S=null,P=Ko(r.data);if(this.parent[r.type])S=this.parent[r.type](r.sourceMapId,P,v);else if(this.parent.getWorkerSource){var O=r.type.split(".");S=this.parent.getWorkerSource(r.sourceMapId,O[0],P.source)[O[1]](P,v)}else v(new Error("Could not find function "+r.type));!d&&S&&S.cancel&&(this.cancelCallbacks[e]=S.cancel)}},rh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Li=function(e,r){e&&(r?this.setSouthWest(e).setNorthEast(r):e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Li.prototype.setNorthEast=function(e){return this._ne=e instanceof jn?new jn(e.lng,e.lat):jn.convert(e),this},Li.prototype.setSouthWest=function(e){return this._sw=e instanceof jn?new jn(e.lng,e.lat):jn.convert(e),this},Li.prototype.extend=function(e){var r,i,h=this._sw,d=this._ne;if(e instanceof jn)r=e,i=e;else{if(!(e instanceof Li))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(Li.convert(e)):this.extend(jn.convert(e)):this;if(i=e._ne,!(r=e._sw)||!i)return this}return h||d?(h.lng=Math.min(r.lng,h.lng),h.lat=Math.min(r.lat,h.lat),d.lng=Math.max(i.lng,d.lng),d.lat=Math.max(i.lat,d.lat)):(this._sw=new jn(r.lng,r.lat),this._ne=new jn(i.lng,i.lat)),this},Li.prototype.getCenter=function(){return new jn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Li.prototype.getSouthWest=function(){return this._sw},Li.prototype.getNorthEast=function(){return this._ne},Li.prototype.getNorthWest=function(){return new jn(this.getWest(),this.getNorth())},Li.prototype.getSouthEast=function(){return new jn(this.getEast(),this.getSouth())},Li.prototype.getWest=function(){return this._sw.lng},Li.prototype.getSouth=function(){return this._sw.lat},Li.prototype.getEast=function(){return this._ne.lng},Li.prototype.getNorth=function(){return this._ne.lat},Li.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Li.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Li.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Li.prototype.contains=function(e){var r=jn.convert(e),i=r.lng,h=r.lat,d=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(d=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&d},Li.convert=function(e){return!e||e instanceof Li?e:new Li(e)};var jn=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid LngLat object: ("+e+", "+r+")");if(this.lng=+e,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};jn.prototype.wrap=function(){return new jn(ce(this.lng,-180,180),this.lat)},jn.prototype.toArray=function(){return[this.lng,this.lat]},jn.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},jn.prototype.distanceTo=function(e){var r=Math.PI/180,i=this.lat*r,h=e.lat*r,d=Math.sin(i)*Math.sin(h)+Math.cos(i)*Math.cos(h)*Math.cos((e.lng-this.lng)*r);return 63710088e-1*Math.acos(Math.min(d,1))},jn.prototype.toBounds=function(e){e===void 0&&(e=0);var r=360*e/40075017,i=r/Math.cos(Math.PI/180*this.lat);return new Li(new jn(this.lng-i,this.lat-r),new jn(this.lng+i,this.lat+r))},jn.convert=function(e){if(e instanceof jn)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new jn(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new jn(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Mv=2*Math.PI*63710088e-1;function Ov(e){return Mv*Math.cos(e*Math.PI/180)}function Dv(e){return(180+e)/360}function Nv(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function zv(e,r){return e/Ov(r)}function fg(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var sc=function(e,r,i){i===void 0&&(i=0),this.x=+e,this.y=+r,this.z=+i};sc.fromLngLat=function(e,r){r===void 0&&(r=0);var i=jn.convert(e);return new sc(Dv(i.lng),Nv(i.lat),zv(r,i.lat))},sc.prototype.toLngLat=function(){return new jn(360*this.x-180,fg(this.y))},sc.prototype.toAltitude=function(){return this.z*Ov(fg(this.y))},sc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Mv*(e=fg(this.y),1/Math.cos(e*Math.PI/180));var e};var lc=function(e,r,i){this.z=e,this.x=r,this.y=i,this.key=_f(0,e,e,r,i)};lc.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},lc.prototype.url=function(e,r){var i,h,d,g,v,S=(h=this.y,d=this.z,g=Rv(256*(i=this.x),256*(h=Math.pow(2,d)-h-1),d),v=Rv(256*(i+1),256*(h+1),d),g[0]+","+g[1]+","+v[0]+","+v[1]),P=function(O,z,V){for(var G,K="",fe=O;fe>0;fe--)K+=(z&(G=1<<fe-1)?1:0)+(V&G?2:0);return K}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(r==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",P).replace("{bbox-epsg-3857}",S)},lc.prototype.getTilePoint=function(e){var r=Math.pow(2,this.z);return new R(8192*(e.x*r-this.x),8192*(e.y*r-this.y))},lc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Fv=function(e,r){this.wrap=e,this.canonical=r,this.key=_f(e,r.z,r.z,r.x,r.y)},Ri=function(e,r,i,h,d){this.overscaledZ=e,this.wrap=r,this.canonical=new lc(i,+h,+d),this.key=_f(r,e,i,h,d)};function _f(e,r,i,h,d){(e*=2)<0&&(e=-1*e-1);var g=1<<i;return(g*g*e+g*d+h).toString(36)+i.toString(36)+r.toString(36)}Ri.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Ri.prototype.scaledTo=function(e){var r=this.canonical.z-e;return e>this.canonical.z?new Ri(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ri(e,this.wrap,e,this.canonical.x>>r,this.canonical.y>>r)},Ri.prototype.calculateScaledKey=function(e,r){var i=this.canonical.z-e;return e>this.canonical.z?_f(this.wrap*+r,e,this.canonical.z,this.canonical.x,this.canonical.y):_f(this.wrap*+r,e,e,this.canonical.x>>i,this.canonical.y>>i)},Ri.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var r=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>r&&e.canonical.y===this.canonical.y>>r},Ri.prototype.children=function(e){if(this.overscaledZ>=e)return[new Ri(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var r=this.canonical.z+1,i=2*this.canonical.x,h=2*this.canonical.y;return[new Ri(r,this.wrap,r,i,h),new Ri(r,this.wrap,r,i+1,h),new Ri(r,this.wrap,r,i,h+1),new Ri(r,this.wrap,r,i+1,h+1)]},Ri.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Ri.prototype.wrapped=function(){return new Ri(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ri.prototype.unwrapTo=function(e){return new Ri(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Ri.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ri.prototype.toUnwrapped=function(){return new Fv(this.wrap,this.canonical)},Ri.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ri.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new sc(e.x-this.wrap,e.y))},$t("CanonicalTileID",lc),$t("OverscaledTileID",Ri,{omit:["posMatrix"]});var Nl=function(e,r,i){if(this.uid=e,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(i&&i!=="mapbox"&&i!=="terrarium")return tt('"'+i+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=r.height;var h=this.dim=r.height-2;this.data=new Uint32Array(r.data.buffer),this.encoding=i||"mapbox";for(var d=0;d<h;d++)this.data[this._idx(-1,d)]=this.data[this._idx(0,d)],this.data[this._idx(h,d)]=this.data[this._idx(h-1,d)],this.data[this._idx(d,-1)]=this.data[this._idx(d,0)],this.data[this._idx(d,h)]=this.data[this._idx(d,h-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(h,-1)]=this.data[this._idx(h-1,0)],this.data[this._idx(-1,h)]=this.data[this._idx(0,h-1)],this.data[this._idx(h,h)]=this.data[this._idx(h-1,h-1)]};Nl.prototype.get=function(e,r){var i=new Uint8Array(this.data.buffer),h=4*this._idx(e,r);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(i[h],i[h+1],i[h+2])},Nl.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Nl.prototype._idx=function(e,r){if(e<-1||e>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(e+1)},Nl.prototype._unpackMapbox=function(e,r,i){return(256*e*256+256*r+i)/10-1e4},Nl.prototype._unpackTerrarium=function(e,r,i){return 256*e+r+i/256-32768},Nl.prototype.getPixels=function(){return new ta({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Nl.prototype.backfillBorder=function(e,r,i){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var h=r*this.dim,d=r*this.dim+this.dim,g=i*this.dim,v=i*this.dim+this.dim;switch(r){case-1:h=d-1;break;case 1:d=h+1}switch(i){case-1:g=v-1;break;case 1:v=g+1}for(var S=-r*this.dim,P=-i*this.dim,O=g;O<v;O++)for(var z=h;z<d;z++)this.data[this._idx(z,O)]=e.data[this._idx(z+S,O+P)]},$t("DEMData",Nl);var jp=function(e){this._stringToNumber={},this._numberToString=[];for(var r=0;r<e.length;r++){var i=e[r];this._stringToNumber[i]=r,this._numberToString[r]=i}};jp.prototype.encode=function(e){return this._stringToNumber[e]},jp.prototype.decode=function(e){return this._numberToString[e]};var qp=function(e,r,i,h,d){this.type="Feature",this._vectorTileFeature=e,e._z=r,e._x=i,e._y=h,this.properties=e.properties,this.id=d},pg={geometry:{configurable:!0}};pg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},pg.geometry.set=function(e){this._geometry=e},qp.prototype.toJSON=function(){var e={geometry:this.geometry};for(var r in this)r!=="_geometry"&&r!=="_vectorTileFeature"&&(e[r]=this[r]);return e},Object.defineProperties(qp.prototype,pg);var nh=function(){this.state={},this.stateChanges={},this.deletedStates={}};nh.prototype.updateState=function(e,r,i){var h=String(r);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][h]=this.stateChanges[e][h]||{},Pe(this.stateChanges[e][h],i),this.deletedStates[e]===null)for(var d in this.deletedStates[e]={},this.state[e])d!==h&&(this.deletedStates[e][d]=null);else if(this.deletedStates[e]&&this.deletedStates[e][h]===null)for(var g in this.deletedStates[e][h]={},this.state[e][h])i[g]||(this.deletedStates[e][h][g]=null);else for(var v in i)this.deletedStates[e]&&this.deletedStates[e][h]&&this.deletedStates[e][h][v]===null&&delete this.deletedStates[e][h][v]},nh.prototype.removeFeatureState=function(e,r,i){if(this.deletedStates[e]!==null){var h=String(r);if(this.deletedStates[e]=this.deletedStates[e]||{},i&&r!==void 0)this.deletedStates[e][h]!==null&&(this.deletedStates[e][h]=this.deletedStates[e][h]||{},this.deletedStates[e][h][i]=null);else if(r!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][h])for(i in this.deletedStates[e][h]={},this.stateChanges[e][h])this.deletedStates[e][h][i]=null;else this.deletedStates[e][h]=null;else this.deletedStates[e]=null}},nh.prototype.getState=function(e,r){var i=String(r),h=Pe({},(this.state[e]||{})[i],(this.stateChanges[e]||{})[i]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){var d=this.deletedStates[e][r];if(d===null)return{};for(var g in d)delete h[g]}return h},nh.prototype.initializeTileState=function(e,r){e.setFeatureState(this.state,r)},nh.prototype.coalesceChanges=function(e,r){var i={};for(var h in this.stateChanges){this.state[h]=this.state[h]||{};var d={};for(var g in this.stateChanges[h])this.state[h][g]||(this.state[h][g]={}),Pe(this.state[h][g],this.stateChanges[h][g]),d[g]=this.state[h][g];i[h]=d}for(var v in this.deletedStates){this.state[v]=this.state[v]||{};var S={};if(this.deletedStates[v]===null)for(var P in this.state[v])S[P]={},this.state[v][P]={};else for(var O in this.deletedStates[v]){if(this.deletedStates[v][O]===null)this.state[v][O]={};else for(var z=0,V=Object.keys(this.deletedStates[v][O]);z<V.length;z+=1)delete this.state[v][O][V[z]];S[O]=this.state[v][O]}i[v]=i[v]||{},Pe(i[v],S)}if(this.stateChanges={},this.deletedStates={},Object.keys(i).length!==0)for(var G in e)e[G].setFeatureState(i,r)};var zl=function(e,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Rs(8192,16,0),this.grid3D=new Rs(8192,16,0),this.featureIndexArray=new H,this.promoteId=r};function Bv(e,r,i,h,d){return we(e,function(g,v){var S=r instanceof Ju?r.get(v):null;return S&&S.evaluate?S.evaluate(i,h,d):S})}function Uv(e){for(var r=1/0,i=1/0,h=-1/0,d=-1/0,g=0,v=e;g<v.length;g+=1){var S=v[g];r=Math.min(r,S.x),i=Math.min(i,S.y),h=Math.max(h,S.x),d=Math.max(d,S.y)}return{minX:r,minY:i,maxX:h,maxY:d}}function PE(e,r){return r-e}zl.prototype.insert=function(e,r,i,h,d,g){var v=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,h,d);for(var S=g?this.grid3D:this.grid,P=0;P<r.length;P++){for(var O=r[P],z=[1/0,1/0,-1/0,-1/0],V=0;V<O.length;V++){var G=O[V];z[0]=Math.min(z[0],G.x),z[1]=Math.min(z[1],G.y),z[2]=Math.max(z[2],G.x),z[3]=Math.max(z[3],G.y)}z[0]<8192&&z[1]<8192&&z[2]>=0&&z[3]>=0&&S.insert(v,z[0],z[1],z[2],z[3])}},zl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Gc.VectorTile(new Lp(this.rawTileData)).layers,this.sourceLayerCoder=new jp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},zl.prototype.query=function(e,r,i,h){var d=this;this.loadVTLayers();for(var g=e.params||{},v=8192/e.tileSize/e.scale,S=Ls(g.filter),P=e.queryGeometry,O=e.queryPadding*v,z=Uv(P),V=this.grid.query(z.minX-O,z.minY-O,z.maxX+O,z.maxY+O),G=Uv(e.cameraQueryGeometry),K=this.grid3D.query(G.minX-O,G.minY-O,G.maxX+O,G.maxY+O,function(Ze,Je,ut,Et){return function(Pt,Qt,zt,or,Ut){for(var Rr=0,gr=Pt;Rr<gr.length;Rr+=1){var Kt=gr[Rr];if(Qt<=Kt.x&&zt<=Kt.y&&or>=Kt.x&&Ut>=Kt.y)return!0}var Vr=[new R(Qt,zt),new R(Qt,Ut),new R(or,Ut),new R(or,zt)];if(Pt.length>2){for(var Ir=0,Jr=Vr;Ir<Jr.length;Ir+=1)if(ys(Pt,Jr[Ir]))return!0}for(var sr=0;sr<Pt.length-1;sr++)if(nc(Pt[sr],Pt[sr+1],Vr))return!0;return!1}(e.cameraQueryGeometry,Ze-O,Je-O,ut+O,Et+O)}),fe=0,ge=K;fe<ge.length;fe+=1)V.push(ge[fe]);V.sort(PE);for(var Re,Ee={},Fe=function(Ze){var Je=V[Ze];if(Je!==Re){Re=Je;var ut=d.featureIndexArray.get(Je),Et=null;d.loadMatchingFeature(Ee,ut.bucketIndex,ut.sourceLayerIndex,ut.featureIndex,S,g.layers,g.availableImages,r,i,h,function(Pt,Qt,zt){return Et||(Et=Yn(Pt)),Qt.queryIntersectsFeature(P,Pt,zt,Et,d.z,e.transform,v,e.pixelPosMatrix)})}},We=0;We<V.length;We++)Fe(We);return Ee},zl.prototype.loadMatchingFeature=function(e,r,i,h,d,g,v,S,P,O,z){var V=this.bucketLayerIDs[r];if(!g||function(Pt,Qt){for(var zt=0;zt<Pt.length;zt++)if(Qt.indexOf(Pt[zt])>=0)return!0;return!1}(g,V)){var G=this.sourceLayerCoder.decode(i),K=this.vtLayers[G].feature(h);if(d.needGeometry){var fe=ui(K,!0);if(!d.filter(new jr(this.tileID.overscaledZ),fe,this.tileID.canonical))return}else if(!d.filter(new jr(this.tileID.overscaledZ),K))return;for(var ge=this.getId(K,G),Re=0;Re<V.length;Re++){var Ee=V[Re];if(!(g&&g.indexOf(Ee)<0)){var Fe=S[Ee];if(Fe){var We={};ge!==void 0&&O&&(We=O.getState(Fe.sourceLayer||"_geojsonTileLayer",ge));var Ze=Pe({},P[Ee]);Ze.paint=Bv(Ze.paint,Fe.paint,K,We,v),Ze.layout=Bv(Ze.layout,Fe.layout,K,We,v);var Je=!z||z(K,Fe,We);if(Je){var ut=new qp(K,this.z,this.x,this.y,ge);ut.layer=Ze;var Et=e[Ee];Et===void 0&&(Et=e[Ee]=[]),Et.push({featureIndex:h,feature:ut,intersectionZ:Je})}}}}}},zl.prototype.lookupSymbolFeatures=function(e,r,i,h,d,g,v,S){var P={};this.loadVTLayers();for(var O=Ls(d),z=0,V=e;z<V.length;z+=1)this.loadMatchingFeature(P,i,h,V[z],O,g,v,S,r);return P},zl.prototype.hasLayer=function(e){for(var r=0,i=this.bucketLayerIDs;r<i.length;r+=1)for(var h=0,d=i[r];h<d.length;h+=1)if(e===d[h])return!0;return!1},zl.prototype.getId=function(e,r){var i=e.id;return this.promoteId&&typeof(i=e.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[r]])=="boolean"&&(i=Number(i)),i},$t("FeatureIndex",zl,{omit:["rawTileData","sourceLayerCoder"]});var Xi=function(e,r){this.tileID=e,this.uid=se(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Xi.prototype.registerFadeDuration=function(e){var r=e+this.timeAdded;r<Qn.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)},Xi.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Xi.prototype.loadVectorData=function(e,r,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var h in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(O,z){var V={};if(!z)return V;for(var G=function(){var ge=fe[K],Re=ge.layerIds.map(function(We){return z.getLayer(We)}).filter(Boolean);if(Re.length!==0){ge.layers=Re,ge.stateDependentLayerIds&&(ge.stateDependentLayers=ge.stateDependentLayerIds.map(function(We){return Re.filter(function(Ze){return Ze.id===We})[0]}));for(var Ee=0,Fe=Re;Ee<Fe.length;Ee+=1)V[Fe[Ee].id]=ge}},K=0,fe=O;K<fe.length;K+=1)G();return V}(e.buckets,r.style),this.hasSymbolBuckets=!1,this.buckets){var d=this.buckets[h];if(d instanceof In){if(this.hasSymbolBuckets=!0,!i)break;d.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var g in this.buckets){var v=this.buckets[g];if(v instanceof In&&v.hasRTLText){this.hasRTLText=!0,fa.isLoading()||fa.isLoaded()||ef()!=="deferred"||es();break}}for(var S in this.queryPadding=0,this.buckets){var P=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(S).queryRadius(P))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new u},Xi.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Xi.prototype.getBucket=function(e){return this.buckets[e.id]},Xi.prototype.upload=function(e){for(var r in this.buckets){var i=this.buckets[r];i.uploadPending()&&i.upload(e)}var h=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ac(e,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ac(e,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)},Xi.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},Xi.prototype.queryRenderedFeatures=function(e,r,i,h,d,g,v,S,P,O){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:h,cameraQueryGeometry:d,scale:g,tileSize:this.tileSize,pixelPosMatrix:O,transform:S,params:v,queryPadding:this.queryPadding*P},e,r,i):{}},Xi.prototype.querySourceFeatures=function(e,r){var i=this.latestFeatureIndex;if(i&&i.rawTileData){var h=i.loadVTLayers(),d=r?r.sourceLayer:"",g=h._geojsonTileLayer||h[d];if(g)for(var v=Ls(r&&r.filter),S=this.tileID.canonical,P=S.z,O=S.x,z=S.y,V={z:P,x:O,y:z},G=0;G<g.length;G++){var K=g.feature(G);if(v.needGeometry){var fe=ui(K,!0);if(!v.filter(new jr(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!v.filter(new jr(this.tileID.overscaledZ),K))continue;var ge=i.getId(K,d),Re=new qp(K,P,O,z,ge);Re.tile=V,e.push(Re)}}},Xi.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Xi.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Xi.prototype.setExpiryData=function(e){var r=this.expirationTime;if(e.cacheControl){var i=Jt(e.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var h=Date.now(),d=!1;if(this.expirationTime>h)d=!1;else if(r)if(this.expirationTime<r)d=!0;else{var g=this.expirationTime-r;g?this.expirationTime=h+Math.max(g,3e4):d=!0}else d=!0;d?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Xi.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Xi.prototype.setFeatureState=function(e,r){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(e).length!==0){var i=this.latestFeatureIndex.loadVTLayers();for(var h in this.buckets)if(r.style.hasLayer(h)){var d=this.buckets[h],g=d.layers[0].sourceLayer||"_geojsonTileLayer",v=i[g],S=e[g];if(v&&S&&Object.keys(S).length!==0){d.update(S,v,this.imageAtlas&&this.imageAtlas.patternPositions||{});var P=r&&r.style&&r.style.getLayer(h);P&&(this.queryPadding=Math.max(this.queryPadding,P.queryRadius(d)))}}}},Xi.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Xi.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Qn.now()},Xi.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Xi.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=Qn.now()+e},Xi.prototype.setDependencies=function(e,r){for(var i={},h=0,d=r;h<d.length;h+=1)i[d[h]]=!0;this.dependencies[e]=i},Xi.prototype.hasDependency=function(e,r){for(var i=0,h=e;i<h.length;i+=1){var d=this.dependencies[h[i]];if(d){for(var g=0,v=r;g<v.length;g+=1)if(d[v[g]])return!0}}return!1};var yu=W.performance,Vv=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},yu.mark(this._marks.start)};Vv.prototype.finish=function(){yu.mark(this._marks.end);var e=yu.getEntriesByName(this._marks.measure);return e.length===0&&(yu.measure(this._marks.measure,this._marks.start,this._marks.end),e=yu.getEntriesByName(this._marks.measure),yu.clearMarks(this._marks.start),yu.clearMarks(this._marks.end),yu.clearMeasures(this._marks.measure)),e},o.Actor=rh,o.AlphaImage=oc,o.CanonicalTileID=lc,o.CollisionBoxArray=u,o.Color=Xr,o.DEMData=Nl,o.DataConstantProperty=nr,o.DictionaryCoder=jp,o.EXTENT=8192,o.ErrorEvent=ke,o.EvaluationParameters=jr,o.Event=me,o.Evented=Oe,o.FeatureIndex=zl,o.FillBucket=Ns,o.FillExtrusionBucket=zs,o.ImageAtlas=gf,o.ImagePosition=Mp,o.LineBucket=zo,o.LngLat=jn,o.LngLatBounds=Li,o.MercatorCoordinate=sc,o.ONE_EM=24,o.OverscaledTileID=Ri,o.Point=R,o.Point$1=R,o.Properties=no,o.Protobuf=Lp,o.RGBAImage=ta,o.RequestManager=$e,o.RequestPerformance=Vv,o.ResourceType=ba,o.SegmentVector=te,o.SourceFeatureState=nh,o.StructArrayLayout1ui2=sf,o.StructArrayLayout2f1f2i16=Rl,o.StructArrayLayout2i4=Ll,o.StructArrayLayout3ui6=rl,o.StructArrayLayout4i8=rf,o.SymbolBucket=In,o.Texture=ac,o.Tile=Xi,o.Transitionable=ro,o.Uniform1f=At,o.Uniform1i=yt,o.Uniform2f=Ct,o.Uniform3f=jt,o.Uniform4f=ir,o.UniformColor=cr,o.UniformMatrix4f=on,o.UnwrappedTileID=Fv,o.ValidationError=be,o.WritingMode=Ra,o.ZoomHistory=Kh,o.add=function(e,r,i){return e[0]=r[0]+i[0],e[1]=r[1]+i[1],e[2]=r[2]+i[2],e},o.addDynamicAttributes=ug,o.asyncAll=function(e,r,i){if(!e.length)return i(null,[]);var h=e.length,d=new Array(e.length),g=null;e.forEach(function(v,S){r(v,function(P,O){P&&(g=P),d[S]=O,--h==0&&i(g,d)})})},o.bezier=ee,o.bindAll=C,o.browser=Qn,o.cacheEntryPossiblyAdded=function(e){++si>Ln&&(e.getActor().send("enforceCacheSizeLimit",Sn),si=0)},o.clamp=ue,o.clearTileCache=function(e){var r=W.caches.delete("mapbox-tiles");e&&r.catch(e).then(function(){return e()})},o.clipLine=wv,o.clone=function(e){var r=new dn(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},o.clone$1=xt,o.clone$2=function(e){var r=new dn(3);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r},o.collisionCircleLayout=KT,o.config=Cr,o.create=function(){var e=new dn(16);return dn!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},o.create$1=function(){var e=new dn(9);return dn!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},o.create$2=function(){var e=new dn(4);return dn!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},o.createCommonjsModule=T,o.createExpression=Oo,o.createLayout=Gi,o.createStyleLayer=function(e){return e.type==="custom"?new IE(e):new kE[e.type](e)},o.cross=function(e,r,i){var h=r[0],d=r[1],g=r[2],v=i[0],S=i[1],P=i[2];return e[0]=d*P-g*S,e[1]=g*v-h*P,e[2]=h*S-d*v,e},o.deepEqual=function e(r,i){if(Array.isArray(r)){if(!Array.isArray(i)||r.length!==i.length)return!1;for(var h=0;h<r.length;h++)if(!e(r[h],i[h]))return!1;return!0}if(typeof r=="object"&&r!==null&&i!==null){if(typeof i!="object"||Object.keys(r).length!==Object.keys(i).length)return!1;for(var d in r)if(!e(r[d],i[d]))return!1;return!0}return r===i},o.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},o.dot$1=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3]},o.ease=re,o.emitValidationErrors=Ii,o.endsWith=qe,o.enforceCacheSizeLimit=function(e){pn(),wt&&wt.then(function(r){r.keys().then(function(i){for(var h=0;h<i.length-e;h++)r.delete(i[h])})})},o.evaluateSizeForFeature=gv,o.evaluateSizeForZoom=yv,o.evaluateVariableOffset=Ev,o.evented=Qh,o.extend=Pe,o.featureFilter=Ls,o.filterObject=Xe,o.fromRotation=function(e,r){var i=Math.sin(r),h=Math.cos(r);return e[0]=h,e[1]=i,e[2]=0,e[3]=-i,e[4]=h,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},o.getAnchorAlignment=og,o.getAnchorJustification=lg,o.getArrayBuffer=$a,o.getImage=$,o.getJSON=function(e,r){return Wa(Pe(e,{type:"json"}),r)},o.getRTLTextPluginStatus=ef,o.getReferrer=Wi,o.getVideo=function(e,r){var i,h,d=W.document.createElement("video");d.muted=!0,d.onloadstart=function(){r(null,d)};for(var g=0;g<e.length;g++){var v=W.document.createElement("source");i=e[g],h=void 0,(h=W.document.createElement("a")).href=i,(h.protocol!==W.document.location.protocol||h.host!==W.document.location.host)&&(d.crossOrigin="Anonymous"),v.src=e[g],d.appendChild(v)}return{cancel:function(){}}},o.identity=pa,o.invert=function(e,r){var i=r[0],h=r[1],d=r[2],g=r[3],v=r[4],S=r[5],P=r[6],O=r[7],z=r[8],V=r[9],G=r[10],K=r[11],fe=r[12],ge=r[13],Re=r[14],Ee=r[15],Fe=i*S-h*v,We=i*P-d*v,Ze=i*O-g*v,Je=h*P-d*S,ut=h*O-g*S,Et=d*O-g*P,Pt=z*ge-V*fe,Qt=z*Re-G*fe,zt=z*Ee-K*fe,or=V*Re-G*ge,Ut=V*Ee-K*ge,Rr=G*Ee-K*Re,gr=Fe*Rr-We*Ut+Ze*or+Je*zt-ut*Qt+Et*Pt;return gr?(e[0]=(S*Rr-P*Ut+O*or)*(gr=1/gr),e[1]=(d*Ut-h*Rr-g*or)*gr,e[2]=(ge*Et-Re*ut+Ee*Je)*gr,e[3]=(G*ut-V*Et-K*Je)*gr,e[4]=(P*zt-v*Rr-O*Qt)*gr,e[5]=(i*Rr-d*zt+g*Qt)*gr,e[6]=(Re*Ze-fe*Et-Ee*We)*gr,e[7]=(z*Et-G*Ze+K*We)*gr,e[8]=(v*Ut-S*zt+O*Pt)*gr,e[9]=(h*zt-i*Ut-g*Pt)*gr,e[10]=(fe*ut-ge*Ze+Ee*Fe)*gr,e[11]=(V*Ze-z*ut-K*Fe)*gr,e[12]=(S*Qt-v*or-P*Pt)*gr,e[13]=(i*or-h*Qt+d*Pt)*gr,e[14]=(ge*We-fe*Je-Re*Fe)*gr,e[15]=(z*Je-V*We+G*Fe)*gr,e):null},o.isChar=Ot,o.isMapboxURL=vt,o.keysDifference=function(e,r){var i=[];for(var h in e)h in r||i.push(h);return i},o.makeRequest=Wa,o.mapObject=we,o.mercatorXfromLng=Dv,o.mercatorYfromLat=Nv,o.mercatorZfromAltitude=zv,o.mul=Gm,o.multiply=No,o.mvt=Gc,o.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},o.normalize=function(e,r){var i=r[0],h=r[1],d=r[2],g=i*i+h*h+d*d;return g>0&&(g=1/Math.sqrt(g)),e[0]=r[0]*g,e[1]=r[1]*g,e[2]=r[2]*g,e},o.number=Nn,o.offscreenCanvasSupported=li,o.ortho=function(e,r,i,h,d,g,v){var S=1/(r-i),P=1/(h-d),O=1/(g-v);return e[0]=-2*S,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*P,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*O,e[11]=0,e[12]=(r+i)*S,e[13]=(d+h)*P,e[14]=(v+g)*O,e[15]=1,e},o.parseGlyphPBF=function(e){return new Lp(e).readFields(sE,[])},o.pbf=Lp,o.performSymbolLayout=function(e,r,i,h,d,g,v){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var S=e.layers[0].layout,P=e.layers[0]._unevaluatedLayout._values,O={};if(e.textSizeData.kind==="composite"){var z=e.textSizeData,V=z.maxZoom;O.compositeTextSizes=[P["text-size"].possiblyEvaluate(new jr(z.minZoom),v),P["text-size"].possiblyEvaluate(new jr(V),v)]}if(e.iconSizeData.kind==="composite"){var G=e.iconSizeData,K=G.maxZoom;O.compositeIconSizes=[P["icon-size"].possiblyEvaluate(new jr(G.minZoom),v),P["icon-size"].possiblyEvaluate(new jr(K),v)]}O.layoutTextSize=P["text-size"].possiblyEvaluate(new jr(e.zoom+1),v),O.layoutIconSize=P["icon-size"].possiblyEvaluate(new jr(e.zoom+1),v),O.textMaxSize=P["text-size"].possiblyEvaluate(new jr(18));for(var fe=24*S.get("text-line-height"),ge=S.get("text-rotation-alignment")==="map"&&S.get("symbol-placement")!=="point",Re=S.get("text-keep-upright"),Ee=S.get("text-size"),Fe=function(){var Je=Ze[We],ut=S.get("text-font").evaluate(Je,{},v).join(","),Et=Ee.evaluate(Je,{},v),Pt=O.layoutTextSize.evaluate(Je,{},v),Qt=O.layoutIconSize.evaluate(Je,{},v),zt={horizontal:{},vertical:void 0},or=Je.text,Ut=[0,0];if(or){var Rr=or.toString(),gr=24*S.get("text-letter-spacing").evaluate(Je,{},v),Kt=function(Wr){for(var Rn=0,Tn=Wr;Rn<Tn.length;Rn+=1)if(an=Tn[Rn].charCodeAt(0),Ot.Arabic(an)||Ot["Arabic Supplement"](an)||Ot["Arabic Extended-A"](an)||Ot["Arabic Presentation Forms-A"](an)||Ot["Arabic Presentation Forms-B"](an))return!1;var an;return!0}(Rr)?gr:0,Vr=S.get("text-anchor").evaluate(Je,{},v),Ir=S.get("text-variable-anchor");if(!Ir){var Jr=S.get("text-radial-offset").evaluate(Je,{},v);Ut=Jr?Ev(Vr,[24*Jr,sg]):S.get("text-offset").evaluate(Je,{},v).map(function(Wr){return 24*Wr})}var sr=ge?"center":S.get("text-justify").evaluate(Je,{},v),hn=S.get("symbol-placement"),qn=hn==="point"?24*S.get("text-max-width").evaluate(Je,{},v):0,ri=function(){e.allowVerticalPlacement&&Yh(Rr)&&(zt.vertical=Op(or,r,i,d,ut,qn,fe,Vr,"left",Kt,Ut,Ra.vertical,!0,hn,Pt,Et))};if(!ge&&Ir){for(var Jn=sr==="auto"?Ir.map(function(Wr){return lg(Wr)}):[sr],Hn=!1,ni=0;ni<Jn.length;ni++){var Vi=Jn[ni];if(!zt.horizontal[Vi])if(Hn)zt.horizontal[Vi]=zt.horizontal[0];else{var ji=Op(or,r,i,d,ut,qn,fe,"center",Vi,Kt,Ut,Ra.horizontal,!1,hn,Pt,Et);ji&&(zt.horizontal[Vi]=ji,Hn=ji.positionedLines.length===1)}}ri()}else{sr==="auto"&&(sr=lg(Vr));var ko=Op(or,r,i,d,ut,qn,fe,Vr,sr,Kt,Ut,Ra.horizontal,!1,hn,Pt,Et);ko&&(zt.horizontal[sr]=ko),ri(),Yh(Rr)&&ge&&Re&&(zt.vertical=Op(or,r,i,d,ut,qn,fe,Vr,sr,Kt,Ut,Ra.vertical,!1,hn,Pt,Et))}}var Ki=void 0,Po=!1;if(Je.icon&&Je.icon.name){var ci=h[Je.icon.name];ci&&(Ki=function(Wr,Rn,Tn){var an=og(Tn),Fo=Rn[0]-Wr.displaySize[0]*an.horizontalAlign,fo=Rn[1]-Wr.displaySize[1]*an.verticalAlign;return{image:Wr,top:fo,bottom:fo+Wr.displaySize[1],left:Fo,right:Fo+Wr.displaySize[0]}}(d[Je.icon.name],S.get("icon-offset").evaluate(Je,{},v),S.get("icon-anchor").evaluate(Je,{},v)),Po=ci.sdf,e.sdfIcons===void 0?e.sdfIcons=ci.sdf:e.sdfIcons!==ci.sdf&&tt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ci.pixelRatio!==e.pixelRatio||S.get("icon-rotate").constantOr(1)!==0)&&(e.iconsNeedLinear=!0))}var Yi=Av(zt.horizontal)||zt.vertical;e.iconsInText=!!Yi&&Yi.iconsInText,(Yi||Ki)&&function(Wr,Rn,Tn,an,Fo,fo,Un,xi,po,fn,ll){var Ma=fo.textMaxSize.evaluate(Rn,{});Ma===void 0&&(Ma=Un);var ul,hi=Wr.layers[0].layout,cl=hi.get("icon-offset").evaluate(Rn,{},ll),vs=Av(Tn.horizontal),ih=Un/24,uc=Wr.tilePixelRatio*ih,oh=Wr.tilePixelRatio*Ma/24,Fl=Wr.tilePixelRatio*xi,ah=Wr.tilePixelRatio*hi.get("symbol-spacing"),Hp=hi.get("text-padding")*Wr.tilePixelRatio,sh=hi.get("icon-padding")*Wr.tilePixelRatio,vf=hi.get("text-max-angle")/180*Math.PI,Wp=hi.get("text-rotation-alignment")==="map"&&hi.get("symbol-placement")!=="point",$p=hi.get("icon-rotation-alignment")==="map"&&hi.get("symbol-placement")!=="point",Bl=hi.get("symbol-placement"),bf=ah/2,lh=hi.get("icon-text-fit");an&&lh!=="none"&&(Wr.allowVerticalPlacement&&Tn.vertical&&(ul=mv(an,Tn.vertical,lh,hi.get("icon-text-fit-padding"),cl,ih)),vs&&(an=mv(an,vs,lh,hi.get("icon-text-fit-padding"),cl,ih)));var _u=function(LE,If){If.x<0||If.x>=8192||If.y<0||If.y>=8192||function(fi,Fs,RE,vu,yg,Hv,Jp,hl,Qp,kf,ed,td,_g,Wv,Pf,$v,Gv,Zv,Xv,Kv,Oa,rd,Yv,fl,ME){var Jv,hc,ph,dh,mh,gh=fi.addToLineVertexArray(Fs,RE),Qv=0,e0=0,t0=0,r0=0,vg=-1,bg=-1,Ul={},n0=he(""),xg=0,wg=0;if(hl._unevaluatedLayout.getValue("text-radial-offset")===void 0?(xg=(Jv=hl.layout.get("text-offset").evaluate(Oa,{},fl).map(function(Rf){return 24*Rf}))[0],wg=Jv[1]):(xg=24*hl.layout.get("text-radial-offset").evaluate(Oa,{},fl),wg=sg),fi.allowVerticalPlacement&&vu.vertical){var i0=hl.layout.get("text-rotate").evaluate(Oa,{},fl)+90;dh=new Bp(Qp,Fs,kf,ed,td,vu.vertical,_g,Wv,Pf,i0),Jp&&(mh=new Bp(Qp,Fs,kf,ed,td,Jp,Gv,Zv,Pf,i0))}if(yg){var Sg=hl.layout.get("icon-rotate").evaluate(Oa,{}),o0=hl.layout.get("icon-text-fit")!=="none",a0=Sv(yg,Sg,Yv,o0),Tg=Jp?Sv(Jp,Sg,Yv,o0):void 0;ph=new Bp(Qp,Fs,kf,ed,td,yg,Gv,Zv,!1,Sg),Qv=4*a0.length;var s0=fi.iconSizeData,Lf=null;s0.kind==="source"?(Lf=[128*hl.layout.get("icon-size").evaluate(Oa,{})])[0]>32640&&tt(fi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):s0.kind==="composite"&&((Lf=[128*rd.compositeIconSizes[0].evaluate(Oa,{},fl),128*rd.compositeIconSizes[1].evaluate(Oa,{},fl)])[0]>32640||Lf[1]>32640)&&tt(fi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),fi.addSymbols(fi.icon,a0,Lf,Kv,Xv,Oa,!1,Fs,gh.lineStartIndex,gh.lineLength,-1,fl),vg=fi.icon.placedSymbolArray.length-1,Tg&&(e0=4*Tg.length,fi.addSymbols(fi.icon,Tg,Lf,Kv,Xv,Oa,Ra.vertical,Fs,gh.lineStartIndex,gh.lineLength,-1,fl),bg=fi.icon.placedSymbolArray.length-1)}for(var l0 in vu.horizontal){var nd=vu.horizontal[l0];if(!hc){n0=he(nd.text);var OE=hl.layout.get("text-rotate").evaluate(Oa,{},fl);hc=new Bp(Qp,Fs,kf,ed,td,nd,_g,Wv,Pf,OE)}var u0=nd.positionedLines.length===1;if(t0+=Cv(fi,Fs,nd,Hv,hl,Pf,Oa,$v,gh,vu.vertical?Ra.horizontal:Ra.horizontalOnly,u0?Object.keys(vu.horizontal):[l0],Ul,vg,rd,fl),u0)break}vu.vertical&&(r0+=Cv(fi,Fs,vu.vertical,Hv,hl,Pf,Oa,$v,gh,Ra.vertical,["vertical"],Ul,bg,rd,fl));var DE=hc?hc.boxStartIndex:fi.collisionBoxArray.length,NE=hc?hc.boxEndIndex:fi.collisionBoxArray.length,zE=dh?dh.boxStartIndex:fi.collisionBoxArray.length,FE=dh?dh.boxEndIndex:fi.collisionBoxArray.length,BE=ph?ph.boxStartIndex:fi.collisionBoxArray.length,UE=ph?ph.boxEndIndex:fi.collisionBoxArray.length,VE=mh?mh.boxStartIndex:fi.collisionBoxArray.length,jE=mh?mh.boxEndIndex:fi.collisionBoxArray.length,pl=-1,id=function(Rf,h0){return Rf&&Rf.circleDiameter?Math.max(Rf.circleDiameter,h0):h0};pl=id(hc,pl),pl=id(dh,pl),pl=id(ph,pl);var c0=(pl=id(mh,pl))>-1?1:0;c0&&(pl*=ME/24),fi.glyphOffsetArray.length>=In.MAX_GLYPHS&&tt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Oa.sortKey!==void 0&&fi.addToSortKeyRanges(fi.symbolInstances.length,Oa.sortKey),fi.symbolInstances.emplaceBack(Fs.x,Fs.y,Ul.right>=0?Ul.right:-1,Ul.center>=0?Ul.center:-1,Ul.left>=0?Ul.left:-1,Ul.vertical||-1,vg,bg,n0,DE,NE,zE,FE,BE,UE,VE,jE,kf,t0,r0,Qv,e0,c0,0,_g,xg,wg,pl)}(Wr,If,LE,Tn,an,Fo,ul,Wr.layers[0],Wr.collisionBoxArray,Rn.index,Rn.sourceLayerIndex,Wr.index,uc,Hp,Wp,po,Fl,sh,$p,cl,Rn,fo,fn,ll,Un)};if(Bl==="line")for(var uh=0,Gp=wv(Rn.geometry,0,0,8192,8192);uh<Gp.length;uh+=1)for(var Zp=Gp[uh],xf=0,wf=dE(Zp,ah,vf,Tn.vertical||vs,an,24,oh,Wr.overscaling,8192);xf<wf.length;xf+=1){var Xp=wf[xf];vs&&_E(Wr,vs.text,bf,Xp)||_u(Zp,Xp)}else if(Bl==="line-center")for(var Sf=0,Tf=Rn.geometry;Sf<Tf.length;Sf+=1){var Ef=Tf[Sf];if(Ef.length>1){var Kp=pE(Ef,vf,Tn.vertical||vs,an,24,oh);Kp&&_u(Ef,Kp)}}else if(Rn.type==="Polygon")for(var ch=0,Yp=eg(Rn.geometry,0);ch<Yp.length;ch+=1){var hh=Yp[ch],Cf=gE(hh,16);_u(hh[0],new Yc(Cf.x,Cf.y,0))}else if(Rn.type==="LineString")for(var cc=0,Af=Rn.geometry;cc<Af.length;cc+=1){var fh=Af[cc];_u(fh,new Yc(fh[0].x,fh[0].y,0))}else if(Rn.type==="Point")for(var dg=0,jv=Rn.geometry;dg<jv.length;dg+=1)for(var mg=0,qv=jv[dg];mg<qv.length;mg+=1){var gg=qv[mg];_u([gg],new Yc(gg.x,gg.y,0))}}(e,Je,zt,Ki,h,O,Pt,Qt,Ut,Po,v)},We=0,Ze=e.features;We<Ze.length;We+=1)Fe();g&&e.generateCollisionDebugBuffers()},o.perspective=function(e,r,i,h,d){var g,v=1/Math.tan(r/2);return e[0]=v/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=v,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,d!=null&&d!==1/0?(e[10]=(d+h)*(g=1/(h-d)),e[14]=2*d*h*g):(e[10]=-1,e[14]=-2*h),e},o.pick=function(e,r){for(var i={},h=0;h<r.length;h++){var d=r[h];d in e&&(i[d]=e[d])}return i},o.plugin=fa,o.polygonIntersectsPolygon=ol,o.postMapLoadEvent=wn,o.postTurnstileEvent=hr,o.potpack=hv,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.register=$t,o.registerForPluginStateChange=function(e){return e({pluginStatus:Jo,pluginURL:Ms}),Qh.on("pluginStateChange",e),e},o.renderColorRamp=$_,o.rotate=function(e,r,i){var h=r[0],d=r[1],g=r[2],v=r[3],S=Math.sin(i),P=Math.cos(i);return e[0]=h*P+g*S,e[1]=d*P+v*S,e[2]=h*-S+g*P,e[3]=d*-S+v*P,e},o.rotateX=function(e,r,i){var h=Math.sin(i),d=Math.cos(i),g=r[4],v=r[5],S=r[6],P=r[7],O=r[8],z=r[9],V=r[10],G=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=g*d+O*h,e[5]=v*d+z*h,e[6]=S*d+V*h,e[7]=P*d+G*h,e[8]=O*d-g*h,e[9]=z*d-v*h,e[10]=V*d-S*h,e[11]=G*d-P*h,e},o.rotateZ=function(e,r,i){var h=Math.sin(i),d=Math.cos(i),g=r[0],v=r[1],S=r[2],P=r[3],O=r[4],z=r[5],V=r[6],G=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=g*d+O*h,e[1]=v*d+z*h,e[2]=S*d+V*h,e[3]=P*d+G*h,e[4]=O*d-g*h,e[5]=z*d-v*h,e[6]=V*d-S*h,e[7]=G*d-P*h,e},o.scale=function(e,r,i){var h=i[0],d=i[1],g=i[2];return e[0]=r[0]*h,e[1]=r[1]*h,e[2]=r[2]*h,e[3]=r[3]*h,e[4]=r[4]*d,e[5]=r[5]*d,e[6]=r[6]*d,e[7]=r[7]*d,e[8]=r[8]*g,e[9]=r[9]*g,e[10]=r[10]*g,e[11]=r[11]*g,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e},o.scale$1=function(e,r,i){return e[0]=r[0]*i,e[1]=r[1]*i,e[2]=r[2]*i,e[3]=r[3]*i,e},o.scale$2=function(e,r,i){return e[0]=r[0]*i,e[1]=r[1]*i,e[2]=r[2]*i,e},o.setCacheLimits=function(e,r){Sn=e,Ln=r},o.setRTLTextPlugin=function(e,r,i){if(i===void 0&&(i=!1),Jo==="deferred"||Jo==="loading"||Jo==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Ms=Qn.resolveURL(e),Jo="deferred",zc=r,Yu(),i||es()},o.sphericalToCartesian=function(e){var r=e[0],i=e[1],h=e[2];return i+=90,i*=Math.PI/180,h*=Math.PI/180,{x:r*Math.cos(i)*Math.sin(h),y:r*Math.sin(i)*Math.sin(h),z:r*Math.cos(h)}},o.sqrLen=function(e){var r=e[0],i=e[1];return r*r+i*i},o.styleSpec=Q,o.sub=function(e,r,i){return e[0]=r[0]-i[0],e[1]=r[1]-i[1],e[2]=r[2]-i[2],e},o.symbolSize=fE,o.transformMat3=function(e,r,i){var h=r[0],d=r[1],g=r[2];return e[0]=h*i[0]+d*i[3]+g*i[6],e[1]=h*i[1]+d*i[4]+g*i[7],e[2]=h*i[2]+d*i[5]+g*i[8],e},o.transformMat4=qc,o.translate=function(e,r,i){var h,d,g,v,S,P,O,z,V,G,K,fe,ge=i[0],Re=i[1],Ee=i[2];return r===e?(e[12]=r[0]*ge+r[4]*Re+r[8]*Ee+r[12],e[13]=r[1]*ge+r[5]*Re+r[9]*Ee+r[13],e[14]=r[2]*ge+r[6]*Re+r[10]*Ee+r[14],e[15]=r[3]*ge+r[7]*Re+r[11]*Ee+r[15]):(d=r[1],g=r[2],v=r[3],S=r[4],P=r[5],O=r[6],z=r[7],V=r[8],G=r[9],K=r[10],fe=r[11],e[0]=h=r[0],e[1]=d,e[2]=g,e[3]=v,e[4]=S,e[5]=P,e[6]=O,e[7]=z,e[8]=V,e[9]=G,e[10]=K,e[11]=fe,e[12]=h*ge+S*Re+V*Ee+r[12],e[13]=d*ge+P*Re+G*Ee+r[13],e[14]=g*ge+O*Re+K*Ee+r[14],e[15]=v*ge+z*Re+fe*Ee+r[15]),e},o.triggerPluginCompletionEvent=Tp,o.uniqueId=se,o.validateCustomStyleLayer=function(e){var r=[],i=e.id;return i===void 0&&r.push({message:"layers."+i+': missing required property "id"'}),e.render===void 0&&r.push({message:"layers."+i+': missing required method "render"'}),e.renderingMode&&e.renderingMode!=="2d"&&e.renderingMode!=="3d"&&r.push({message:"layers."+i+': property "renderingMode" must be either "2d" or "3d"'}),r},o.validateLight=Zo,o.validateStyle=vi,o.values=function(e){var r=[];for(var i in e)r.push(e[i]);return r},o.vectorTile=Gc,o.version="1.13.3",o.warnOnce=tt,o.webpSupported=sn,o.window=W,o.wrap=ce}),m(["./shared"],function(o){function T(U){var $=typeof U;if($==="number"||$==="boolean"||$==="string"||U==null)return JSON.stringify(U);if(Array.isArray(U)){for(var X="[",oe=0,me=U;oe<me.length;oe+=1)X+=T(me[oe])+",";return X+"]"}for(var ke=Object.keys(U).sort(),Oe="{",Q=0;Q<ke.length;Q++)Oe+=JSON.stringify(ke[Q])+":"+T(U[ke[Q]])+",";return Oe+"}"}function E(U){for(var $="",X=0,oe=o.refProperties;X<oe.length;X+=1)$+="/"+T(U[oe[X]]);return $}var M=function(U){this.keyCache={},U&&this.replace(U)};M.prototype.replace=function(U){this._layerConfigs={},this._layers={},this.update(U,[])},M.prototype.update=function(U,$){for(var X=this,oe=0,me=U;oe<me.length;oe+=1){var ke=me[oe];this._layerConfigs[ke.id]=ke;var Oe=this._layers[ke.id]=o.createStyleLayer(ke);Oe._featureFilter=o.featureFilter(Oe.filter),this.keyCache[ke.id]&&delete this.keyCache[ke.id]}for(var Q=0,be=$;Q<be.length;Q+=1){var je=be[Q];delete this.keyCache[je],delete this._layerConfigs[je],delete this._layers[je]}this.familiesBySource={};for(var gt=0,St=function(kt,It){for(var Sr={},Mt=0;Mt<kt.length;Mt++){var Nr=It&&It[kt[Mt].id]||E(kt[Mt]);It&&(It[kt[Mt].id]=Nr);var yn=Sr[Nr];yn||(yn=Sr[Nr]=[]),yn.push(kt[Mt])}var Ar=[];for(var qr in Sr)Ar.push(Sr[qr]);return Ar}(o.values(this._layerConfigs),this.keyCache);gt<St.length;gt+=1){var rt=St[gt].map(function(kt){return X._layers[kt.id]}),_t=rt[0];if(_t.visibility!=="none"){var Wt=_t.source||"",Dt=this.familiesBySource[Wt];Dt||(Dt=this.familiesBySource[Wt]={});var it=_t.sourceLayer||"_geojsonTileLayer",Rt=Dt[it];Rt||(Rt=Dt[it]=[]),Rt.push(rt)}}};var R=function(U){var $={},X=[];for(var oe in U){var me=U[oe],ke=$[oe]={};for(var Oe in me){var Q=me[+Oe];if(Q&&Q.bitmap.width!==0&&Q.bitmap.height!==0){var be={x:0,y:0,w:Q.bitmap.width+2,h:Q.bitmap.height+2};X.push(be),ke[Oe]={rect:be,metrics:Q.metrics}}}}var je=o.potpack(X),gt=new o.AlphaImage({width:je.w||1,height:je.h||1});for(var St in U){var rt=U[St];for(var _t in rt){var Wt=rt[+_t];if(Wt&&Wt.bitmap.width!==0&&Wt.bitmap.height!==0){var Dt=$[St][_t].rect;o.AlphaImage.copy(Wt.bitmap,gt,{x:0,y:0},{x:Dt.x+1,y:Dt.y+1},Wt.bitmap)}}}this.image=gt,this.positions=$};o.register("GlyphAtlas",R);var B=function(U){this.tileID=new o.OverscaledTileID(U.tileID.overscaledZ,U.tileID.wrap,U.tileID.canonical.z,U.tileID.canonical.x,U.tileID.canonical.y),this.uid=U.uid,this.zoom=U.zoom,this.pixelRatio=U.pixelRatio,this.tileSize=U.tileSize,this.source=U.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=U.showCollisionBoxes,this.collectResourceTiming=!!U.collectResourceTiming,this.returnDependencies=!!U.returnDependencies,this.promoteId=U.promoteId};function W(U,$,X){for(var oe=new o.EvaluationParameters($),me=0,ke=U;me<ke.length;me+=1)ke[me].recalculate(oe,X)}function ae(U,$){var X=o.getArrayBuffer(U.request,function(oe,me,ke,Oe){oe?$(oe):me&&$(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(me)),rawData:me,cacheControl:ke,expires:Oe})});return function(){X.cancel(),$()}}B.prototype.parse=function(U,$,X,oe,me){var ke=this;this.status="parsing",this.data=U,this.collisionBoxArray=new o.CollisionBoxArray;var Oe=new o.DictionaryCoder(Object.keys(U.layers).sort()),Q=new o.FeatureIndex(this.tileID,this.promoteId);Q.bucketLayerIDs=[];var be,je,gt,St,rt={},_t={featureIndex:Q,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:X},Wt=$.familiesBySource[this.source];for(var Dt in Wt){var it=U.layers[Dt];if(it){it.version===1&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+Dt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Rt=Oe.encode(Dt),kt=[],It=0;It<it.length;It++){var Sr=it.feature(It),Mt=Q.getId(Sr,Dt);kt.push({feature:Sr,id:Mt,index:It,sourceLayerIndex:Rt})}for(var Nr=0,yn=Wt[Dt];Nr<yn.length;Nr+=1){var Ar=yn[Nr],qr=Ar[0];qr.minzoom&&this.zoom<Math.floor(qr.minzoom)||qr.maxzoom&&this.zoom>=qr.maxzoom||qr.visibility!=="none"&&(W(Ar,this.zoom,X),(rt[qr.id]=qr.createBucket({index:Q.bucketLayerIDs.length,layers:Ar,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Rt,sourceID:this.source})).populate(kt,_t,this.tileID.canonical),Q.bucketLayerIDs.push(Ar.map(function(ln){return ln.id})))}}}var Fr=o.mapObject(_t.glyphDependencies,function(ln){return Object.keys(ln).map(Number)});Object.keys(Fr).length?oe.send("getGlyphs",{uid:this.uid,stacks:Fr},function(ln,Er){be||(be=ln,je=Er,Vn.call(ke))}):je={};var Ei=Object.keys(_t.iconDependencies);Ei.length?oe.send("getImages",{icons:Ei,source:this.source,tileID:this.tileID,type:"icons"},function(ln,Er){be||(be=ln,gt=Er,Vn.call(ke))}):gt={};var rn=Object.keys(_t.patternDependencies);function Vn(){if(be)return me(be);if(je&&gt&&St){var ln=new R(je),Er=new o.ImageAtlas(gt,St);for(var Xr in rt){var $n=rt[Xr];$n instanceof o.SymbolBucket?(W($n.layers,this.zoom,X),o.performSymbolLayout($n,je,ln.positions,gt,Er.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):$n.hasPattern&&($n instanceof o.LineBucket||$n instanceof o.FillBucket||$n instanceof o.FillExtrusionBucket)&&(W($n.layers,this.zoom,X),$n.addFeatures(_t,this.tileID.canonical,Er.patternPositions))}this.status="done",me(null,{buckets:o.values(rt).filter(function(xa){return!xa.isEmpty()}),featureIndex:Q,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ln.image,imageAtlas:Er,glyphMap:this.returnDependencies?je:null,iconMap:this.returnDependencies?gt:null,glyphPositions:this.returnDependencies?ln.positions:null})}}rn.length?oe.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"patterns"},function(ln,Er){be||(be=ln,St=Er,Vn.call(ke))}):St={},Vn.call(this)};var ee=function(U,$,X,oe){this.actor=U,this.layerIndex=$,this.availableImages=X,this.loadVectorData=oe||ae,this.loading={},this.loaded={}};ee.prototype.loadTile=function(U,$){var X=this,oe=U.uid;this.loading||(this.loading={});var me=!!(U&&U.request&&U.request.collectResourceTiming)&&new o.RequestPerformance(U.request),ke=this.loading[oe]=new B(U);ke.abort=this.loadVectorData(U,function(Oe,Q){if(delete X.loading[oe],Oe||!Q)return ke.status="done",X.loaded[oe]=ke,$(Oe);var be=Q.rawData,je={};Q.expires&&(je.expires=Q.expires),Q.cacheControl&&(je.cacheControl=Q.cacheControl);var gt={};if(me){var St=me.finish();St&&(gt.resourceTiming=JSON.parse(JSON.stringify(St)))}ke.vectorTile=Q.vectorTile,ke.parse(Q.vectorTile,X.layerIndex,X.availableImages,X.actor,function(rt,_t){if(rt||!_t)return $(rt);$(null,o.extend({rawTileData:be.slice(0)},_t,je,gt))}),X.loaded=X.loaded||{},X.loaded[oe]=ke})},ee.prototype.reloadTile=function(U,$){var X=this,oe=this.loaded,me=U.uid,ke=this;if(oe&&oe[me]){var Oe=oe[me];Oe.showCollisionBoxes=U.showCollisionBoxes;var Q=function(be,je){var gt=Oe.reloadCallback;gt&&(delete Oe.reloadCallback,Oe.parse(Oe.vectorTile,ke.layerIndex,X.availableImages,ke.actor,gt)),$(be,je)};Oe.status==="parsing"?Oe.reloadCallback=Q:Oe.status==="done"&&(Oe.vectorTile?Oe.parse(Oe.vectorTile,this.layerIndex,this.availableImages,this.actor,Q):Q())}},ee.prototype.abortTile=function(U,$){var X=this.loading,oe=U.uid;X&&X[oe]&&X[oe].abort&&(X[oe].abort(),delete X[oe]),$()},ee.prototype.removeTile=function(U,$){var X=this.loaded,oe=U.uid;X&&X[oe]&&delete X[oe],$()};var re=o.window.ImageBitmap,ue=function(){this.loaded={}};function ce(U,$){if(U.length!==0){Pe(U[0],$);for(var X=1;X<U.length;X++)Pe(U[X],!$)}}function Pe(U,$){for(var X=0,oe=0,me=0,ke=U.length,Oe=ke-1;me<ke;Oe=me++){var Q=(U[me][0]-U[Oe][0])*(U[Oe][1]+U[me][1]),be=X+Q;oe+=Math.abs(X)>=Math.abs(Q)?X-be+Q:Q-be+X,X=be}X+oe>=0!=!!$&&U.reverse()}ue.prototype.loadTile=function(U,$){var X=U.uid,oe=U.encoding,me=U.rawImageData,ke=re&&me instanceof re?this.getImageData(me):me,Oe=new o.DEMData(X,ke,oe);this.loaded=this.loaded||{},this.loaded[X]=Oe,$(null,Oe)},ue.prototype.getImageData=function(U){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(U.width,U.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=U.width,this.offscreenCanvas.height=U.height,this.offscreenCanvasContext.drawImage(U,0,0,U.width,U.height);var $=this.offscreenCanvasContext.getImageData(-1,-1,U.width+2,U.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:$.width,height:$.height},$.data)},ue.prototype.removeTile=function(U){var $=this.loaded,X=U.uid;$&&$[X]&&delete $[X]};var Y=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,se=function(U){this._feature=U,this.extent=o.EXTENT,this.type=U.type,this.properties=U.tags,"id"in U&&!isNaN(U.id)&&(this.id=parseInt(U.id,10))};se.prototype.loadGeometry=function(){if(this._feature.type===1){for(var U=[],$=0,X=this._feature.geometry;$<X.length;$+=1){var oe=X[$];U.push([new o.Point$1(oe[0],oe[1])])}return U}for(var me=[],ke=0,Oe=this._feature.geometry;ke<Oe.length;ke+=1){for(var Q=[],be=0,je=Oe[ke];be<je.length;be+=1){var gt=je[be];Q.push(new o.Point$1(gt[0],gt[1]))}me.push(Q)}return me},se.prototype.toGeoJSON=function(U,$,X){return Y.call(this,U,$,X)};var Se=function(U){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=U.length,this._features=U};Se.prototype.feature=function(U){return new se(this._features[U])};var Me=o.vectorTile.VectorTileFeature,C=qe;function qe(U,$){this.options=$||{},this.features=U,this.length=U.length}function we(U,$){this.id=typeof U.id=="number"?U.id:void 0,this.type=U.type,this.rawGeometry=U.type===1?[U.geometry]:U.geometry,this.properties=U.tags,this.extent=$||4096}qe.prototype.feature=function(U){return new we(this.features[U],this.options.extent)},we.prototype.loadGeometry=function(){var U=this.rawGeometry;this.geometry=[];for(var $=0;$<U.length;$++){for(var X=U[$],oe=[],me=0;me<X.length;me++)oe.push(new o.Point$1(X[me][0],X[me][1]));this.geometry.push(oe)}return this.geometry},we.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var U=this.geometry,$=1/0,X=-1/0,oe=1/0,me=-1/0,ke=0;ke<U.length;ke++)for(var Oe=U[ke],Q=0;Q<Oe.length;Q++){var be=Oe[Q];$=Math.min($,be.x),X=Math.max(X,be.x),oe=Math.min(oe,be.y),me=Math.max(me,be.y)}return[$,oe,X,me]},we.prototype.toGeoJSON=Me.prototype.toGeoJSON;var Xe=Ge,xt=C;function Ge(U){var $=new o.pbf;return function(X,oe){for(var me in X.layers)oe.writeMessage(3,tt,X.layers[me])}(U,$),$.finish()}function tt(U,$){var X;$.writeVarintField(15,U.version||1),$.writeStringField(1,U.name||""),$.writeVarintField(5,U.extent||4096);var oe={keys:[],values:[],keycache:{},valuecache:{}};for(X=0;X<U.length;X++)oe.feature=U.feature(X),$.writeMessage(2,Ht,oe);var me=oe.keys;for(X=0;X<me.length;X++)$.writeStringField(3,me[X]);var ke=oe.values;for(X=0;X<ke.length;X++)$.writeMessage(4,Zr,ke[X])}function Ht(U,$){var X=U.feature;X.id!==void 0&&$.writeVarintField(1,X.id),$.writeMessage(2,fr,U),$.writeVarintField(3,X.type),$.writeMessage(4,Zt,X)}function fr(U,$){var X=U.feature,oe=U.keys,me=U.values,ke=U.keycache,Oe=U.valuecache;for(var Q in X.properties){var be=ke[Q];be===void 0&&(oe.push(Q),ke[Q]=be=oe.length-1),$.writeVarint(be);var je=X.properties[Q],gt=typeof je;gt!=="string"&&gt!=="boolean"&&gt!=="number"&&(je=JSON.stringify(je));var St=gt+":"+je,rt=Oe[St];rt===void 0&&(me.push(je),Oe[St]=rt=me.length-1),$.writeVarint(rt)}}function Lt(U,$){return($<<3)+(7&U)}function Jt(U){return U<<1^U>>31}function Zt(U,$){for(var X=U.loadGeometry(),oe=U.type,me=0,ke=0,Oe=X.length,Q=0;Q<Oe;Q++){var be=X[Q],je=1;oe===1&&(je=be.length),$.writeVarint(Lt(1,je));for(var gt=oe===3?be.length-1:be.length,St=0;St<gt;St++){St===1&&oe!==1&&$.writeVarint(Lt(2,gt-1));var rt=be[St].x-me,_t=be[St].y-ke;$.writeVarint(Jt(rt)),$.writeVarint(Jt(_t)),me+=rt,ke+=_t}oe===3&&$.writeVarint(Lt(7,1))}}function Zr(U,$){var X=typeof U;X==="string"?$.writeStringField(1,U):X==="boolean"?$.writeBooleanField(7,U):X==="number"&&(U%1!=0?$.writeDoubleField(3,U):U<0?$.writeSVarintField(6,U):$.writeVarintField(5,U))}function Mn(U,$,X,oe){Kr(U,X,oe),Kr($,2*X,2*oe),Kr($,2*X+1,2*oe+1)}function Kr(U,$,X){var oe=U[$];U[$]=U[X],U[X]=oe}function Yr(U,$,X,oe){var me=U-X,ke=$-oe;return me*me+ke*ke}Xe.fromVectorTileJs=Ge,Xe.fromGeojsonVt=function(U,$){$=$||{};var X={};for(var oe in U)X[oe]=new C(U[oe].features,$),X[oe].name=oe,X[oe].version=$.version,X[oe].extent=$.extent;return Ge({layers:X})},Xe.GeoJSONWrapper=xt;var mi=function(U){return U[0]},Ti=function(U){return U[1]},gn=function(U,$,X,oe,me){$===void 0&&($=mi),X===void 0&&(X=Ti),oe===void 0&&(oe=64),me===void 0&&(me=Float64Array),this.nodeSize=oe,this.points=U;for(var ke=U.length<65536?Uint16Array:Uint32Array,Oe=this.ids=new ke(U.length),Q=this.coords=new me(2*U.length),be=0;be<U.length;be++)Oe[be]=be,Q[2*be]=$(U[be]),Q[2*be+1]=X(U[be]);(function je(gt,St,rt,_t,Wt,Dt){if(!(Wt-_t<=rt)){var it=_t+Wt>>1;(function Rt(kt,It,Sr,Mt,Nr,yn){for(;Nr>Mt;){if(Nr-Mt>600){var Ar=Nr-Mt+1,qr=Sr-Mt+1,Fr=Math.log(Ar),Ei=.5*Math.exp(2*Fr/3),rn=.5*Math.sqrt(Fr*Ei*(Ar-Ei)/Ar)*(qr-Ar/2<0?-1:1);Rt(kt,It,Sr,Math.max(Mt,Math.floor(Sr-qr*Ei/Ar+rn)),Math.min(Nr,Math.floor(Sr+(Ar-qr)*Ei/Ar+rn)),yn)}var Vn=It[2*Sr+yn],ln=Mt,Er=Nr;for(Mn(kt,It,Mt,Sr),It[2*Nr+yn]>Vn&&Mn(kt,It,Mt,Nr);ln<Er;){for(Mn(kt,It,ln,Er),ln++,Er--;It[2*ln+yn]<Vn;)ln++;for(;It[2*Er+yn]>Vn;)Er--}It[2*Mt+yn]===Vn?Mn(kt,It,Mt,Er):Mn(kt,It,++Er,Nr),Er<=Sr&&(Mt=Er+1),Sr<=Er&&(Nr=Er-1)}})(gt,St,it,_t,Wt,Dt%2),je(gt,St,rt,_t,it-1,Dt+1),je(gt,St,rt,it+1,Wt,Dt+1)}})(Oe,Q,oe,0,Oe.length-1,0)};gn.prototype.range=function(U,$,X,oe){return function(me,ke,Oe,Q,be,je,gt){for(var St,rt,_t=[0,me.length-1,0],Wt=[];_t.length;){var Dt=_t.pop(),it=_t.pop(),Rt=_t.pop();if(it-Rt<=gt)for(var kt=Rt;kt<=it;kt++)rt=ke[2*kt+1],(St=ke[2*kt])>=Oe&&St<=be&&rt>=Q&&rt<=je&&Wt.push(me[kt]);else{var It=Math.floor((Rt+it)/2);rt=ke[2*It+1],(St=ke[2*It])>=Oe&&St<=be&&rt>=Q&&rt<=je&&Wt.push(me[It]);var Sr=(Dt+1)%2;(Dt===0?Oe<=St:Q<=rt)&&(_t.push(Rt),_t.push(It-1),_t.push(Sr)),(Dt===0?be>=St:je>=rt)&&(_t.push(It+1),_t.push(it),_t.push(Sr))}}return Wt}(this.ids,this.coords,U,$,X,oe,this.nodeSize)},gn.prototype.within=function(U,$,X){return function(oe,me,ke,Oe,Q,be){for(var je=[0,oe.length-1,0],gt=[],St=Q*Q;je.length;){var rt=je.pop(),_t=je.pop(),Wt=je.pop();if(_t-Wt<=be)for(var Dt=Wt;Dt<=_t;Dt++)Yr(me[2*Dt],me[2*Dt+1],ke,Oe)<=St&&gt.push(oe[Dt]);else{var it=Math.floor((Wt+_t)/2),Rt=me[2*it],kt=me[2*it+1];Yr(Rt,kt,ke,Oe)<=St&&gt.push(oe[it]);var It=(rt+1)%2;(rt===0?ke-Q<=Rt:Oe-Q<=kt)&&(je.push(Wt),je.push(it-1),je.push(It)),(rt===0?ke+Q>=Rt:Oe+Q>=kt)&&(je.push(it+1),je.push(_t),je.push(It))}}return gt}(this.ids,this.coords,U,$,X,this.nodeSize)};var En={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(U){return U}},On=function(U){this.options=de(Object.create(En),U),this.trees=new Array(this.options.maxZoom+1)};function Qn(U,$,X,oe,me){return{x:U,y:$,zoom:1/0,id:X,parentId:-1,numPoints:oe,properties:me}}function Cr(U,$){var X=U.geometry.coordinates,oe=X[1];return{x:_n(X[0]),y:xe(oe),zoom:1/0,index:$,parentId:-1}}function sn(U){return{type:"Feature",id:U.id,properties:Mi(U),geometry:{type:"Point",coordinates:[(oe=U.x,360*(oe-.5)),($=U.y,X=(180-360*$)*Math.PI/180,360*Math.atan(Math.exp(X))/Math.PI-90)]}};var $,X,oe}function Mi(U){var $=U.numPoints,X=$>=1e4?Math.round($/1e3)+"k":$>=1e3?Math.round($/100)/10+"k":$;return de(de({},U.properties),{cluster:!0,cluster_id:U.id,point_count:$,point_count_abbreviated:X})}function _n(U){return U/360+.5}function xe(U){var $=Math.sin(U*Math.PI/180),X=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return X<0?0:X>1?1:X}function de(U,$){for(var X in $)U[X]=$[X];return U}function $e(U){return U.x}function vt(U){return U.y}function bt(U,$,X,oe,me,ke){var Oe=me-X,Q=ke-oe;if(Oe!==0||Q!==0){var be=((U-X)*Oe+($-oe)*Q)/(Oe*Oe+Q*Q);be>1?(X=me,oe=ke):be>0&&(X+=Oe*be,oe+=Q*be)}return(Oe=U-X)*Oe+(Q=$-oe)*Q}function dt(U,$,X,oe){var me={id:U===void 0?null:U,type:$,geometry:X,tags:oe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ke){var Oe=ke.geometry,Q=ke.type;if(Q==="Point"||Q==="MultiPoint"||Q==="LineString")Ft(ke,Oe);else if(Q==="Polygon"||Q==="MultiLineString")for(var be=0;be<Oe.length;be++)Ft(ke,Oe[be]);else if(Q==="MultiPolygon")for(be=0;be<Oe.length;be++)for(var je=0;je<Oe[be].length;je++)Ft(ke,Oe[be][je])}(me),me}function Ft(U,$){for(var X=0;X<$.length;X+=3)U.minX=Math.min(U.minX,$[X]),U.minY=Math.min(U.minY,$[X+1]),U.maxX=Math.max(U.maxX,$[X]),U.maxY=Math.max(U.maxY,$[X+1])}function le(U,$,X,oe){if($.geometry){var me=$.geometry.coordinates,ke=$.geometry.type,Oe=Math.pow(X.tolerance/((1<<X.maxZoom)*X.extent),2),Q=[],be=$.id;if(X.promoteId?be=$.properties[X.promoteId]:X.generateId&&(be=oe||0),ke==="Point")pe(me,Q);else if(ke==="MultiPoint")for(var je=0;je<me.length;je++)pe(me[je],Q);else if(ke==="LineString")Ne(me,Q,Oe,!1);else if(ke==="MultiLineString"){if(X.lineMetrics){for(je=0;je<me.length;je++)Ne(me[je],Q=[],Oe,!1),U.push(dt(be,"LineString",Q,$.properties));return}ht(me,Q,Oe,!1)}else if(ke==="Polygon")ht(me,Q,Oe,!0);else{if(ke!=="MultiPolygon"){if(ke==="GeometryCollection"){for(je=0;je<$.geometry.geometries.length;je++)le(U,{id:be,geometry:$.geometry.geometries[je],properties:$.properties},X,oe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(je=0;je<me.length;je++){var gt=[];ht(me[je],gt,Oe,!0),Q.push(gt)}}U.push(dt(be,ke,Q,$.properties))}}function pe(U,$){$.push(wt(U[0])),$.push(Ve(U[1])),$.push(0)}function Ne(U,$,X,oe){for(var me,ke,Oe=0,Q=0;Q<U.length;Q++){var be=wt(U[Q][0]),je=Ve(U[Q][1]);$.push(be),$.push(je),$.push(0),Q>0&&(Oe+=oe?(me*je-be*ke)/2:Math.sqrt(Math.pow(be-me,2)+Math.pow(je-ke,2))),me=be,ke=je}var gt=$.length-3;$[2]=1,function St(rt,_t,Wt,Dt){for(var it,Rt=Dt,kt=Wt-_t>>1,It=Wt-_t,Sr=rt[_t],Mt=rt[_t+1],Nr=rt[Wt],yn=rt[Wt+1],Ar=_t+3;Ar<Wt;Ar+=3){var qr=bt(rt[Ar],rt[Ar+1],Sr,Mt,Nr,yn);if(qr>Rt)it=Ar,Rt=qr;else if(qr===Rt){var Fr=Math.abs(Ar-kt);Fr<It&&(it=Ar,It=Fr)}}Rt>Dt&&(it-_t>3&&St(rt,_t,it,Dt),rt[it+2]=Rt,Wt-it>3&&St(rt,it,Wt,Dt))}($,0,gt,X),$[gt+2]=1,$.size=Math.abs(Oe),$.start=0,$.end=$.size}function ht(U,$,X,oe){for(var me=0;me<U.length;me++){var ke=[];Ne(U[me],ke,X,oe),$.push(ke)}}function wt(U){return U/360+.5}function Ve(U){var $=Math.sin(U*Math.PI/180),X=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return X<0?0:X>1?1:X}function Be(U,$,X,oe,me,ke,Oe,Q){if(oe/=$,ke>=(X/=$)&&Oe<oe)return U;if(Oe<X||ke>=oe)return null;for(var be=[],je=0;je<U.length;je++){var gt=U[je],St=gt.geometry,rt=gt.type,_t=me===0?gt.minX:gt.minY,Wt=me===0?gt.maxX:gt.maxY;if(_t>=X&&Wt<oe)be.push(gt);else if(!(Wt<X||_t>=oe)){var Dt=[];if(rt==="Point"||rt==="MultiPoint")lt(St,Dt,X,oe,me);else if(rt==="LineString")hr(St,Dt,X,oe,me,!1,Q.lineMetrics);else if(rt==="MultiLineString")wn(St,Dt,X,oe,me,!1);else if(rt==="Polygon")wn(St,Dt,X,oe,me,!0);else if(rt==="MultiPolygon")for(var it=0;it<St.length;it++){var Rt=[];wn(St[it],Rt,X,oe,me,!0),Rt.length&&Dt.push(Rt)}if(Dt.length){if(Q.lineMetrics&&rt==="LineString"){for(it=0;it<Dt.length;it++)be.push(dt(gt.id,rt,Dt[it],gt.tags));continue}rt!=="LineString"&&rt!=="MultiLineString"||(Dt.length===1?(rt="LineString",Dt=Dt[0]):rt="MultiLineString"),rt!=="Point"&&rt!=="MultiPoint"||(rt=Dt.length===3?"Point":"MultiPoint"),be.push(dt(gt.id,rt,Dt,gt.tags))}}}return be.length?be:null}function lt(U,$,X,oe,me){for(var ke=0;ke<U.length;ke+=3){var Oe=U[ke+me];Oe>=X&&Oe<=oe&&($.push(U[ke]),$.push(U[ke+1]),$.push(U[ke+2]))}}function hr(U,$,X,oe,me,ke,Oe){for(var Q,be,je=pr(U),gt=me===0?Ln:pn,St=U.start,rt=0;rt<U.length-3;rt+=3){var _t=U[rt],Wt=U[rt+1],Dt=U[rt+2],it=U[rt+3],Rt=U[rt+4],kt=me===0?_t:Wt,It=me===0?it:Rt,Sr=!1;Oe&&(Q=Math.sqrt(Math.pow(_t-it,2)+Math.pow(Wt-Rt,2))),kt<X?It>X&&(be=gt(je,_t,Wt,it,Rt,X),Oe&&(je.start=St+Q*be)):kt>oe?It<oe&&(be=gt(je,_t,Wt,it,Rt,oe),Oe&&(je.start=St+Q*be)):Sn(je,_t,Wt,Dt),It<X&&kt>=X&&(be=gt(je,_t,Wt,it,Rt,X),Sr=!0),It>oe&&kt<=oe&&(be=gt(je,_t,Wt,it,Rt,oe),Sr=!0),!ke&&Sr&&(Oe&&(je.end=St+Q*be),$.push(je),je=pr(U)),Oe&&(St+=Q)}var Mt=U.length-3;_t=U[Mt],Wt=U[Mt+1],Dt=U[Mt+2],(kt=me===0?_t:Wt)>=X&&kt<=oe&&Sn(je,_t,Wt,Dt),Mt=je.length-3,ke&&Mt>=3&&(je[Mt]!==je[0]||je[Mt+1]!==je[1])&&Sn(je,je[0],je[1],je[2]),je.length&&$.push(je)}function pr(U){var $=[];return $.size=U.size,$.start=U.start,$.end=U.end,$}function wn(U,$,X,oe,me,ke){for(var Oe=0;Oe<U.length;Oe++)hr(U[Oe],$,X,oe,me,ke,!1)}function Sn(U,$,X,oe){U.push($),U.push(X),U.push(oe)}function Ln(U,$,X,oe,me,ke){var Oe=(ke-$)/(oe-$);return U.push(ke),U.push(X+(me-X)*Oe),U.push(1),Oe}function pn(U,$,X,oe,me,ke){var Oe=(ke-X)/(me-X);return U.push($+(oe-$)*Oe),U.push(ke),U.push(1),Oe}function ei(U,$){for(var X=[],oe=0;oe<U.length;oe++){var me,ke=U[oe],Oe=ke.type;if(Oe==="Point"||Oe==="MultiPoint"||Oe==="LineString")me=Hi(ke.geometry,$);else if(Oe==="MultiLineString"||Oe==="Polygon"){me=[];for(var Q=0;Q<ke.geometry.length;Q++)me.push(Hi(ke.geometry[Q],$))}else if(Oe==="MultiPolygon")for(me=[],Q=0;Q<ke.geometry.length;Q++){for(var be=[],je=0;je<ke.geometry[Q].length;je++)be.push(Hi(ke.geometry[Q][je],$));me.push(be)}X.push(dt(ke.id,Oe,me,ke.tags))}return X}function Hi(U,$){var X=[];X.size=U.size,U.start!==void 0&&(X.start=U.start,X.end=U.end);for(var oe=0;oe<U.length;oe+=3)X.push(U[oe]+$,U[oe+1],U[oe+2]);return X}function si(U,$){if(U.transformed)return U;var X,oe,me,ke=1<<U.z,Oe=U.x,Q=U.y;for(X=0;X<U.features.length;X++){var be=U.features[X],je=be.geometry,gt=be.type;if(be.geometry=[],gt===1)for(oe=0;oe<je.length;oe+=2)be.geometry.push(li(je[oe],je[oe+1],$,ke,Oe,Q));else for(oe=0;oe<je.length;oe++){var St=[];for(me=0;me<je[oe].length;me+=2)St.push(li(je[oe][me],je[oe][me+1],$,ke,Oe,Q));be.geometry.push(St)}}return U.transformed=!0,U}function li(U,$,X,oe,me,ke){return[Math.round(X*(U*oe-me)),Math.round(X*($*oe-ke))]}function ba(U,$,X,oe,me){for(var ke=$===me.maxZoom?0:me.tolerance/((1<<$)*me.extent),Oe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:X,y:oe,z:$,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Q=0;Q<U.length;Q++){Oe.numFeatures++,Ha(Oe,U[Q],ke,me);var be=U[Q].minX,je=U[Q].minY,gt=U[Q].maxX,St=U[Q].maxY;be<Oe.minX&&(Oe.minX=be),je<Oe.minY&&(Oe.minY=je),gt>Oe.maxX&&(Oe.maxX=gt),St>Oe.maxY&&(Oe.maxY=St)}return Oe}function Ha(U,$,X,oe){var me=$.geometry,ke=$.type,Oe=[];if(ke==="Point"||ke==="MultiPoint")for(var Q=0;Q<me.length;Q+=3)Oe.push(me[Q]),Oe.push(me[Q+1]),U.numPoints++,U.numSimplified++;else if(ke==="LineString")Wi(Oe,me,U,X,!1,!1);else if(ke==="MultiLineString"||ke==="Polygon")for(Q=0;Q<me.length;Q++)Wi(Oe,me[Q],U,X,ke==="Polygon",Q===0);else if(ke==="MultiPolygon")for(var be=0;be<me.length;be++){var je=me[be];for(Q=0;Q<je.length;Q++)Wi(Oe,je[Q],U,X,!0,Q===0)}if(Oe.length){var gt=$.tags||null;if(ke==="LineString"&&oe.lineMetrics){for(var St in gt={},$.tags)gt[St]=$.tags[St];gt.mapbox_clip_start=me.start/me.size,gt.mapbox_clip_end=me.end/me.size}var rt={geometry:Oe,type:ke==="Polygon"||ke==="MultiPolygon"?3:ke==="LineString"||ke==="MultiLineString"?2:1,tags:gt};$.id!==null&&(rt.id=$.id),U.features.push(rt)}}function Wi(U,$,X,oe,me,ke){var Oe=oe*oe;if(oe>0&&$.size<(me?Oe:oe))X.numPoints+=$.length/3;else{for(var Q=[],be=0;be<$.length;be+=3)(oe===0||$[be+2]>Oe)&&(X.numSimplified++,Q.push($[be]),Q.push($[be+1])),X.numPoints++;me&&function(je,gt){for(var St=0,rt=0,_t=je.length,Wt=_t-2;rt<_t;Wt=rt,rt+=2)St+=(je[rt]-je[Wt])*(je[rt+1]+je[Wt+1]);if(St>0===gt)for(rt=0,_t=je.length;rt<_t/2;rt+=2){var Dt=je[rt],it=je[rt+1];je[rt]=je[_t-2-rt],je[rt+1]=je[_t-1-rt],je[_t-2-rt]=Dt,je[_t-1-rt]=it}}(Q,ke),U.push(Q)}}function eo(U,$){var X=($=this.options=function(me,ke){for(var Oe in ke)me[Oe]=ke[Oe];return me}(Object.create(this.options),$)).debug;if(X&&console.time("preprocess data"),$.maxZoom<0||$.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if($.promoteId&&$.generateId)throw new Error("promoteId and generateId cannot be used together.");var oe=function(me,ke){var Oe=[];if(me.type==="FeatureCollection")for(var Q=0;Q<me.features.length;Q++)le(Oe,me.features[Q],ke,Q);else le(Oe,me.type==="Feature"?me:{geometry:me},ke);return Oe}(U,$);this.tiles={},this.tileCoords=[],X&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",$.indexMaxZoom,$.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(oe=function(me,ke){var Oe=ke.buffer/ke.extent,Q=me,be=Be(me,1,-1-Oe,Oe,0,-1,2,ke),je=Be(me,1,1-Oe,2+Oe,0,-1,2,ke);return(be||je)&&(Q=Be(me,1,-Oe,1+Oe,0,-1,2,ke)||[],be&&(Q=ei(be,1).concat(Q)),je&&(Q=Q.concat(ei(je,-1)))),Q}(oe,$)).length&&this.splitTile(oe,0,0,0),X&&(oe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function gi(U,$,X){return 32*((1<<U)*X+$)+U}function Wa(U,$){var X=U.tileID.canonical;if(!this._geoJSONIndex)return $(null,null);var oe=this._geoJSONIndex.getTile(X.z,X.x,X.y);if(!oe)return $(null,null);var me=new Se(oe.features),ke=Xe(me);ke.byteOffset===0&&ke.byteLength===ke.buffer.byteLength||(ke=new Uint8Array(ke)),$(null,{vectorTile:me,rawData:ke.buffer})}On.prototype.load=function(U){var $=this.options,X=$.log,oe=$.minZoom,me=$.maxZoom,ke=$.nodeSize;X&&console.time("total time");var Oe="prepare "+U.length+" points";X&&console.time(Oe),this.points=U;for(var Q=[],be=0;be<U.length;be++)U[be].geometry&&Q.push(Cr(U[be],be));this.trees[me+1]=new gn(Q,$e,vt,ke,Float32Array),X&&console.timeEnd(Oe);for(var je=me;je>=oe;je--){var gt=+Date.now();Q=this._cluster(Q,je),this.trees[je]=new gn(Q,$e,vt,ke,Float32Array),X&&console.log("z%d: %d clusters in %dms",je,Q.length,+Date.now()-gt)}return X&&console.timeEnd("total time"),this},On.prototype.getClusters=function(U,$){var X=((U[0]+180)%360+360)%360-180,oe=Math.max(-90,Math.min(90,U[1])),me=U[2]===180?180:((U[2]+180)%360+360)%360-180,ke=Math.max(-90,Math.min(90,U[3]));if(U[2]-U[0]>=360)X=-180,me=180;else if(X>me){var Oe=this.getClusters([X,oe,180,ke],$),Q=this.getClusters([-180,oe,me,ke],$);return Oe.concat(Q)}for(var be=this.trees[this._limitZoom($)],je=[],gt=0,St=be.range(_n(X),xe(ke),_n(me),xe(oe));gt<St.length;gt+=1){var rt=be.points[St[gt]];je.push(rt.numPoints?sn(rt):this.points[rt.index])}return je},On.prototype.getChildren=function(U){var $=this._getOriginId(U),X=this._getOriginZoom(U),oe="No cluster with the specified id.",me=this.trees[X];if(!me)throw new Error(oe);var ke=me.points[$];if(!ke)throw new Error(oe);for(var Oe=this.options.radius/(this.options.extent*Math.pow(2,X-1)),Q=[],be=0,je=me.within(ke.x,ke.y,Oe);be<je.length;be+=1){var gt=me.points[je[be]];gt.parentId===U&&Q.push(gt.numPoints?sn(gt):this.points[gt.index])}if(Q.length===0)throw new Error(oe);return Q},On.prototype.getLeaves=function(U,$,X){var oe=[];return this._appendLeaves(oe,U,$=$||10,X=X||0,0),oe},On.prototype.getTile=function(U,$,X){var oe=this.trees[this._limitZoom(U)],me=Math.pow(2,U),ke=this.options,Oe=ke.radius/ke.extent,Q=(X-Oe)/me,be=(X+1+Oe)/me,je={features:[]};return this._addTileFeatures(oe.range(($-Oe)/me,Q,($+1+Oe)/me,be),oe.points,$,X,me,je),$===0&&this._addTileFeatures(oe.range(1-Oe/me,Q,1,be),oe.points,me,X,me,je),$===me-1&&this._addTileFeatures(oe.range(0,Q,Oe/me,be),oe.points,-1,X,me,je),je.features.length?je:null},On.prototype.getClusterExpansionZoom=function(U){for(var $=this._getOriginZoom(U)-1;$<=this.options.maxZoom;){var X=this.getChildren(U);if($++,X.length!==1)break;U=X[0].properties.cluster_id}return $},On.prototype._appendLeaves=function(U,$,X,oe,me){for(var ke=0,Oe=this.getChildren($);ke<Oe.length;ke+=1){var Q=Oe[ke],be=Q.properties;if(be&&be.cluster?me+be.point_count<=oe?me+=be.point_count:me=this._appendLeaves(U,be.cluster_id,X,oe,me):me<oe?me++:U.push(Q),U.length===X)break}return me},On.prototype._addTileFeatures=function(U,$,X,oe,me,ke){for(var Oe=0,Q=U;Oe<Q.length;Oe+=1){var be=$[Q[Oe]],je=be.numPoints,gt={type:1,geometry:[[Math.round(this.options.extent*(be.x*me-X)),Math.round(this.options.extent*(be.y*me-oe))]],tags:je?Mi(be):this.points[be.index].properties},St=void 0;je?St=be.id:this.options.generateId?St=be.index:this.points[be.index].id&&(St=this.points[be.index].id),St!==void 0&&(gt.id=St),ke.features.push(gt)}},On.prototype._limitZoom=function(U){return Math.max(this.options.minZoom,Math.min(+U,this.options.maxZoom+1))},On.prototype._cluster=function(U,$){for(var X=[],oe=this.options,me=oe.reduce,ke=oe.minPoints,Oe=oe.radius/(oe.extent*Math.pow(2,$)),Q=0;Q<U.length;Q++){var be=U[Q];if(!(be.zoom<=$)){be.zoom=$;for(var je=this.trees[$+1],gt=je.within(be.x,be.y,Oe),St=be.numPoints||1,rt=St,_t=0,Wt=gt;_t<Wt.length;_t+=1){var Dt=je.points[Wt[_t]];Dt.zoom>$&&(rt+=Dt.numPoints||1)}if(rt>=ke){for(var it=be.x*St,Rt=be.y*St,kt=me&&St>1?this._map(be,!0):null,It=(Q<<5)+($+1)+this.points.length,Sr=0,Mt=gt;Sr<Mt.length;Sr+=1){var Nr=je.points[Mt[Sr]];if(!(Nr.zoom<=$)){Nr.zoom=$;var yn=Nr.numPoints||1;it+=Nr.x*yn,Rt+=Nr.y*yn,Nr.parentId=It,me&&(kt||(kt=this._map(be,!0)),me(kt,this._map(Nr)))}}be.parentId=It,X.push(Qn(it/rt,Rt/rt,It,rt,kt))}else if(X.push(be),rt>1)for(var Ar=0,qr=gt;Ar<qr.length;Ar+=1){var Fr=je.points[qr[Ar]];Fr.zoom<=$||(Fr.zoom=$,X.push(Fr))}}}return X},On.prototype._getOriginId=function(U){return U-this.points.length>>5},On.prototype._getOriginZoom=function(U){return(U-this.points.length)%32},On.prototype._map=function(U,$){if(U.numPoints)return $?de({},U.properties):U.properties;var X=this.points[U.index].properties,oe=this.options.map(X);return $&&oe===X?de({},oe):oe},eo.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},eo.prototype.splitTile=function(U,$,X,oe,me,ke,Oe){for(var Q=[U,$,X,oe],be=this.options,je=be.debug;Q.length;){oe=Q.pop(),X=Q.pop(),$=Q.pop(),U=Q.pop();var gt=1<<$,St=gi($,X,oe),rt=this.tiles[St];if(!rt&&(je>1&&console.time("creation"),rt=this.tiles[St]=ba(U,$,X,oe,be),this.tileCoords.push({z:$,x:X,y:oe}),je)){je>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",$,X,oe,rt.numFeatures,rt.numPoints,rt.numSimplified),console.timeEnd("creation"));var _t="z"+$;this.stats[_t]=(this.stats[_t]||0)+1,this.total++}if(rt.source=U,me){if($===be.maxZoom||$===me)continue;var Wt=1<<me-$;if(X!==Math.floor(ke/Wt)||oe!==Math.floor(Oe/Wt))continue}else if($===be.indexMaxZoom||rt.numPoints<=be.indexMaxPoints)continue;if(rt.source=null,U.length!==0){je>1&&console.time("clipping");var Dt,it,Rt,kt,It,Sr,Mt=.5*be.buffer/be.extent,Nr=.5-Mt,yn=.5+Mt,Ar=1+Mt;Dt=it=Rt=kt=null,It=Be(U,gt,X-Mt,X+yn,0,rt.minX,rt.maxX,be),Sr=Be(U,gt,X+Nr,X+Ar,0,rt.minX,rt.maxX,be),U=null,It&&(Dt=Be(It,gt,oe-Mt,oe+yn,1,rt.minY,rt.maxY,be),it=Be(It,gt,oe+Nr,oe+Ar,1,rt.minY,rt.maxY,be),It=null),Sr&&(Rt=Be(Sr,gt,oe-Mt,oe+yn,1,rt.minY,rt.maxY,be),kt=Be(Sr,gt,oe+Nr,oe+Ar,1,rt.minY,rt.maxY,be),Sr=null),je>1&&console.timeEnd("clipping"),Q.push(Dt||[],$+1,2*X,2*oe),Q.push(it||[],$+1,2*X,2*oe+1),Q.push(Rt||[],$+1,2*X+1,2*oe),Q.push(kt||[],$+1,2*X+1,2*oe+1)}}},eo.prototype.getTile=function(U,$,X){var oe=this.options,me=oe.extent,ke=oe.debug;if(U<0||U>24)return null;var Oe=1<<U,Q=gi(U,$=($%Oe+Oe)%Oe,X);if(this.tiles[Q])return si(this.tiles[Q],me);ke>1&&console.log("drilling down to z%d-%d-%d",U,$,X);for(var be,je=U,gt=$,St=X;!be&&je>0;)je--,gt=Math.floor(gt/2),St=Math.floor(St/2),be=this.tiles[gi(je,gt,St)];return be&&be.source?(ke>1&&console.log("found parent tile z%d-%d-%d",je,gt,St),ke>1&&console.time("drilling down"),this.splitTile(be.source,je,gt,St,U,$,X),ke>1&&console.timeEnd("drilling down"),this.tiles[Q]?si(this.tiles[Q],me):null):null};var $a=function(U){function $(X,oe,me,ke){U.call(this,X,oe,me,Wa),ke&&(this.loadGeoJSON=ke)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.loadData=function(X,oe){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=oe,this._pendingLoadDataParams=X,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},$.prototype._loadData=function(){var X=this;if(this._pendingCallback&&this._pendingLoadDataParams){var oe=this._pendingCallback,me=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ke=!!(me&&me.request&&me.request.collectResourceTiming)&&new o.RequestPerformance(me.request);this.loadGeoJSON(me,function(Oe,Q){if(Oe||!Q)return oe(Oe);if(typeof Q!="object")return oe(new Error("Input data given to '"+me.source+"' is not a valid GeoJSON object."));(function rt(_t,Wt){var Dt,it=_t&&_t.type;if(it==="FeatureCollection")for(Dt=0;Dt<_t.features.length;Dt++)rt(_t.features[Dt],Wt);else if(it==="GeometryCollection")for(Dt=0;Dt<_t.geometries.length;Dt++)rt(_t.geometries[Dt],Wt);else if(it==="Feature")rt(_t.geometry,Wt);else if(it==="Polygon")ce(_t.coordinates,Wt);else if(it==="MultiPolygon")for(Dt=0;Dt<_t.coordinates.length;Dt++)ce(_t.coordinates[Dt],Wt);return _t})(Q,!0);try{if(me.filter){var be=o.createExpression(me.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(be.result==="error")throw new Error(be.value.map(function(rt){return rt.key+": "+rt.message}).join(", "));var je=Q.features.filter(function(rt){return be.value.evaluate({zoom:0},rt)});Q={type:"FeatureCollection",features:je}}X._geoJSONIndex=me.cluster?new On(function(rt){var _t=rt.superclusterOptions,Wt=rt.clusterProperties;if(!Wt||!_t)return _t;for(var Dt={},it={},Rt={accumulated:null,zoom:0},kt={properties:null},It=Object.keys(Wt),Sr=0,Mt=It;Sr<Mt.length;Sr+=1){var Nr=Mt[Sr],yn=Wt[Nr],Ar=yn[0],qr=o.createExpression(yn[1]),Fr=o.createExpression(typeof Ar=="string"?[Ar,["accumulated"],["get",Nr]]:Ar);Dt[Nr]=qr.value,it[Nr]=Fr.value}return _t.map=function(Ei){kt.properties=Ei;for(var rn={},Vn=0,ln=It;Vn<ln.length;Vn+=1){var Er=ln[Vn];rn[Er]=Dt[Er].evaluate(Rt,kt)}return rn},_t.reduce=function(Ei,rn){kt.properties=rn;for(var Vn=0,ln=It;Vn<ln.length;Vn+=1){var Er=ln[Vn];Rt.accumulated=Ei[Er],Ei[Er]=it[Er].evaluate(Rt,kt)}},_t}(me)).load(Q.features):function(rt,_t){return new eo(rt,_t)}(Q,me.geojsonVtOptions)}catch(rt){return oe(rt)}X.loaded={};var gt={};if(ke){var St=ke.finish();St&&(gt.resourceTiming={},gt.resourceTiming[me.source]=JSON.parse(JSON.stringify(St)))}oe(null,gt)})}},$.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},$.prototype.reloadTile=function(X,oe){var me=this.loaded;return me&&me[X.uid]?U.prototype.reloadTile.call(this,X,oe):this.loadTile(X,oe)},$.prototype.loadGeoJSON=function(X,oe){if(X.request)o.getJSON(X.request,oe);else{if(typeof X.data!="string")return oe(new Error("Input data given to '"+X.source+"' is not a valid GeoJSON object."));try{return oe(null,JSON.parse(X.data))}catch{return oe(new Error("Input data given to '"+X.source+"' is not a valid GeoJSON object."))}}},$.prototype.removeSource=function(X,oe){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),oe()},$.prototype.getClusterExpansionZoom=function(X,oe){try{oe(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(me){oe(me)}},$.prototype.getClusterChildren=function(X,oe){try{oe(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(me){oe(me)}},$.prototype.getClusterLeaves=function(X,oe){try{oe(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(me){oe(me)}},$}(ee),tn=function(U){var $=this;this.self=U,this.actor=new o.Actor(U,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:ee,geojson:$a},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(X,oe){if($.workerSourceTypes[X])throw new Error('Worker source with name "'+X+'" already registered.');$.workerSourceTypes[X]=oe},this.self.registerRTLTextPlugin=function(X){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=X.applyArabicShaping,o.plugin.processBidirectionalText=X.processBidirectionalText,o.plugin.processStyledBidirectionalText=X.processStyledBidirectionalText}};return tn.prototype.setReferrer=function(U,$){this.referrer=$},tn.prototype.setImages=function(U,$,X){for(var oe in this.availableImages[U]=$,this.workerSources[U]){var me=this.workerSources[U][oe];for(var ke in me)me[ke].availableImages=$}X()},tn.prototype.setLayers=function(U,$,X){this.getLayerIndex(U).replace($),X()},tn.prototype.updateLayers=function(U,$,X){this.getLayerIndex(U).update($.layers,$.removedIds),X()},tn.prototype.loadTile=function(U,$,X){this.getWorkerSource(U,$.type,$.source).loadTile($,X)},tn.prototype.loadDEMTile=function(U,$,X){this.getDEMWorkerSource(U,$.source).loadTile($,X)},tn.prototype.reloadTile=function(U,$,X){this.getWorkerSource(U,$.type,$.source).reloadTile($,X)},tn.prototype.abortTile=function(U,$,X){this.getWorkerSource(U,$.type,$.source).abortTile($,X)},tn.prototype.removeTile=function(U,$,X){this.getWorkerSource(U,$.type,$.source).removeTile($,X)},tn.prototype.removeDEMTile=function(U,$){this.getDEMWorkerSource(U,$.source).removeTile($)},tn.prototype.removeSource=function(U,$,X){if(this.workerSources[U]&&this.workerSources[U][$.type]&&this.workerSources[U][$.type][$.source]){var oe=this.workerSources[U][$.type][$.source];delete this.workerSources[U][$.type][$.source],oe.removeSource!==void 0?oe.removeSource($,X):X()}},tn.prototype.loadWorkerSource=function(U,$,X){try{this.self.importScripts($.url),X()}catch(oe){X(oe.toString())}},tn.prototype.syncRTLPluginState=function(U,$,X){try{o.plugin.setState($);var oe=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&oe!=null){this.self.importScripts(oe);var me=o.plugin.isParsed();X(me?void 0:new Error("RTL Text Plugin failed to import scripts from "+oe),me)}}catch(ke){X(ke.toString())}},tn.prototype.getAvailableImages=function(U){var $=this.availableImages[U];return $||($=[]),$},tn.prototype.getLayerIndex=function(U){var $=this.layerIndexes[U];return $||($=this.layerIndexes[U]=new M),$},tn.prototype.getWorkerSource=function(U,$,X){var oe=this;return this.workerSources[U]||(this.workerSources[U]={}),this.workerSources[U][$]||(this.workerSources[U][$]={}),this.workerSources[U][$][X]||(this.workerSources[U][$][X]=new this.workerSourceTypes[$]({send:function(me,ke,Oe){oe.actor.send(me,ke,Oe,U)}},this.getLayerIndex(U),this.getAvailableImages(U))),this.workerSources[U][$][X]},tn.prototype.getDEMWorkerSource=function(U,$){return this.demWorkerSources[U]||(this.demWorkerSources[U]={}),this.demWorkerSources[U][$]||(this.demWorkerSources[U][$]=new ue),this.demWorkerSources[U][$]},tn.prototype.enforceCacheSizeLimit=function(U,$){o.enforceCacheSizeLimit($)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new tn(self)),tn}),m(["./shared"],function(o){var T=o.createCommonjsModule(function(s){function u(_){return!l(_)}function l(_){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,k,D=new Blob([""],{type:"text/javascript"}),H=URL.createObjectURL(D);try{k=new Worker(H),w=!0}catch{w=!1}return k&&k.terminate(),URL.revokeObjectURL(H),w}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var w=document.createElement("canvas");w.width=w.height=1;var k=w.getContext("2d");if(!k)return!1;var D=k.getImageData(0,0,1,1);return D&&D.width===w.width}()?(f[x=_&&_.failIfMajorPerformanceCaveat]===void 0&&(f[x]=function(w){var k=function(H){var J=document.createElement("canvas"),te=Object.create(u.webGLContextAttributes);return te.failIfMajorPerformanceCaveat=H,J.probablySupportsContext?J.probablySupportsContext("webgl",te)||J.probablySupportsContext("experimental-webgl",te):J.supportsContext?J.supportsContext("webgl",te)||J.supportsContext("experimental-webgl",te):J.getContext("webgl",te)||J.getContext("experimental-webgl",te)}(w);if(!k)return!1;var D=k.createShader(k.VERTEX_SHADER);return!(!D||k.isContextLost())&&(k.shaderSource(D,"void main() {}"),k.compileShader(D),k.getShaderParameter(D,k.COMPILE_STATUS)===!0)}(x)),f[x]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var x}s.exports?s.exports=u:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=u,window.mapboxgl.notSupportedReason=l);var f={};u.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),E={create:function(s,u,l){var f=o.window.document.createElement(s);return u!==void 0&&(f.className=u),l&&l.appendChild(f),f},createNS:function(s,u){return o.window.document.createElementNS(s,u)}},M=o.window.document&&o.window.document.documentElement.style;function R(s){if(!M)return s[0];for(var u=0;u<s.length;u++)if(s[u]in M)return s[u];return s[0]}var B,W=R(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);E.disableDrag=function(){M&&W&&(B=M[W],M[W]="none")},E.enableDrag=function(){M&&W&&(M[W]=B)};var ae=R(["transform","WebkitTransform"]);E.setTransform=function(s,u){s.style[ae]=u};var ee=!1;try{var re=Object.defineProperty({},"passive",{get:function(){ee=!0}});o.window.addEventListener("test",re,re),o.window.removeEventListener("test",re,re)}catch{ee=!1}E.addEventListener=function(s,u,l,f){f===void 0&&(f={}),s.addEventListener(u,l,"passive"in f&&ee?f:f.capture)},E.removeEventListener=function(s,u,l,f){f===void 0&&(f={}),s.removeEventListener(u,l,"passive"in f&&ee?f:f.capture)};var ue=function(s){s.preventDefault(),s.stopPropagation(),o.window.removeEventListener("click",ue,!0)};function ce(s){var u=s.userImage;return!!(u&&u.render&&u.render())&&(s.data.replace(new Uint8Array(u.data.buffer)),!0)}E.suppressClick=function(){o.window.addEventListener("click",ue,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",ue,!0)},0)},E.mousePos=function(s,u){var l=s.getBoundingClientRect();return new o.Point(u.clientX-l.left-s.clientLeft,u.clientY-l.top-s.clientTop)},E.touchPos=function(s,u){for(var l=s.getBoundingClientRect(),f=[],_=0;_<u.length;_++)f.push(new o.Point(u[_].clientX-l.left-s.clientLeft,u[_].clientY-l.top-s.clientTop));return f},E.mouseButton=function(s){return o.window.InstallTrigger!==void 0&&s.button===2&&s.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:s.button},E.remove=function(s){s.parentNode&&s.parentNode.removeChild(s)};var Pe=function(s){function u(){s.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.isLoaded=function(){return this.loaded},u.prototype.setLoaded=function(l){if(this.loaded!==l&&(this.loaded=l,l)){for(var f=0,_=this.requestors;f<_.length;f+=1){var x=_[f];this._notify(x.ids,x.callback)}this.requestors=[]}},u.prototype.getImage=function(l){return this.images[l]},u.prototype.addImage=function(l,f){this._validate(l,f)&&(this.images[l]=f)},u.prototype._validate=function(l,f){var _=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchX" value'))),_=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchY" value'))),_=!1),this._validateContent(f.content,f)||(this.fire(new o.ErrorEvent(new Error('Image "'+l+'" has invalid "content" value'))),_=!1),_},u.prototype._validateStretch=function(l,f){if(!l)return!0;for(var _=0,x=0,w=l;x<w.length;x+=1){var k=w[x];if(k[0]<_||k[1]<k[0]||f<k[1])return!1;_=k[1]}return!0},u.prototype._validateContent=function(l,f){return!(l&&(l.length!==4||l[0]<0||f.data.width<l[0]||l[1]<0||f.data.height<l[1]||l[2]<0||f.data.width<l[2]||l[3]<0||f.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))},u.prototype.updateImage=function(l,f){f.version=this.images[l].version+1,this.images[l]=f,this.updatedImages[l]=!0},u.prototype.removeImage=function(l){var f=this.images[l];delete this.images[l],delete this.patterns[l],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()},u.prototype.listImages=function(){return Object.keys(this.images)},u.prototype.getImages=function(l,f){var _=!0;if(!this.isLoaded())for(var x=0,w=l;x<w.length;x+=1)this.images[w[x]]||(_=!1);this.isLoaded()||_?this._notify(l,f):this.requestors.push({ids:l,callback:f})},u.prototype._notify=function(l,f){for(var _={},x=0,w=l;x<w.length;x+=1){var k=w[x];this.images[k]||this.fire(new o.Event("styleimagemissing",{id:k}));var D=this.images[k];D?_[k]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!!(D.userImage&&D.userImage.render)}:o.warnOnce('Image "'+k+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}f(null,_)},u.prototype.getPixelSize=function(){var l=this.atlasImage;return{width:l.width,height:l.height}},u.prototype.getPattern=function(l){var f=this.patterns[l],_=this.getImage(l);if(!_)return null;if(f&&f.position.version===_.version)return f.position;if(f)f.position.version=_.version;else{var x={w:_.data.width+2,h:_.data.height+2,x:0,y:0},w=new o.ImagePosition(x,_);this.patterns[l]={bin:x,position:w}}return this._updatePatternAtlas(),this.patterns[l].position},u.prototype.bind=function(l){var f=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(l,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)},u.prototype._updatePatternAtlas=function(){var l=[];for(var f in this.patterns)l.push(this.patterns[f].bin);var _=o.potpack(l),x=_.w,w=_.h,k=this.atlasImage;for(var D in k.resize({width:x||1,height:w||1}),this.patterns){var H=this.patterns[D].bin,J=H.x+1,te=H.y+1,ie=this.images[D].data,ve=ie.width,ye=ie.height;o.RGBAImage.copy(ie,k,{x:0,y:0},{x:J,y:te},{width:ve,height:ye}),o.RGBAImage.copy(ie,k,{x:0,y:ye-1},{x:J,y:te-1},{width:ve,height:1}),o.RGBAImage.copy(ie,k,{x:0,y:0},{x:J,y:te+ye},{width:ve,height:1}),o.RGBAImage.copy(ie,k,{x:ve-1,y:0},{x:J-1,y:te},{width:1,height:ye}),o.RGBAImage.copy(ie,k,{x:0,y:0},{x:J+ve,y:te},{width:1,height:ye})}this.dirty=!0},u.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},u.prototype.dispatchRenderCallbacks=function(l){for(var f=0,_=l;f<_.length;f+=1){var x=_[f];if(!this.callbackDispatchedThisFrame[x]){this.callbackDispatchedThisFrame[x]=!0;var w=this.images[x];ce(w)&&this.updateImage(x,w)}}},u}(o.Evented),Y=Me,se=Me,Se=1e20;function Me(s,u,l,f,_,x){this.fontSize=s||24,this.buffer=u===void 0?3:u,this.cutoff=f||.25,this.fontFamily=_||"sans-serif",this.fontWeight=x||"normal",this.radius=l||8;var w=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=w,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(w*w),this.gridInner=new Float64Array(w*w),this.f=new Float64Array(w),this.d=new Float64Array(w),this.z=new Float64Array(w+1),this.v=new Int16Array(w),this.middle=Math.round(w/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function C(s,u,l,f,_,x,w){for(var k=0;k<u;k++){for(var D=0;D<l;D++)f[D]=s[D*u+k];for(qe(f,_,x,w,l),D=0;D<l;D++)s[D*u+k]=_[D]}for(D=0;D<l;D++){for(k=0;k<u;k++)f[k]=s[D*u+k];for(qe(f,_,x,w,u),k=0;k<u;k++)s[D*u+k]=Math.sqrt(_[k])}}function qe(s,u,l,f,_){l[0]=0,f[0]=-Se,f[1]=+Se;for(var x=1,w=0;x<_;x++){for(var k=(s[x]+x*x-(s[l[w]]+l[w]*l[w]))/(2*x-2*l[w]);k<=f[w];)w--,k=(s[x]+x*x-(s[l[w]]+l[w]*l[w]))/(2*x-2*l[w]);l[++w]=x,f[w]=k,f[w+1]=+Se}for(x=0,w=0;x<_;x++){for(;f[w+1]<x;)w++;u[x]=(x-l[w])*(x-l[w])+s[l[w]]}}Me.prototype.draw=function(s){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(s,this.buffer,this.middle);for(var u=this.ctx.getImageData(0,0,this.size,this.size),l=new Uint8ClampedArray(this.size*this.size),f=0;f<this.size*this.size;f++){var _=u.data[4*f+3]/255;this.gridOuter[f]=_===1?0:_===0?Se:Math.pow(Math.max(0,.5-_),2),this.gridInner[f]=_===1?Se:_===0?0:Math.pow(Math.max(0,_-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),f=0;f<this.size*this.size;f++)l[f]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[f]-this.gridInner[f])/this.radius+this.cutoff))));return l},Y.default=se;var we=function(s,u){this.requestManager=s,this.localIdeographFontFamily=u,this.entries={}};we.prototype.setURL=function(s){this.url=s},we.prototype.getGlyphs=function(s,u){var l=this,f=[];for(var _ in s)for(var x=0,w=s[_];x<w.length;x+=1)f.push({stack:_,id:w[x]});o.asyncAll(f,function(k,D){var H=k.stack,J=k.id,te=l.entries[H];te||(te=l.entries[H]={glyphs:{},requests:{},ranges:{}});var ie=te.glyphs[J];if(ie===void 0){if(ie=l._tinySDF(te,H,J))return te.glyphs[J]=ie,void D(null,{stack:H,id:J,glyph:ie});var ve=Math.floor(J/256);if(256*ve>65535)D(new Error("glyphs > 65535 not supported"));else if(te.ranges[ve])D(null,{stack:H,id:J,glyph:ie});else{var ye=te.requests[ve];ye||(ye=te.requests[ve]=[],we.loadGlyphRange(H,ve,l.url,l.requestManager,function(Ie,he){if(he){for(var Ae in he)l._doesCharSupportLocalGlyph(+Ae)||(te.glyphs[+Ae]=he[+Ae]);te.ranges[ve]=!0}for(var De=0,He=ye;De<He.length;De+=1)(0,He[De])(Ie,he);delete te.requests[ve]})),ye.push(function(Ie,he){Ie?D(Ie):he&&D(null,{stack:H,id:J,glyph:he[J]||null})})}}else D(null,{stack:H,id:J,glyph:ie})},function(k,D){if(k)u(k);else if(D){for(var H={},J=0,te=D;J<te.length;J+=1){var ie=te[J],ve=ie.stack,ye=ie.id,Ie=ie.glyph;(H[ve]||(H[ve]={}))[ye]=Ie&&{id:Ie.id,bitmap:Ie.bitmap.clone(),metrics:Ie.metrics}}u(null,H)}})},we.prototype._doesCharSupportLocalGlyph=function(s){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"](s)||o.isChar["Hangul Syllables"](s)||o.isChar.Hiragana(s)||o.isChar.Katakana(s))},we.prototype._tinySDF=function(s,u,l){var f=this.localIdeographFontFamily;if(f&&this._doesCharSupportLocalGlyph(l)){var _=s.tinySDF;if(!_){var x="400";/bold/i.test(u)?x="900":/medium/i.test(u)?x="500":/light/i.test(u)&&(x="200"),_=s.tinySDF=new we.TinySDF(24,3,8,.25,f,x)}return{id:l,bitmap:new o.AlphaImage({width:30,height:30},_.draw(String.fromCharCode(l))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},we.loadGlyphRange=function(s,u,l,f,_){var x=256*u,w=x+255,k=f.transformRequest(f.normalizeGlyphsURL(l).replace("{fontstack}",s).replace("{range}",x+"-"+w),o.ResourceType.Glyphs);o.getArrayBuffer(k,function(D,H){if(D)_(D);else if(H){for(var J={},te=0,ie=o.parseGlyphPBF(H);te<ie.length;te+=1){var ve=ie[te];J[ve.id]=ve}_(null,J)}})},we.TinySDF=Y;var Xe=function(){this.specification=o.styleSpec.light.position};Xe.prototype.possiblyEvaluate=function(s,u){return o.sphericalToCartesian(s.expression.evaluate(u))},Xe.prototype.interpolate=function(s,u,l){return{x:o.number(s.x,u.x,l),y:o.number(s.y,u.y,l),z:o.number(s.z,u.z,l)}};var xt=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new Xe,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),Ge=function(s){function u(l){s.call(this),this._transitionable=new o.Transitionable(xt),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getLight=function(){return this._transitionable.serialize()},u.prototype.setLight=function(l,f){if(f===void 0&&(f={}),!this._validate(o.validateLight,l,f))for(var _ in l){var x=l[_];o.endsWith(_,"-transition")?this._transitionable.setTransition(_.slice(0,-11),x):this._transitionable.setValue(_,x)}},u.prototype.updateTransitions=function(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)},u.prototype.hasTransition=function(){return this._transitioning.hasTransition()},u.prototype.recalculate=function(l){this.properties=this._transitioning.possiblyEvaluate(l)},u.prototype._validate=function(l,f,_){return(!_||_.validate!==!1)&&o.emitValidationErrors(this,l.call(o.validateStyle,o.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},u}(o.Evented),tt=function(s,u){this.width=s,this.height=u,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};tt.prototype.getDash=function(s,u){var l=s.join(",")+String(u);return this.dashEntry[l]||(this.dashEntry[l]=this.addDash(s,u)),this.dashEntry[l]},tt.prototype.getDashRanges=function(s,u,l){var f=[],_=s.length%2==1?-s[s.length-1]*l:0,x=s[0]*l,w=!0;f.push({left:_,right:x,isDash:w,zeroLength:s[0]===0});for(var k=s[0],D=1;D<s.length;D++){var H=s[D];f.push({left:_=k*l,right:x=(k+=H)*l,isDash:w=!w,zeroLength:H===0})}return f},tt.prototype.addRoundDash=function(s,u,l){for(var f=u/2,_=-l;_<=l;_++)for(var x=this.width*(this.nextRow+l+_),w=0,k=s[w],D=0;D<this.width;D++){D/k.right>1&&(k=s[++w]);var H=Math.abs(D-k.left),J=Math.abs(D-k.right),te=Math.min(H,J),ie=void 0,ve=_/l*(f+1);if(k.isDash){var ye=f-Math.abs(ve);ie=Math.sqrt(te*te+ye*ye)}else ie=f-Math.sqrt(te*te+ve*ve);this.data[x+D]=Math.max(0,Math.min(255,ie+128))}},tt.prototype.addRegularDash=function(s){for(var u=s.length-1;u>=0;--u){var l=s[u],f=s[u+1];l.zeroLength?s.splice(u,1):f&&f.isDash===l.isDash&&(f.left=l.left,s.splice(u,1))}var _=s[0],x=s[s.length-1];_.isDash===x.isDash&&(_.left=x.left-this.width,x.right=_.right+this.width);for(var w=this.width*this.nextRow,k=0,D=s[k],H=0;H<this.width;H++){H/D.right>1&&(D=s[++k]);var J=Math.abs(H-D.left),te=Math.abs(H-D.right),ie=Math.min(J,te);this.data[w+H]=Math.max(0,Math.min(255,(D.isDash?ie:-ie)+128))}},tt.prototype.addDash=function(s,u){var l=u?7:0,f=2*l+1;if(this.nextRow+f>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var _=0,x=0;x<s.length;x++)_+=s[x];if(_!==0){var w=this.width/_,k=this.getDashRanges(s,this.width,w);u?this.addRoundDash(k,w,l):this.addRegularDash(k)}var D={y:(this.nextRow+l+.5)/this.height,height:2*l/this.height,width:_};return this.nextRow+=f,this.dirty=!0,D},tt.prototype.bind=function(s){var u=s.gl;this.texture?(u.bindTexture(u.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.width,this.height,u.ALPHA,u.UNSIGNED_BYTE,this.data))):(this.texture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,this.width,this.height,0,u.ALPHA,u.UNSIGNED_BYTE,this.data))};var Ht=function s(u,l){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var f=this.workerPool.acquire(this.id),_=0;_<f.length;_++){var x=new s.Actor(f[_],l,this.id);x.name="Worker "+_,this.actors.push(x)}};function fr(s,u,l){var f=function(_,x){if(_)return l(_);if(x){var w=o.pick(o.extend(x,s),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(w.vectorLayers=x.vector_layers,w.vectorLayerIds=w.vectorLayers.map(function(k){return k.id})),w.tiles=u.canonicalizeTileset(w,s.url),l(null,w)}};return s.url?o.getJSON(u.transformRequest(u.normalizeSourceURL(s.url),o.ResourceType.Source),f):o.browser.frame(function(){return f(null,s)})}Ht.prototype.broadcast=function(s,u,l){o.asyncAll(this.actors,function(f,_){f.send(s,u,_)},l=l||function(){})},Ht.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Ht.prototype.remove=function(){this.actors.forEach(function(s){s.remove()}),this.actors=[],this.workerPool.release(this.id)},Ht.Actor=o.Actor;var Lt=function(s,u,l){this.bounds=o.LngLatBounds.convert(this.validateBounds(s)),this.minzoom=u||0,this.maxzoom=l||24};Lt.prototype.validateBounds=function(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]},Lt.prototype.contains=function(s){var u=Math.pow(2,s.z),l=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*u),f=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*u),_=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*u),x=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*u);return s.x>=l&&s.x<_&&s.y>=f&&s.y<x};var Jt=function(s){function u(l,f,_,x){if(s.call(this),this.id=l,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(f,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=fr(this._options,this.map._requestManager,function(f,_){l._tileJSONRequest=null,l._loaded=!0,f?l.fire(new o.ErrorEvent(f)):_&&(o.extend(l,_),_.bounds&&(l.tileBounds=new Lt(_.bounds,l.minzoom,l.maxzoom)),o.postTurnstileEvent(_.tiles,l.map._requestManager._customAccessToken),o.postMapLoadEvent(_.tiles,l.map._getMapId(),l.map._requestManager._skuToken,l.map._requestManager._customAccessToken),l.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},u.prototype.loaded=function(){return this._loaded},u.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},u.prototype.onAdd=function(l){this.map=l,this.load()},u.prototype.setSourceProperty=function(l){this._tileJSONRequest&&this._tileJSONRequest.cancel(),l(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},u.prototype.setTiles=function(l){var f=this;return this.setSourceProperty(function(){f._options.tiles=l}),this},u.prototype.setUrl=function(l){var f=this;return this.setSourceProperty(function(){f.url=l,f._options.url=l}),this},u.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},u.prototype.serialize=function(){return o.extend({},this._options)},u.prototype.loadTile=function(l,f){var _=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(_,o.ResourceType.Tile),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function w(k,D){return delete l.request,l.aborted?f(null):k&&k.status!==404?f(k):(D&&D.resourceTiming&&(l.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&l.setExpiryData(D),l.loadVectorData(D,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}x.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired"?l.state==="loading"?l.reloadCallback=f:l.request=l.actor.send("reloadTile",x,w.bind(this)):(l.actor=this.dispatcher.getActor(),l.request=l.actor.send("loadTile",x,w.bind(this)))},u.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id},void 0)},u.prototype.unloadTile=function(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id},void 0)},u.prototype.hasTransition=function(){return!1},u}(o.Evented),Zt=function(s){function u(l,f,_,x){s.call(this),this.id=l,this.dispatcher=_,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},f),o.extend(this,o.pick(f,["url","scheme","tileSize"]))}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=fr(this._options,this.map._requestManager,function(f,_){l._tileJSONRequest=null,l._loaded=!0,f?l.fire(new o.ErrorEvent(f)):_&&(o.extend(l,_),_.bounds&&(l.tileBounds=new Lt(_.bounds,l.minzoom,l.maxzoom)),o.postTurnstileEvent(_.tiles),o.postMapLoadEvent(_.tiles,l.map._getMapId(),l.map._requestManager._skuToken),l.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},u.prototype.loaded=function(){return this._loaded},u.prototype.onAdd=function(l){this.map=l,this.load()},u.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},u.prototype.serialize=function(){return o.extend({},this._options)},u.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},u.prototype.loadTile=function(l,f){var _=this,x=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);l.request=o.getImage(this.map._requestManager.transformRequest(x,o.ResourceType.Tile),function(w,k){if(delete l.request,l.aborted)l.state="unloaded",f(null);else if(w)l.state="errored",f(w);else if(k){_.map._refreshExpiredTiles&&l.setExpiryData(k),delete k.cacheControl,delete k.expires;var D=_.map.painter.context,H=D.gl;l.texture=_.map.painter.getTileTexture(k.width),l.texture?l.texture.update(k,{useMipmap:!0}):(l.texture=new o.Texture(D,k,H.RGBA,{useMipmap:!0}),l.texture.bind(H.LINEAR,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),D.extTextureFilterAnisotropic&&H.texParameterf(H.TEXTURE_2D,D.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,D.extTextureFilterAnisotropicMax)),l.state="loaded",o.cacheEntryPossiblyAdded(_.dispatcher),f(null)}})},u.prototype.abortTile=function(l,f){l.request&&(l.request.cancel(),delete l.request),f()},u.prototype.unloadTile=function(l,f){l.texture&&this.map.painter.saveTileTexture(l.texture),f()},u.prototype.hasTransition=function(){return!1},u}(o.Evented),Zr=function(s){function u(l,f,_,x){s.call(this,l,f,_,x),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox"}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},u.prototype.loadTile=function(l,f){var _=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function x(w,k){w&&(l.state="errored",f(w)),k&&(l.dem=k,l.needsHillshadePrepare=!0,l.state="loaded",f(null))}l.request=o.getImage(this.map._requestManager.transformRequest(_,o.ResourceType.Tile),(function(w,k){if(delete l.request,l.aborted)l.state="unloaded",f(null);else if(w)l.state="errored",f(w);else if(k){this.map._refreshExpiredTiles&&l.setExpiryData(k),delete k.cacheControl,delete k.expires;var D=o.window.ImageBitmap&&k instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported()?k:o.browser.getImageData(k,1),H={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:D,encoding:this.encoding};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",H,x.bind(this)))}}).bind(this)),l.neighboringTiles=this._getNeighboringTiles(l.tileID)},u.prototype._getNeighboringTiles=function(l){var f=l.canonical,_=Math.pow(2,f.z),x=(f.x-1+_)%_,w=f.x===0?l.wrap-1:l.wrap,k=(f.x+1+_)%_,D=f.x+1===_?l.wrap+1:l.wrap,H={};return H[new o.OverscaledTileID(l.overscaledZ,w,f.z,x,f.y).key]={backfilled:!1},H[new o.OverscaledTileID(l.overscaledZ,D,f.z,k,f.y).key]={backfilled:!1},f.y>0&&(H[new o.OverscaledTileID(l.overscaledZ,w,f.z,x,f.y-1).key]={backfilled:!1},H[new o.OverscaledTileID(l.overscaledZ,l.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},H[new o.OverscaledTileID(l.overscaledZ,D,f.z,k,f.y-1).key]={backfilled:!1}),f.y+1<_&&(H[new o.OverscaledTileID(l.overscaledZ,w,f.z,x,f.y+1).key]={backfilled:!1},H[new o.OverscaledTileID(l.overscaledZ,l.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},H[new o.OverscaledTileID(l.overscaledZ,D,f.z,k,f.y+1).key]={backfilled:!1}),H},u.prototype.unloadTile=function(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&l.actor.send("removeDEMTile",{uid:l.uid,source:this.id})},u}(Zt),Mn=function(s){function u(l,f,_,x){s.call(this),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=_.getActor(),this.setEventedParent(x),this._data=f.data,this._options=o.extend({},f),this._collectResourceTiming=f.collectResourceTiming,this._resourceTiming=[],f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;var w=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(f.buffer!==void 0?f.buffer:128)*w,tolerance:(f.tolerance!==void 0?f.tolerance:.375)*w,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:f.clusterMaxZoom!==void 0?Math.min(f.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:o.EXTENT,radius:(f.clusterRadius||50)*w,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.load=function(){var l=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(f){if(f)l.fire(new o.ErrorEvent(f));else{var _={dataType:"source",sourceDataType:"metadata"};l._collectResourceTiming&&l._resourceTiming&&l._resourceTiming.length>0&&(_.resourceTiming=l._resourceTiming,l._resourceTiming=[]),l.fire(new o.Event("data",_))}})},u.prototype.onAdd=function(l){this.map=l,this.load()},u.prototype.setData=function(l){var f=this;return this._data=l,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(_){if(_)f.fire(new o.ErrorEvent(_));else{var x={dataType:"source",sourceDataType:"content"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(x.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new o.Event("data",x))}}),this},u.prototype.getClusterExpansionZoom=function(l,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},f),this},u.prototype.getClusterChildren=function(l,f){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},f),this},u.prototype.getClusterLeaves=function(l,f,_,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:f,offset:_},x),this},u.prototype._updateWorkerData=function(l){var f=this;this._loaded=!1;var _=o.extend({},this.workerOptions),x=this._data;typeof x=="string"?(_.request=this.map._requestManager.transformRequest(o.browser.resolveURL(x),o.ResourceType.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(x),this.actor.send(this.type+".loadData",_,function(w,k){f._removed||k&&k.abandoned||(f._loaded=!0,k&&k.resourceTiming&&k.resourceTiming[f.id]&&(f._resourceTiming=k.resourceTiming[f.id].slice(0)),f.actor.send(f.type+".coalesce",{source:_.source},null),l(w))})},u.prototype.loaded=function(){return this._loaded},u.prototype.loadTile=function(l,f){var _=this,x=l.actor?"reloadTile":"loadTile";l.actor=this.actor,l.request=this.actor.send(x,{type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(w,k){return delete l.request,l.unloadVectorData(),l.aborted?f(null):w?f(w):(l.loadVectorData(k,_.map.painter,x==="reloadTile"),f(null))})},u.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0},u.prototype.unloadTile=function(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})},u.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},u.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},u.prototype.hasTransition=function(){return!1},u}(o.Evented),Kr=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Yr=function(s){function u(l,f,_,x){s.call(this),this.id=l,this.dispatcher=_,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=f}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.load=function(l,f){var _=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(x,w){_._loaded=!0,x?_.fire(new o.ErrorEvent(x)):w&&(_.image=w,l&&(_.coordinates=l),f&&f(),_._finishLoading())})},u.prototype.loaded=function(){return this._loaded},u.prototype.updateImage=function(l){var f=this;return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,function(){f.texture=null}),this):this},u.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},u.prototype.onAdd=function(l){this.map=l,this.load()},u.prototype.setCoordinates=function(l){var f=this;this.coordinates=l;var _=l.map(o.MercatorCoordinate.fromLngLat);this.tileID=function(w){for(var k=1/0,D=1/0,H=-1/0,J=-1/0,te=0,ie=w;te<ie.length;te+=1){var ve=ie[te];k=Math.min(k,ve.x),D=Math.min(D,ve.y),H=Math.max(H,ve.x),J=Math.max(J,ve.y)}var ye=Math.max(H-k,J-D),Ie=Math.max(0,Math.floor(-Math.log(ye)/Math.LN2)),he=Math.pow(2,Ie);return new o.CanonicalTileID(Ie,Math.floor((k+H)/2*he),Math.floor((D+J)/2*he))}(_),this.minzoom=this.maxzoom=this.tileID.z;var x=_.map(function(w){return f.tileID.getTilePoint(w)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(x[0].x,x[0].y,0,0),this._boundsArray.emplaceBack(x[1].x,x[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(x[3].x,x[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(x[2].x,x[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},u.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var l=this.map.painter.context,f=l.gl;for(var _ in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kr.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture(l,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this.tiles){var x=this.tiles[_];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}},u.prototype.loadTile=function(l,f){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},f(null)):(l.state="errored",f(null))},u.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},u.prototype.hasTransition=function(){return!1},u}(o.Evented),mi=function(s){function u(l,f,_,x){s.call(this,l,f,_,x),this.roundZoom=!0,this.type="video",this.options=f}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.load=function(){var l=this;this._loaded=!1;var f=this.options;this.urls=[];for(var _=0,x=f.urls;_<x.length;_+=1)this.urls.push(this.map._requestManager.transformRequest(x[_],o.ResourceType.Source).url);o.getVideo(this.urls,function(w,k){l._loaded=!0,w?l.fire(new o.ErrorEvent(w)):k&&(l.video=k,l.video.loop=!0,l.video.setAttribute("playsinline",""),l.video.addEventListener("playing",function(){l.map.triggerRepaint()}),l.map&&l.video.play(),l._finishLoading())})},u.prototype.pause=function(){this.video&&this.video.pause()},u.prototype.play=function(){this.video&&this.video.play()},u.prototype.seek=function(l){if(this.video){var f=this.video.seekable;l<f.start(0)||l>f.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+f.start(0)+" and "+f.end(0)+"-second mark."))):this.video.currentTime=l}},u.prototype.getVideo=function(){return this.video},u.prototype.onAdd=function(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},u.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var l=this.map.painter.context,f=l.gl;for(var _ in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kr.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(l,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this.tiles){var x=this.tiles[_];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}},u.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},u.prototype.hasTransition=function(){return this.video&&!this.video.paused},u}(Yr),Ti=function(s){function u(l,f,_,x){s.call(this,l,f,_,x),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(function(w){return!Array.isArray(w)||w.length!==2||w.some(function(k){return typeof k!="number"})})||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+l,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+l,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+l,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof o.window.HTMLCanvasElement||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+l,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+l,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},u.prototype.getCanvas=function(){return this.canvas},u.prototype.onAdd=function(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()},u.prototype.onRemove=function(){this.pause()},u.prototype.prepare=function(){var l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var f=this.map.painter.context,_=f.gl;for(var x in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,Kr.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(f,this.canvas,_.RGBA,{premultiply:!0}),this.tiles){var w=this.tiles[x];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture)}}},u.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},u.prototype.hasTransition=function(){return this._playing},u.prototype._hasInvalidDimensions=function(){for(var l=0,f=[this.canvas.width,this.canvas.height];l<f.length;l+=1){var _=f[l];if(isNaN(_)||_<=0)return!0}return!1},u}(Yr),gn={vector:Jt,raster:Zt,"raster-dem":Zr,geojson:Mn,video:mi,image:Yr,canvas:Ti};function En(s,u){var l=o.identity([]);return o.translate(l,l,[1,1,0]),o.scale(l,l,[.5*s.width,.5*s.height,1]),o.multiply(l,l,s.calculatePosMatrix(u.toUnwrapped()))}function On(s,u,l,f,_,x){var w=function(Ie,he,Ae){if(Ie)for(var De=0,He=Ie;De<He.length;De+=1){var nt=he[He[De]];if(nt&&nt.source===Ae&&nt.type==="fill-extrusion")return!0}else for(var Ke in he){var ot=he[Ke];if(ot.source===Ae&&ot.type==="fill-extrusion")return!0}return!1}(_&&_.layers,u,s.id),k=x.maxPitchScaleFactor(),D=s.tilesIn(f,k,w);D.sort(Qn);for(var H=[],J=0,te=D;J<te.length;J+=1){var ie=te[J];H.push({wrappedTileID:ie.tileID.wrapped().key,queryResults:ie.tile.queryRenderedFeatures(u,l,s._state,ie.queryGeometry,ie.cameraQueryGeometry,ie.scale,_,x,k,En(s.transform,ie.tileID))})}var ve=function(Ie){for(var he={},Ae={},De=0,He=Ie;De<He.length;De+=1){var nt=He[De],Ke=nt.queryResults,ot=nt.wrappedTileID,yt=Ae[ot]=Ae[ot]||{};for(var At in Ke)for(var Ct=Ke[At],jt=yt[At]=yt[At]||{},ir=he[At]=he[At]||[],cr=0,ur=Ct;cr<ur.length;cr+=1){var on=ur[cr];jt[on.featureIndex]||(jt[on.featureIndex]=!0,ir.push(on))}}return he}(H);for(var ye in ve)ve[ye].forEach(function(Ie){var he=Ie.feature,Ae=s.getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=Ae});return ve}function Qn(s,u){var l=s.tileID,f=u.tileID;return l.overscaledZ-f.overscaledZ||l.canonical.y-f.canonical.y||l.wrap-f.wrap||l.canonical.x-f.canonical.x}var Cr=function(s,u){this.max=s,this.onRemove=u,this.reset()};Cr.prototype.reset=function(){for(var s in this.data)for(var u=0,l=this.data[s];u<l.length;u+=1){var f=l[u];f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value)}return this.data={},this.order=[],this},Cr.prototype.add=function(s,u,l){var f=this,_=s.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);var x={value:u,timeout:void 0};if(l!==void 0&&(x.timeout=setTimeout(function(){f.remove(s,x)},l)),this.data[_].push(x),this.order.push(_),this.order.length>this.max){var w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this},Cr.prototype.has=function(s){return s.wrapped().key in this.data},Cr.prototype.getAndRemove=function(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null},Cr.prototype._getAndRemoveByKey=function(s){var u=this.data[s].shift();return u.timeout&&clearTimeout(u.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),u.value},Cr.prototype.getByKey=function(s){var u=this.data[s];return u?u[0].value:null},Cr.prototype.get=function(s){return this.has(s)?this.data[s.wrapped().key][0].value:null},Cr.prototype.remove=function(s,u){if(!this.has(s))return this;var l=s.wrapped().key,f=u===void 0?0:this.data[l].indexOf(u),_=this.data[l][f];return this.data[l].splice(f,1),_.timeout&&clearTimeout(_.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(_.value),this.order.splice(this.order.indexOf(l),1),this},Cr.prototype.setMaxSize=function(s){for(this.max=s;this.order.length>this.max;){var u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this},Cr.prototype.filter=function(s){var u=[];for(var l in this.data)for(var f=0,_=this.data[l];f<_.length;f+=1){var x=_[f];s(x.value)||u.push(x)}for(var w=0,k=u;w<k.length;w+=1){var D=k[w];this.remove(D.value.tileID,D)}};var sn=function(s,u,l){this.context=s;var f=s.gl;this.buffer=f.createBuffer(),this.dynamicDraw=!!l,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer};sn.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},sn.prototype.updateData=function(s){var u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)},sn.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Mi={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},_n=function(s,u,l,f){this.length=u.length,this.attributes=l,this.itemSize=u.bytesPerElement,this.dynamicDraw=f,this.context=s;var _=s.gl;this.buffer=_.createBuffer(),s.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer};_n.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},_n.prototype.updateData=function(s){var u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,s.arrayBuffer)},_n.prototype.enableAttributes=function(s,u){for(var l=0;l<this.attributes.length;l++){var f=u.attributes[this.attributes[l].name];f!==void 0&&s.enableVertexAttribArray(f)}},_n.prototype.setVertexAttribPointers=function(s,u,l){for(var f=0;f<this.attributes.length;f++){var _=this.attributes[f],x=u.attributes[_.name];x!==void 0&&s.vertexAttribPointer(x,_.components,s[Mi[_.type]],!1,this.itemSize,_.offset+this.itemSize*(l||0))}},_n.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var xe=function(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};xe.prototype.get=function(){return this.current},xe.prototype.set=function(s){},xe.prototype.getDefault=function(){return this.default},xe.prototype.setDefault=function(){this.set(this.default)};var de=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return o.Color.transparent},u.prototype.set=function(l){var f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},u}(xe),$e=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return 1},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)},u}(xe),vt=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return 0},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)},u}(xe),bt=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return[!0,!0,!0,!0]},u.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},u}(xe),dt=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return!0},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)},u}(xe),Ft=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return 255},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)},u}(xe),le=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},u.prototype.set=function(l){var f=this.current;(l.func!==f.func||l.ref!==f.ref||l.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)},u}(xe),pe=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){var l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]},u.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)},u}(xe),Ne=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return!1},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=l,this.dirty=!1}},u}(xe),ht=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return[0,1]},u.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)},u}(xe),wt=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return!1},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=l,this.dirty=!1}},u}(xe),Ve=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return this.gl.LESS},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)},u}(xe),Be=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return!1},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.BLEND):f.disable(f.BLEND),this.current=l,this.dirty=!1}},u}(xe),lt=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){var l=this.gl;return[l.ONE,l.ZERO]},u.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)},u}(xe),hr=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return o.Color.transparent},u.prototype.set=function(l){var f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},u}(xe),pr=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return this.gl.FUNC_ADD},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)},u}(xe),wn=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return!1},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=l,this.dirty=!1}},u}(xe),Sn=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return this.gl.BACK},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)},u}(xe),Ln=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return this.gl.CCW},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)},u}(xe),pn=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)},u}(xe),ei=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return this.gl.TEXTURE0},u.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)},u}(xe),Hi=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){var l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]},u.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},u}(xe),si=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,l),this.current=l,this.dirty=!1}},u}(xe),li=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,l),this.current=l,this.dirty=!1}},u}(xe),ba=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindTexture(f.TEXTURE_2D,l),this.current=l,this.dirty=!1}},u}(xe),Ha=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}},u}(xe),Wi=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u.prototype.set=function(l){var f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1},u}(xe),eo=function(s){function u(l){s.call(this,l),this.vao=l.extVertexArrayObject}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u.prototype.set=function(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)},u}(xe),gi=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return 4},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}},u}(xe),Wa=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return!1},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}},u}(xe),$a=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return!1},u.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}},u}(xe),tn=function(s){function u(l,f){s.call(this,l),this.context=l,this.parent=f}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getDefault=function(){return null},u}(xe),U=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.setDirty=function(){this.dirty=!0},u.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}},u}(tn),$=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,l),this.current=l,this.dirty=!1}},u}(tn),X=function(s,u,l,f){this.context=s,this.width=u,this.height=l;var _=this.framebuffer=s.gl.createFramebuffer();this.colorAttachment=new U(s,_),f&&(this.depthAttachment=new $(s,_))};X.prototype.destroy=function(){var s=this.context.gl,u=this.colorAttachment.get();if(u&&s.deleteTexture(u),this.depthAttachment){var l=this.depthAttachment.get();l&&s.deleteRenderbuffer(l)}s.deleteFramebuffer(this.framebuffer)};var oe=function(s,u,l){this.func=s,this.mask=u,this.range=l};oe.ReadOnly=!1,oe.ReadWrite=!0,oe.disabled=new oe(519,oe.ReadOnly,[0,1]);var me=function(s,u,l,f,_,x){this.test=s,this.ref=u,this.mask=l,this.fail=f,this.depthFail=_,this.pass=x};me.disabled=new me({func:519,mask:0},0,0,7680,7680,7680);var ke=function(s,u,l){this.blendFunction=s,this.blendColor=u,this.mask=l};ke.disabled=new ke(ke.Replace=[1,0],o.Color.transparent,[!1,!1,!1,!1]),ke.unblended=new ke(ke.Replace,o.Color.transparent,[!0,!0,!0,!0]),ke.alphaBlended=new ke([1,771],o.Color.transparent,[!0,!0,!0,!0]);var Oe=function(s,u,l){this.enable=s,this.mode=u,this.frontFace=l};Oe.disabled=new Oe(!1,1029,2305),Oe.backCCW=new Oe(!0,1029,2305);var Q=function(s){this.gl=s,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new de(this),this.clearDepth=new $e(this),this.clearStencil=new vt(this),this.colorMask=new bt(this),this.depthMask=new dt(this),this.stencilMask=new Ft(this),this.stencilFunc=new le(this),this.stencilOp=new pe(this),this.stencilTest=new Ne(this),this.depthRange=new ht(this),this.depthTest=new wt(this),this.depthFunc=new Ve(this),this.blend=new Be(this),this.blendFunc=new lt(this),this.blendColor=new hr(this),this.blendEquation=new pr(this),this.cullFace=new wn(this),this.cullFaceSide=new Sn(this),this.frontFace=new Ln(this),this.program=new pn(this),this.activeTexture=new ei(this),this.viewport=new Hi(this),this.bindFramebuffer=new si(this),this.bindRenderbuffer=new li(this),this.bindTexture=new ba(this),this.bindVertexBuffer=new Ha(this),this.bindElementBuffer=new Wi(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new eo(this),this.pixelStoreUnpack=new gi(this),this.pixelStoreUnpackPremultiplyAlpha=new Wa(this),this.pixelStoreUnpackFlipY=new $a(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=s.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(s.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=s.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=s.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE)};Q.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Q.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Q.prototype.createIndexBuffer=function(s,u){return new sn(this,s,u)},Q.prototype.createVertexBuffer=function(s,u,l){return new _n(this,s,u,l)},Q.prototype.createRenderbuffer=function(s,u,l){var f=this.gl,_=f.createRenderbuffer();return this.bindRenderbuffer.set(_),f.renderbufferStorage(f.RENDERBUFFER,s,u,l),this.bindRenderbuffer.set(null),_},Q.prototype.createFramebuffer=function(s,u,l){return new X(this,s,u,l)},Q.prototype.clear=function(s){var u=s.color,l=s.depth,f=this.gl,_=0;u&&(_|=f.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),l!==void 0&&(_|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),f.clear(_)},Q.prototype.setCullFace=function(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))},Q.prototype.setDepthMode=function(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)},Q.prototype.setStencilMode=function(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)},Q.prototype.setColorMode=function(s){o.deepEqual(s.blendFunction,ke.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)},Q.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var be=function(s){function u(l,f,_){var x=this;s.call(this),this.id=l,this.dispatcher=_,this.on("data",function(w){w.dataType==="source"&&w.sourceDataType==="metadata"&&(x._sourceLoaded=!0),x._sourceLoaded&&!x._paused&&w.dataType==="source"&&w.sourceDataType==="content"&&(x.reload(),x.transform&&x.update(x.transform))}),this.on("error",function(){x._sourceErrored=!0}),this._source=function(w,k,D,H){var J=new gn[k.type](w,k,D,H);if(J.id!==w)throw new Error("Expected Source id to be "+w+" instead of "+J.id);return o.bindAll(["load","abort","unload","serialize","prepare"],J),J}(l,f,_,this),this._tiles={},this._cache=new Cr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.onAdd=function(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(l)},u.prototype.onRemove=function(l){this._source&&this._source.onRemove&&this._source.onRemove(l)},u.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var l in this._tiles){var f=this._tiles[l];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0},u.prototype.getSource=function(){return this._source},u.prototype.pause=function(){this._paused=!0},u.prototype.resume=function(){if(this._paused){var l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform)}},u.prototype._loadTile=function(l,f){return this._source.loadTile(l,f)},u.prototype._unloadTile=function(l){if(this._source.unloadTile)return this._source.unloadTile(l,function(){})},u.prototype._abortTile=function(l){if(this._source.abortTile)return this._source.abortTile(l,function(){})},u.prototype.serialize=function(){return this._source.serialize()},u.prototype.prepare=function(l){for(var f in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var _=this._tiles[f];_.upload(l),_.prepare(this.map.style.imageManager)}},u.prototype.getIds=function(){return o.values(this._tiles).map(function(l){return l.tileID}).sort(je).map(function(l){return l.key})},u.prototype.getRenderableIds=function(l){var f=this,_=[];for(var x in this._tiles)this._isIdRenderable(x,l)&&_.push(this._tiles[x]);return l?_.sort(function(w,k){var D=w.tileID,H=k.tileID,J=new o.Point(D.canonical.x,D.canonical.y)._rotate(f.transform.angle),te=new o.Point(H.canonical.x,H.canonical.y)._rotate(f.transform.angle);return D.overscaledZ-H.overscaledZ||te.y-J.y||te.x-J.x}).map(function(w){return w.tileID.key}):_.map(function(w){return w.tileID}).sort(je).map(function(w){return w.key})},u.prototype.hasRenderableParent=function(l){var f=this.findLoadedParent(l,0);return!!f&&this._isIdRenderable(f.tileID.key)},u.prototype._isIdRenderable=function(l,f){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(f||!this._tiles[l].holdingForFade())},u.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var l in this._cache.reset(),this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")},u.prototype._reloadTile=function(l,f){var _=this._tiles[l];_&&(_.state!=="loading"&&(_.state=f),this._loadTile(_,this._tileLoaded.bind(this,_,l,f)))},u.prototype._tileLoaded=function(l,f,_,x){if(x)return l.state="errored",void(x.status!==404?this._source.fire(new o.ErrorEvent(x,{tile:l})):this.update(this.transform));l.timeAdded=o.browser.now(),_==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(f,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:l,coord:l.tileID}))},u.prototype._backfillDEM=function(l){for(var f=this.getRenderableIds(),_=0;_<f.length;_++){var x=f[_];if(l.neighboringTiles&&l.neighboringTiles[x]){var w=this.getTileByID(x);k(l,w),k(w,l)}}function k(D,H){D.needsHillshadePrepare=!0;var J=H.tileID.canonical.x-D.tileID.canonical.x,te=H.tileID.canonical.y-D.tileID.canonical.y,ie=Math.pow(2,D.tileID.canonical.z),ve=H.tileID.key;J===0&&te===0||Math.abs(te)>1||(Math.abs(J)>1&&(Math.abs(J+ie)===1?J+=ie:Math.abs(J-ie)===1&&(J-=ie)),H.dem&&D.dem&&(D.dem.backfillBorder(H.dem,J,te),D.neighboringTiles&&D.neighboringTiles[ve]&&(D.neighboringTiles[ve].backfilled=!0)))}},u.prototype.getTile=function(l){return this.getTileByID(l.key)},u.prototype.getTileByID=function(l){return this._tiles[l]},u.prototype._retainLoadedChildren=function(l,f,_,x){for(var w in this._tiles){var k=this._tiles[w];if(!(x[w]||!k.hasData()||k.tileID.overscaledZ<=f||k.tileID.overscaledZ>_)){for(var D=k.tileID;k&&k.tileID.overscaledZ>f+1;){var H=k.tileID.scaledTo(k.tileID.overscaledZ-1);(k=this._tiles[H.key])&&k.hasData()&&(D=H)}for(var J=D;J.overscaledZ>f;)if(l[(J=J.scaledTo(J.overscaledZ-1)).key]){x[D.key]=D;break}}}},u.prototype.findLoadedParent=function(l,f){if(l.key in this._loadedParentTiles){var _=this._loadedParentTiles[l.key];return _&&_.tileID.overscaledZ>=f?_:null}for(var x=l.overscaledZ-1;x>=f;x--){var w=l.scaledTo(x),k=this._getLoadedTile(w);if(k)return k}},u.prototype._getLoadedTile=function(l){var f=this._tiles[l.key];return f&&f.hasData()?f:this._cache.getByKey(l.wrapped().key)},u.prototype.updateCacheSize=function(l){var f=Math.ceil(l.width/this._source.tileSize)+1,_=Math.ceil(l.height/this._source.tileSize)+1,x=Math.floor(f*_*5),w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(w)},u.prototype.handleWrapJump=function(l){var f=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,f){var _={};for(var x in this._tiles){var w=this._tiles[x];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+f),_[w.tileID.key]=w}for(var k in this._tiles=_,this._timers)clearTimeout(this._timers[k]),delete this._timers[k];for(var D in this._tiles)this._setTileReloadTimer(D,this._tiles[D])}},u.prototype.update=function(l){var f=this;if(this.transform=l,this._sourceLoaded&&!this._paused){var _;this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?_=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(yt){return new o.OverscaledTileID(yt.canonical.z,yt.wrap,yt.canonical.z,yt.canonical.x,yt.canonical.y)}):(_=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(_=_.filter(function(yt){return f._source.hasTile(yt)}))):_=[];var x=l.coveringZoomLevel(this._source),w=Math.max(x-u.maxOverzooming,this._source.minzoom),k=Math.max(x+u.maxUnderzooming,this._source.minzoom),D=this._updateRetainedTiles(_,x);if(gt(this._source.type)){for(var H={},J={},te=0,ie=Object.keys(D);te<ie.length;te+=1){var ve=ie[te],ye=D[ve],Ie=this._tiles[ve];if(Ie&&!(Ie.fadeEndTime&&Ie.fadeEndTime<=o.browser.now())){var he=this.findLoadedParent(ye,w);he&&(this._addTile(he.tileID),H[he.tileID.key]=he.tileID),J[ve]=ye}}for(var Ae in this._retainLoadedChildren(J,x,k,D),H)D[Ae]||(this._coveredTiles[Ae]=!0,D[Ae]=H[Ae])}for(var De in D)this._tiles[De].clearFadeHold();for(var He=0,nt=o.keysDifference(this._tiles,D);He<nt.length;He+=1){var Ke=nt[He],ot=this._tiles[Ke];ot.hasSymbolBuckets&&!ot.holdingForFade()?ot.setHoldDuration(this.map._fadeDuration):ot.hasSymbolBuckets&&!ot.symbolFadeFinished()||this._removeTile(Ke)}this._updateLoadedParentTileCache()}},u.prototype.releaseSymbolFadeTiles=function(){for(var l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)},u.prototype._updateRetainedTiles=function(l,f){for(var _={},x={},w=Math.max(f-u.maxOverzooming,this._source.minzoom),k=Math.max(f+u.maxUnderzooming,this._source.minzoom),D={},H=0,J=l;H<J.length;H+=1){var te=J[H],ie=this._addTile(te);_[te.key]=te,ie.hasData()||f<this._source.maxzoom&&(D[te.key]=te)}this._retainLoadedChildren(D,f,k,_);for(var ve=0,ye=l;ve<ye.length;ve+=1){var Ie=ye[ve],he=this._tiles[Ie.key];if(!he.hasData()){if(f+1>this._source.maxzoom){var Ae=Ie.children(this._source.maxzoom)[0],De=this.getTile(Ae);if(De&&De.hasData()){_[Ae.key]=Ae;continue}}else{var He=Ie.children(this._source.maxzoom);if(_[He[0].key]&&_[He[1].key]&&_[He[2].key]&&_[He[3].key])continue}for(var nt=he.wasRequested(),Ke=Ie.overscaledZ-1;Ke>=w;--Ke){var ot=Ie.scaledTo(Ke);if(x[ot.key]||(x[ot.key]=!0,!(he=this.getTile(ot))&&nt&&(he=this._addTile(ot)),he&&(_[ot.key]=ot,nt=he.wasRequested(),he.hasData())))break}}}return _},u.prototype._updateLoadedParentTileCache=function(){for(var l in this._loadedParentTiles={},this._tiles){for(var f=[],_=void 0,x=this._tiles[l].tileID;x.overscaledZ>0;){if(x.key in this._loadedParentTiles){_=this._loadedParentTiles[x.key];break}f.push(x.key);var w=x.scaledTo(x.overscaledZ-1);if(_=this._getLoadedTile(w))break;x=w}for(var k=0,D=f;k<D.length;k+=1)this._loadedParentTiles[D[k]]=_}},u.prototype._addTile=function(l){var f=this._tiles[l.key];if(f)return f;(f=this._cache.getAndRemove(l))&&(this._setTileReloadTimer(l.key,f),f.tileID=l,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,f)));var _=!!f;return _||(f=new o.Tile(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(f,this._tileLoaded.bind(this,f,l.key,f.state))),f?(f.uses++,this._tiles[l.key]=f,_||this._source.fire(new o.Event("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f):null},u.prototype._setTileReloadTimer=function(l,f){var _=this;l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);var x=f.getExpiryTimeout();x&&(this._timers[l]=setTimeout(function(){_._reloadTile(l,"expired"),delete _._timers[l]},x))},u.prototype._removeTile=function(l){var f=this._tiles[l];f&&(f.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))},u.prototype.clearTiles=function(){for(var l in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(l);this._cache.reset()},u.prototype.tilesIn=function(l,f,_){var x=this,w=[],k=this.transform;if(!k)return w;for(var D=_?k.getCameraQueryGeometry(l):l,H=l.map(function(Ke){return k.pointCoordinate(Ke)}),J=D.map(function(Ke){return k.pointCoordinate(Ke)}),te=this.getIds(),ie=1/0,ve=1/0,ye=-1/0,Ie=-1/0,he=0,Ae=J;he<Ae.length;he+=1){var De=Ae[he];ie=Math.min(ie,De.x),ve=Math.min(ve,De.y),ye=Math.max(ye,De.x),Ie=Math.max(Ie,De.y)}for(var He=function(Ke){var ot=x._tiles[te[Ke]];if(!ot.holdingForFade()){var yt=ot.tileID,At=Math.pow(2,k.zoom-ot.tileID.overscaledZ),Ct=f*ot.queryPadding*o.EXTENT/ot.tileSize/At,jt=[yt.getTilePoint(new o.MercatorCoordinate(ie,ve)),yt.getTilePoint(new o.MercatorCoordinate(ye,Ie))];if(jt[0].x-Ct<o.EXTENT&&jt[0].y-Ct<o.EXTENT&&jt[1].x+Ct>=0&&jt[1].y+Ct>=0){var ir=H.map(function(ur){return yt.getTilePoint(ur)}),cr=J.map(function(ur){return yt.getTilePoint(ur)});w.push({tile:ot,tileID:yt,queryGeometry:ir,cameraQueryGeometry:cr,scale:At})}}},nt=0;nt<te.length;nt++)He(nt);return w},u.prototype.getVisibleCoordinates=function(l){for(var f=this,_=this.getRenderableIds(l).map(function(D){return f._tiles[D].tileID}),x=0,w=_;x<w.length;x+=1){var k=w[x];k.posMatrix=this.transform.calculatePosMatrix(k.toUnwrapped())}return _},u.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(gt(this._source.type))for(var l in this._tiles){var f=this._tiles[l];if(f.fadeEndTime!==void 0&&f.fadeEndTime>=o.browser.now())return!0}return!1},u.prototype.setFeatureState=function(l,f,_){this._state.updateState(l=l||"_geojsonTileLayer",f,_)},u.prototype.removeFeatureState=function(l,f,_){this._state.removeFeatureState(l=l||"_geojsonTileLayer",f,_)},u.prototype.getFeatureState=function(l,f){return this._state.getState(l=l||"_geojsonTileLayer",f)},u.prototype.setDependencies=function(l,f,_){var x=this._tiles[l];x&&x.setDependencies(f,_)},u.prototype.reloadTilesForDependencies=function(l,f){for(var _ in this._tiles)this._tiles[_].hasDependency(l,f)&&this._reloadTile(_,"reloading");this._cache.filter(function(x){return!x.hasDependency(l,f)})},u}(o.Evented);function je(s,u){var l=Math.abs(2*s.wrap)-+(s.wrap<0),f=Math.abs(2*u.wrap)-+(u.wrap<0);return s.overscaledZ-u.overscaledZ||f-l||u.canonical.y-s.canonical.y||u.canonical.x-s.canonical.x}function gt(s){return s==="raster"||s==="image"||s==="video"}function St(){return new o.window.Worker(jc.workerUrl)}be.maxOverzooming=10,be.maxUnderzooming=3;var rt="mapboxgl_preloaded_worker_pool",_t=function(){this.active={}};_t.prototype.acquire=function(s){if(!this.workers)for(this.workers=[];this.workers.length<_t.workerCount;)this.workers.push(new St);return this.active[s]=!0,this.workers.slice()},_t.prototype.release=function(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach(function(u){u.terminate()}),this.workers=null)},_t.prototype.isPreloaded=function(){return!!this.active[rt]},_t.prototype.numActive=function(){return Object.keys(this.active).length};var Wt,Dt=Math.floor(o.browser.hardwareConcurrency/2);function it(){return Wt||(Wt=new _t),Wt}function Rt(s,u){var l={};for(var f in s)f!=="ref"&&(l[f]=s[f]);return o.refProperties.forEach(function(_){_ in u&&(l[_]=u[_])}),l}function kt(s){s=s.slice();for(var u=Object.create(null),l=0;l<s.length;l++)u[s[l].id]=s[l];for(var f=0;f<s.length;f++)"ref"in s[f]&&(s[f]=Rt(s[f],u[s[f].ref]));return s}_t.workerCount=Math.max(Math.min(Dt,6),1);var It={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Sr(s,u,l){l.push({command:It.addSource,args:[s,u[s]]})}function Mt(s,u,l){u.push({command:It.removeSource,args:[s]}),l[s]=!0}function Nr(s,u,l,f){Mt(s,l,f),Sr(s,u,l)}function yn(s,u,l){var f;for(f in s[l])if(s[l].hasOwnProperty(f)&&f!=="data"&&!o.deepEqual(s[l][f],u[l][f]))return!1;for(f in u[l])if(u[l].hasOwnProperty(f)&&f!=="data"&&!o.deepEqual(s[l][f],u[l][f]))return!1;return!0}function Ar(s,u,l,f,_,x){var w;for(w in u=u||{},s=s||{})s.hasOwnProperty(w)&&(o.deepEqual(s[w],u[w])||l.push({command:x,args:[f,w,u[w],_]}));for(w in u)u.hasOwnProperty(w)&&!s.hasOwnProperty(w)&&(o.deepEqual(s[w],u[w])||l.push({command:x,args:[f,w,u[w],_]}))}function qr(s){return s.id}function Fr(s,u){return s[u.id]=u,s}var Ei=function(s,u){this.reset(s,u)};Ei.prototype.reset=function(s,u){this.points=s||[],this._distances=[0];for(var l=1;l<this.points.length;l++)this._distances[l]=this._distances[l-1]+this.points[l].dist(this.points[l-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ei.prototype.lerp=function(s){if(this.points.length===1)return this.points[0];s=o.clamp(s,0,1);for(var u=1,l=this._distances[u],f=s*this.paddedLength+this.padding;l<f&&u<this._distances.length;)l=this._distances[++u];var _=u-1,x=this._distances[_],w=l-x,k=w>0?(f-x)/w:0;return this.points[_].mult(1-k).add(this.points[u].mult(k))};var rn=function(s,u,l){var f=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(s/l),this.yCellCount=Math.ceil(u/l);for(var x=0;x<this.xCellCount*this.yCellCount;x++)f.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=u,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0};function Vn(s,u,l,f,_){var x=o.create();return u?(o.scale(x,x,[1/_,1/_,1]),l||o.rotateZ(x,x,f.angle)):o.multiply(x,f.labelPlaneMatrix,s),x}function ln(s,u,l,f,_){if(u){var x=o.clone(s);return o.scale(x,x,[_,_,1]),l||o.rotateZ(x,x,-f.angle),x}return f.glCoordMatrix}function Er(s,u){var l=[s.x,s.y,0,1];Gn(l,l,u);var f=l[3];return{point:new o.Point(l[0]/f,l[1]/f),signedDistanceFromCamera:f}}function Xr(s,u){return .5+s/u*.5}function $n(s,u){var l=s[0]/s[3],f=s[1]/s[3];return l>=-u[0]&&l<=u[0]&&f>=-u[1]&&f<=u[1]}function xa(s,u,l,f,_,x,w,k){var D=f?s.textSizeData:s.iconSizeData,H=o.evaluateSizeForZoom(D,l.transform.zoom),J=[256/l.width*2+1,256/l.height*2+1],te=f?s.text.dynamicLayoutVertexArray:s.icon.dynamicLayoutVertexArray;te.clear();for(var ie=s.lineVertexArray,ve=f?s.text.placedSymbolArray:s.icon.placedSymbolArray,ye=l.transform.width/l.transform.height,Ie=!1,he=0;he<ve.length;he++){var Ae=ve.get(he);if(Ae.hidden||Ae.writingMode===o.WritingMode.vertical&&!Ie)Ni(Ae.numGlyphs,te);else{Ie=!1;var De=[Ae.anchorX,Ae.anchorY,0,1];if(o.transformMat4(De,De,u),$n(De,J)){var He=Xr(l.transform.cameraToCenterDistance,De[3]),nt=o.evaluateSizeForFeature(D,H,Ae),Ke=w?nt/He:nt*He,ot=new o.Point(Ae.anchorX,Ae.anchorY),yt=Er(ot,_).point,At={},Ct=Di(Ae,Ke,!1,k,u,_,x,s.glyphOffsetArray,ie,te,yt,ot,At,ye);Ie=Ct.useVertical,(Ct.notEnoughRoom||Ie||Ct.needsFlipping&&Di(Ae,Ke,!0,k,u,_,x,s.glyphOffsetArray,ie,te,yt,ot,At,ye).notEnoughRoom)&&Ni(Ae.numGlyphs,te)}else Ni(Ae.numGlyphs,te)}}f?s.text.dynamicLayoutVertexBuffer.updateData(te):s.icon.dynamicLayoutVertexBuffer.updateData(te)}function Kn(s,u,l,f,_,x,w,k,D,H,J){var te=k.glyphStartIndex+k.numGlyphs,ie=k.lineStartIndex,ve=k.lineStartIndex+k.lineLength,ye=u.getoffsetX(k.glyphStartIndex),Ie=u.getoffsetX(te-1),he=Cn(s*ye,l,f,_,x,w,k.segment,ie,ve,D,H,J);if(!he)return null;var Ae=Cn(s*Ie,l,f,_,x,w,k.segment,ie,ve,D,H,J);return Ae?{first:he,last:Ae}:null}function Oi(s,u,l,f){return s===o.WritingMode.horizontal&&Math.abs(l.y-u.y)>Math.abs(l.x-u.x)*f?{useVertical:!0}:(s===o.WritingMode.vertical?u.y<l.y:u.x>l.x)?{needsFlipping:!0}:null}function Di(s,u,l,f,_,x,w,k,D,H,J,te,ie,ve){var ye,Ie=u/24,he=s.lineOffsetX*Ie,Ae=s.lineOffsetY*Ie;if(s.numGlyphs>1){var De=s.glyphStartIndex+s.numGlyphs,He=s.lineStartIndex,nt=s.lineStartIndex+s.lineLength,Ke=Kn(Ie,k,he,Ae,l,J,te,s,D,x,ie);if(!Ke)return{notEnoughRoom:!0};var ot=Er(Ke.first.point,w).point,yt=Er(Ke.last.point,w).point;if(f&&!l){var At=Oi(s.writingMode,ot,yt,ve);if(At)return At}ye=[Ke.first];for(var Ct=s.glyphStartIndex+1;Ct<De-1;Ct++)ye.push(Cn(Ie*k.getoffsetX(Ct),he,Ae,l,J,te,s.segment,He,nt,D,x,ie));ye.push(Ke.last)}else{if(f&&!l){var jt=Er(te,_).point,ir=s.lineStartIndex+s.segment+1,cr=new o.Point(D.getx(ir),D.gety(ir)),ur=Er(cr,_),on=ur.signedDistanceFromCamera>0?ur.point:Ho(te,cr,jt,1,_),qt=Oi(s.writingMode,jt,on,ve);if(qt)return qt}var wr=Cn(Ie*k.getoffsetX(s.glyphStartIndex),he,Ae,l,J,te,s.segment,s.lineStartIndex,s.lineStartIndex+s.lineLength,D,x,ie);if(!wr)return{notEnoughRoom:!0};ye=[wr]}for(var Lr=0,xr=ye;Lr<xr.length;Lr+=1){var _r=xr[Lr];o.addDynamicAttributes(H,_r.point,_r.angle)}return{}}function Ho(s,u,l,f,_){var x=Er(s.add(s.sub(u)._unit()),_).point,w=l.sub(x);return l.add(w._mult(f/w.mag()))}function Cn(s,u,l,f,_,x,w,k,D,H,J,te){var ie=f?s-u:s+u,ve=ie>0?1:-1,ye=0;f&&(ve*=-1,ye=Math.PI),ve<0&&(ye+=Math.PI);for(var Ie=ve>0?k+w:k+w+1,he=_,Ae=_,De=0,He=0,nt=Math.abs(ie),Ke=[];De+He<=nt;){if((Ie+=ve)<k||Ie>=D)return null;if(Ae=he,Ke.push(he),(he=te[Ie])===void 0){var ot=new o.Point(H.getx(Ie),H.gety(Ie)),yt=Er(ot,J);if(yt.signedDistanceFromCamera>0)he=te[Ie]=yt.point;else{var At=Ie-ve;he=Ho(De===0?x:new o.Point(H.getx(At),H.gety(At)),ot,Ae,nt-De+1,J)}}De+=He,He=Ae.dist(he)}var Ct=(nt-De)/He,jt=he.sub(Ae),ir=jt.mult(Ct)._add(Ae);ir._add(jt._unit()._perp()._mult(l*ve));var cr=ye+Math.atan2(he.y-Ae.y,he.x-Ae.x);return Ke.push(ir),{point:ir,angle:cr,path:Ke}}rn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},rn.prototype.insert=function(s,u,l,f,_){this._forEachCell(u,l,f,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(u),this.bboxes.push(l),this.bboxes.push(f),this.bboxes.push(_)},rn.prototype.insertCircle=function(s,u,l,f){this._forEachCell(u-f,l-f,u+f,l+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(u),this.circles.push(l),this.circles.push(f)},rn.prototype._insertBoxCell=function(s,u,l,f,_,x){this.boxCells[_].push(x)},rn.prototype._insertCircleCell=function(s,u,l,f,_,x){this.circleCells[_].push(x)},rn.prototype._query=function(s,u,l,f,_,x){if(l<0||s>this.width||f<0||u>this.height)return!_&&[];var w=[];if(s<=0&&u<=0&&this.width<=l&&this.height<=f){if(_)return!0;for(var k=0;k<this.boxKeys.length;k++)w.push({key:this.boxKeys[k],x1:this.bboxes[4*k],y1:this.bboxes[4*k+1],x2:this.bboxes[4*k+2],y2:this.bboxes[4*k+3]});for(var D=0;D<this.circleKeys.length;D++){var H=this.circles[3*D],J=this.circles[3*D+1],te=this.circles[3*D+2];w.push({key:this.circleKeys[D],x1:H-te,y1:J-te,x2:H+te,y2:J+te})}return x?w.filter(x):w}return this._forEachCell(s,u,l,f,this._queryCell,w,{hitTest:_,seenUids:{box:{},circle:{}}},x),_?w.length>0:w},rn.prototype._queryCircle=function(s,u,l,f,_){var x=s-l,w=s+l,k=u-l,D=u+l;if(w<0||x>this.width||D<0||k>this.height)return!f&&[];var H=[];return this._forEachCell(x,k,w,D,this._queryCellCircle,H,{hitTest:f,circle:{x:s,y:u,radius:l},seenUids:{box:{},circle:{}}},_),f?H.length>0:H},rn.prototype.query=function(s,u,l,f,_){return this._query(s,u,l,f,!1,_)},rn.prototype.hitTest=function(s,u,l,f,_){return this._query(s,u,l,f,!0,_)},rn.prototype.hitTestCircle=function(s,u,l,f){return this._queryCircle(s,u,l,!0,f)},rn.prototype._queryCell=function(s,u,l,f,_,x,w,k){var D=w.seenUids,H=this.boxCells[_];if(H!==null)for(var J=this.bboxes,te=0,ie=H;te<ie.length;te+=1){var ve=ie[te];if(!D.box[ve]){D.box[ve]=!0;var ye=4*ve;if(s<=J[ye+2]&&u<=J[ye+3]&&l>=J[ye+0]&&f>=J[ye+1]&&(!k||k(this.boxKeys[ve]))){if(w.hitTest)return x.push(!0),!0;x.push({key:this.boxKeys[ve],x1:J[ye],y1:J[ye+1],x2:J[ye+2],y2:J[ye+3]})}}}var Ie=this.circleCells[_];if(Ie!==null)for(var he=this.circles,Ae=0,De=Ie;Ae<De.length;Ae+=1){var He=De[Ae];if(!D.circle[He]){D.circle[He]=!0;var nt=3*He;if(this._circleAndRectCollide(he[nt],he[nt+1],he[nt+2],s,u,l,f)&&(!k||k(this.circleKeys[He]))){if(w.hitTest)return x.push(!0),!0;var Ke=he[nt],ot=he[nt+1],yt=he[nt+2];x.push({key:this.circleKeys[He],x1:Ke-yt,y1:ot-yt,x2:Ke+yt,y2:ot+yt})}}}},rn.prototype._queryCellCircle=function(s,u,l,f,_,x,w,k){var D=w.circle,H=w.seenUids,J=this.boxCells[_];if(J!==null)for(var te=this.bboxes,ie=0,ve=J;ie<ve.length;ie+=1){var ye=ve[ie];if(!H.box[ye]){H.box[ye]=!0;var Ie=4*ye;if(this._circleAndRectCollide(D.x,D.y,D.radius,te[Ie+0],te[Ie+1],te[Ie+2],te[Ie+3])&&(!k||k(this.boxKeys[ye])))return x.push(!0),!0}}var he=this.circleCells[_];if(he!==null)for(var Ae=this.circles,De=0,He=he;De<He.length;De+=1){var nt=He[De];if(!H.circle[nt]){H.circle[nt]=!0;var Ke=3*nt;if(this._circlesCollide(Ae[Ke],Ae[Ke+1],Ae[Ke+2],D.x,D.y,D.radius)&&(!k||k(this.circleKeys[nt])))return x.push(!0),!0}}},rn.prototype._forEachCell=function(s,u,l,f,_,x,w,k){for(var D=this._convertToXCellCoord(s),H=this._convertToYCellCoord(u),J=this._convertToXCellCoord(l),te=this._convertToYCellCoord(f),ie=D;ie<=J;ie++)for(var ve=H;ve<=te;ve++)if(_.call(this,s,u,l,f,this.xCellCount*ve+ie,x,w,k))return},rn.prototype._convertToXCellCoord=function(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))},rn.prototype._convertToYCellCoord=function(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))},rn.prototype._circlesCollide=function(s,u,l,f,_,x){var w=f-s,k=_-u,D=l+x;return D*D>w*w+k*k},rn.prototype._circleAndRectCollide=function(s,u,l,f,_,x,w){var k=(x-f)/2,D=Math.abs(s-(f+k));if(D>k+l)return!1;var H=(w-_)/2,J=Math.abs(u-(_+H));if(J>H+l)return!1;if(D<=k||J<=H)return!0;var te=D-k,ie=J-H;return te*te+ie*ie<=l*l};var As=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ni(s,u){for(var l=0;l<s;l++){var f=u.length;u.resize(f+4),u.float32.set(As,3*f)}}function Gn(s,u,l){var f=u[0],_=u[1];return s[0]=l[0]*f+l[4]*_+l[12],s[1]=l[1]*f+l[5]*_+l[13],s[3]=l[3]*f+l[7]*_+l[15],s}var zi=function(s,u,l){u===void 0&&(u=new rn(s.width+200,s.height+200,25)),l===void 0&&(l=new rn(s.width+200,s.height+200,25)),this.transform=s,this.grid=u,this.ignoredGrid=l,this.pitchfactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+100,this.screenBottomBoundary=s.height+100,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200};function un(s,u,l){return u*(o.EXTENT/(s.tileSize*Math.pow(2,l-s.tileID.overscaledZ)))}zi.prototype.placeCollisionBox=function(s,u,l,f,_){var x=this.projectAndGetPerspectiveRatio(f,s.anchorPointX,s.anchorPointY),w=l*x.perspectiveRatio,k=s.x1*w+x.point.x,D=s.y1*w+x.point.y,H=s.x2*w+x.point.x,J=s.y2*w+x.point.y;return!this.isInsideGrid(k,D,H,J)||!u&&this.grid.hitTest(k,D,H,J,_)?{box:[],offscreen:!1}:{box:[k,D,H,J],offscreen:this.isOffscreen(k,D,H,J)}},zi.prototype.placeCollisionCircles=function(s,u,l,f,_,x,w,k,D,H,J,te,ie){var ve=[],ye=new o.Point(u.anchorX,u.anchorY),Ie=Er(ye,x),he=Xr(this.transform.cameraToCenterDistance,Ie.signedDistanceFromCamera),Ae=(H?_/he:_*he)/o.ONE_EM,De=Er(ye,w).point,He=Kn(Ae,f,u.lineOffsetX*Ae,u.lineOffsetY*Ae,!1,De,ye,u,l,w,{}),nt=!1,Ke=!1,ot=!0;if(He){for(var yt=.5*te*he+ie,At=new o.Point(-100,-100),Ct=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),jt=new Ei,ir=He.first,cr=He.last,ur=[],on=ir.path.length-1;on>=1;on--)ur.push(ir.path[on]);for(var qt=1;qt<cr.path.length;qt++)ur.push(cr.path[qt]);var wr=2.5*yt;if(k){var Lr=ur.map(function(La){return Er(La,k)});ur=Lr.some(function(La){return La.signedDistanceFromCamera<=0})?[]:Lr.map(function(La){return La.point})}var xr=[];if(ur.length>0){for(var _r=ur[0].clone(),Pr=ur[0].clone(),yr=1;yr<ur.length;yr++)_r.x=Math.min(_r.x,ur[yr].x),_r.y=Math.min(_r.y,ur[yr].y),Pr.x=Math.max(Pr.x,ur[yr].x),Pr.y=Math.max(Pr.y,ur[yr].y);xr=_r.x>=At.x&&Pr.x<=Ct.x&&_r.y>=At.y&&Pr.y<=Ct.y?[ur]:Pr.x<At.x||_r.x>Ct.x||Pr.y<At.y||_r.y>Ct.y?[]:o.clipLine([ur],At.x,At.y,Ct.x,Ct.y)}for(var mr=0,Bi=xr;mr<Bi.length;mr+=1){var ti;jt.reset(Bi[mr],.25*yt),ti=jt.length<=.5*yt?1:Math.ceil(jt.paddedLength/wr)+1;for(var ho=0;ho<ti;ho++){var Zi=ho/Math.max(ti-1,1),Yn=jt.lerp(Zi),ui=Yn.x+100,ea=Yn.y+100;ve.push(ui,ea,yt,0);var Ao=ui-yt,ol=ea-yt,Do=ui+yt,ns=ea+yt;if(ot=ot&&this.isOffscreen(Ao,ol,Do,ns),Ke=Ke||this.isInsideGrid(Ao,ol,Do,ns),!s&&this.grid.hitTestCircle(ui,ea,yt,J)&&(nt=!0,!D))return{circles:[],offscreen:!1,collisionDetected:nt}}}}return{circles:!D&&nt||!Ke?[]:ve,offscreen:ot,collisionDetected:nt}},zi.prototype.queryRenderedSymbols=function(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var u=[],l=1/0,f=1/0,_=-1/0,x=-1/0,w=0,k=s;w<k.length;w+=1){var D=k[w],H=new o.Point(D.x+100,D.y+100);l=Math.min(l,H.x),f=Math.min(f,H.y),_=Math.max(_,H.x),x=Math.max(x,H.y),u.push(H)}for(var J={},te={},ie=0,ve=this.grid.query(l,f,_,x).concat(this.ignoredGrid.query(l,f,_,x));ie<ve.length;ie+=1){var ye=ve[ie],Ie=ye.key;if(J[Ie.bucketInstanceId]===void 0&&(J[Ie.bucketInstanceId]={}),!J[Ie.bucketInstanceId][Ie.featureIndex]){var he=[new o.Point(ye.x1,ye.y1),new o.Point(ye.x2,ye.y1),new o.Point(ye.x2,ye.y2),new o.Point(ye.x1,ye.y2)];o.polygonIntersectsPolygon(u,he)&&(J[Ie.bucketInstanceId][Ie.featureIndex]=!0,te[Ie.bucketInstanceId]===void 0&&(te[Ie.bucketInstanceId]=[]),te[Ie.bucketInstanceId].push(Ie.featureIndex))}}return te},zi.prototype.insertCollisionBox=function(s,u,l,f,_){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:l,featureIndex:f,collisionGroupID:_},s[0],s[1],s[2],s[3])},zi.prototype.insertCollisionCircles=function(s,u,l,f,_){for(var x=u?this.ignoredGrid:this.grid,w={bucketInstanceId:l,featureIndex:f,collisionGroupID:_},k=0;k<s.length;k+=4)x.insertCircle(w,s[k],s[k+1],s[k+2])},zi.prototype.projectAndGetPerspectiveRatio=function(s,u,l){var f=[u,l,0,1];return Gn(f,f,s),{point:new o.Point((f[0]/f[3]+1)/2*this.transform.width+100,(-f[1]/f[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/f[3]*.5}},zi.prototype.isOffscreen=function(s,u,l,f){return l<100||s>=this.screenRightBoundary||f<100||u>this.screenBottomBoundary},zi.prototype.isInsideGrid=function(s,u,l,f){return l>=0&&s<this.gridRightBoundary&&f>=0&&u<this.gridBottomBoundary},zi.prototype.getViewportMatrix=function(){var s=o.identity([]);return o.translate(s,s,[-100,-100,0]),s};var bo=function(s,u,l,f){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?u:-u))):f&&l?1:0,this.placed=l};bo.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Ci=function(s,u,l,f,_){this.text=new bo(s?s.text:null,u,l,_),this.icon=new bo(s?s.icon:null,u,f,_)};Ci.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var nu=function(s,u,l){this.text=s,this.icon=u,this.skipFade=l},Zn=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},iu=function(s,u,l,f,_){this.bucketInstanceId=s,this.featureIndex=u,this.sourceLayerIndex=l,this.bucketIndex=f,this.tileID=_},uo=function(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}};function yi(s,u,l,f,_){var x=o.getAnchorAlignment(s),w=-(x.horizontalAlign-.5)*u,k=-(x.verticalAlign-.5)*l,D=o.evaluateVariableOffset(s,f);return new o.Point(w+D[0]*_,k+D[1]*_)}function Wo(s,u,l,f,_,x){var w=s.x1,k=s.x2,D=s.y1,H=s.y2,J=s.anchorPointX,te=s.anchorPointY,ie=new o.Point(u,l);return f&&ie._rotate(_?x:-x),{x1:w+ie.x,y1:D+ie.y,x2:k+ie.x,y2:H+ie.y,anchorPointX:J,anchorPointY:te}}uo.prototype.get=function(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){var u=++this.maxGroupID;this.collisionGroups[s]={ID:u,predicate:function(l){return l.collisionGroupID===u}}}return this.collisionGroups[s]};var Xn=function(s,u,l,f){this.transform=s.clone(),this.collisionIndex=new zi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new uo(l),this.collisionCircleArrays={},this.prevPlacement=f,f&&(f.prevPlacement=void 0),this.placedOrientations={}};function $i(s,u,l,f,_){s.emplaceBack(u?1:0,l?1:0,f||0,_||0),s.emplaceBack(u?1:0,l?1:0,f||0,_||0),s.emplaceBack(u?1:0,l?1:0,f||0,_||0),s.emplaceBack(u?1:0,l?1:0,f||0,_||0)}Xn.prototype.getBucketParts=function(s,u,l,f){var _=l.getBucket(u),x=l.latestFeatureIndex;if(_&&x&&u.id===_.layerIds[0]){var w=l.collisionBoxArray,k=_.layers[0].layout,D=Math.pow(2,this.transform.zoom-l.tileID.overscaledZ),H=l.tileSize/o.EXTENT,J=this.transform.calculatePosMatrix(l.tileID.toUnwrapped()),te=k.get("text-pitch-alignment")==="map",ie=k.get("text-rotation-alignment")==="map",ve=un(l,1,this.transform.zoom),ye=Vn(J,te,ie,this.transform,ve),Ie=null;if(te){var he=ln(J,te,ie,this.transform,ve);Ie=o.multiply([],this.transform.labelPlaneMatrix,he)}this.retainedQueryData[_.bucketInstanceId]=new iu(_.bucketInstanceId,x,_.sourceLayerIndex,_.index,l.tileID);var Ae={bucket:_,layout:k,posMatrix:J,textLabelPlaneMatrix:ye,labelToScreenMatrix:Ie,scale:D,textPixelRatio:H,holdingForFade:l.holdingForFade(),collisionBoxArray:w,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(f)for(var De=0,He=_.sortKeyRanges;De<He.length;De+=1){var nt=He[De];s.push({sortKey:nt.sortKey,symbolInstanceStart:nt.symbolInstanceStart,symbolInstanceEnd:nt.symbolInstanceEnd,parameters:Ae})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:Ae})}},Xn.prototype.attemptAnchorPlacement=function(s,u,l,f,_,x,w,k,D,H,J,te,ie,ve,ye){var Ie,he=[te.textOffset0,te.textOffset1],Ae=yi(s,l,f,he,_),De=this.collisionIndex.placeCollisionBox(Wo(u,Ae.x,Ae.y,x,w,this.transform.angle),J,k,D,H.predicate);if(!ye||this.collisionIndex.placeCollisionBox(Wo(ye,Ae.x,Ae.y,x,w,this.transform.angle),J,k,D,H.predicate).box.length!==0)return De.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(Ie=this.prevPlacement.variableOffsets[te.crossTileID].anchor),this.variableOffsets[te.crossTileID]={textOffset:he,width:l,height:f,anchor:s,textBoxScale:_,prevAnchor:Ie},this.markUsedJustification(ie,s,te,ve),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,ve,te),this.placedOrientations[te.crossTileID]=ve),{shift:Ae,placedGlyphBoxes:De}):void 0},Xn.prototype.placeLayerBucketPart=function(s,u,l){var f=this,_=s.parameters,x=_.bucket,w=_.layout,k=_.posMatrix,D=_.textLabelPlaneMatrix,H=_.labelToScreenMatrix,J=_.textPixelRatio,te=_.holdingForFade,ie=_.collisionBoxArray,ve=_.partiallyEvaluatedTextSize,ye=_.collisionGroup,Ie=w.get("text-optional"),he=w.get("icon-optional"),Ae=w.get("text-allow-overlap"),De=w.get("icon-allow-overlap"),He=w.get("text-rotation-alignment")==="map",nt=w.get("text-pitch-alignment")==="map",Ke=w.get("icon-text-fit")!=="none",ot=w.get("symbol-z-order")==="viewport-y",yt=Ae&&(De||!x.hasIconData()||he),At=De&&(Ae||!x.hasTextData()||Ie);!x.collisionArrays&&ie&&x.deserializeCollisionBoxes(ie);var Ct=function(qt,wr){if(!u[qt.crossTileID])if(te)f.placements[qt.crossTileID]=new nu(!1,!1,!1);else{var Lr,xr=!1,_r=!1,Pr=!0,yr=null,mr={box:null,offscreen:null},Bi={box:null,offscreen:null},ti=null,ho=null,Zi=0,Yn=0,ui=0;wr.textFeatureIndex?Zi=wr.textFeatureIndex:qt.useRuntimeCollisionCircles&&(Zi=qt.featureIndex),wr.verticalTextFeatureIndex&&(Yn=wr.verticalTextFeatureIndex);var ea=wr.textBox;if(ea){var Ao=function(dn){var pa=o.WritingMode.horizontal;if(x.allowVerticalPlacement&&!dn&&f.prevPlacement){var No=f.prevPlacement.placedOrientations[qt.crossTileID];No&&(f.placedOrientations[qt.crossTileID]=No,f.markUsedOrientation(x,pa=No,qt))}return pa},ol=function(dn,pa){if(x.allowVerticalPlacement&&qt.numVerticalGlyphVertices>0&&wr.verticalTextBox)for(var No=0,Ol=x.writingModes;No<Ol.length&&(Ol[No]===o.WritingMode.vertical?(mr=pa(),Bi=mr):mr=dn(),!(mr&&mr.box&&mr.box.length));No+=1);else mr=dn()};if(w.get("text-variable-anchor")){var Do=w.get("text-variable-anchor");if(f.prevPlacement&&f.prevPlacement.variableOffsets[qt.crossTileID]){var ns=f.prevPlacement.variableOffsets[qt.crossTileID];Do.indexOf(ns.anchor)>0&&(Do=Do.filter(function(dn){return dn!==ns.anchor})).unshift(ns.anchor)}var La=function(dn,pa,No){for(var Ol=dn.x2-dn.x1,Gm=dn.y2-dn.y1,qc=qt.textBoxScale,Zm=Ke&&!De?pa:null,ic={box:[],offscreen:!1},Cp=Ae?2*Do.length:Do.length,mu=0;mu<Cp;++mu){var Hc=f.attemptAnchorPlacement(Do[mu%Do.length],dn,Ol,Gm,qc,He,nt,J,k,ye,mu>=Do.length,qt,x,No,Zm);if(Hc&&(ic=Hc.placedGlyphBoxes)&&ic.box&&ic.box.length){xr=!0,yr=Hc.shift;break}}return ic};ol(function(){return La(ea,wr.iconBox,o.WritingMode.horizontal)},function(){var dn=wr.verticalTextBox;return x.allowVerticalPlacement&&!(mr&&mr.box&&mr.box.length)&&qt.numVerticalGlyphVertices>0&&dn?La(dn,wr.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}}),mr&&(xr=mr.box,Pr=mr.offscreen);var tc=Ao(mr&&mr.box);if(!xr&&f.prevPlacement){var pu=f.prevPlacement.variableOffsets[qt.crossTileID];pu&&(f.variableOffsets[qt.crossTileID]=pu,f.markUsedJustification(x,pu.anchor,qt,tc))}}else{var al=function(dn,pa){var No=f.collisionIndex.placeCollisionBox(dn,Ae,J,k,ye.predicate);return No&&No.box&&No.box.length&&(f.markUsedOrientation(x,pa,qt),f.placedOrientations[qt.crossTileID]=pa),No};ol(function(){return al(ea,o.WritingMode.horizontal)},function(){var dn=wr.verticalTextBox;return x.allowVerticalPlacement&&qt.numVerticalGlyphVertices>0&&dn?al(dn,o.WritingMode.vertical):{box:null,offscreen:null}}),Ao(mr&&mr.box&&mr.box.length)}}if(xr=(Lr=mr)&&Lr.box&&Lr.box.length>0,Pr=Lr&&Lr.offscreen,qt.useRuntimeCollisionCircles){var du=x.text.placedSymbolArray.get(qt.centerJustifiedTextSymbolIndex),rc=o.evaluateSizeForFeature(x.textSizeData,ve,du),ys=w.get("text-padding");ti=f.collisionIndex.placeCollisionCircles(Ae,du,x.lineVertexArray,x.glyphOffsetArray,rc,k,D,H,l,nt,ye.predicate,qt.collisionCircleDiameter,ys),xr=Ae||ti.circles.length>0&&!ti.collisionDetected,Pr=Pr&&ti.offscreen}if(wr.iconFeatureIndex&&(ui=wr.iconFeatureIndex),wr.iconBox){var nc=function(dn){var pa=Ke&&yr?Wo(dn,yr.x,yr.y,He,nt,f.transform.angle):dn;return f.collisionIndex.placeCollisionBox(pa,De,J,k,ye.predicate)};_r=Bi&&Bi.box&&Bi.box.length&&wr.verticalIconBox?(ho=nc(wr.verticalIconBox)).box.length>0:(ho=nc(wr.iconBox)).box.length>0,Pr=Pr&&ho.offscreen}var _s=Ie||qt.numHorizontalGlyphVertices===0&&qt.numVerticalGlyphVertices===0,Ui=he||qt.numIconVertices===0;if(_s||Ui?Ui?_s||(_r=_r&&xr):xr=_r&&xr:_r=xr=_r&&xr,xr&&Lr&&Lr.box&&f.collisionIndex.insertCollisionBox(Lr.box,w.get("text-ignore-placement"),x.bucketInstanceId,Bi&&Bi.box&&Yn?Yn:Zi,ye.ID),_r&&ho&&f.collisionIndex.insertCollisionBox(ho.box,w.get("icon-ignore-placement"),x.bucketInstanceId,ui,ye.ID),ti&&(xr&&f.collisionIndex.insertCollisionCircles(ti.circles,w.get("text-ignore-placement"),x.bucketInstanceId,Zi,ye.ID),l)){var Ds=x.bucketInstanceId,sl=f.collisionCircleArrays[Ds];sl===void 0&&(sl=f.collisionCircleArrays[Ds]=new Zn);for(var Ml=0;Ml<ti.circles.length;Ml+=4)sl.circles.push(ti.circles[Ml+0]),sl.circles.push(ti.circles[Ml+1]),sl.circles.push(ti.circles[Ml+2]),sl.circles.push(ti.collisionDetected?1:0)}f.placements[qt.crossTileID]=new nu(xr||yt,_r||At,Pr||x.justReloaded),u[qt.crossTileID]=!0}};if(ot)for(var jt=x.getSortedSymbolIndexes(this.transform.angle),ir=jt.length-1;ir>=0;--ir){var cr=jt[ir];Ct(x.symbolInstances.get(cr),x.collisionArrays[cr])}else for(var ur=s.symbolInstanceStart;ur<s.symbolInstanceEnd;ur++)Ct(x.symbolInstances.get(ur),x.collisionArrays[ur]);if(l&&x.bucketInstanceId in this.collisionCircleArrays){var on=this.collisionCircleArrays[x.bucketInstanceId];o.invert(on.invProjMatrix,k),on.viewportMatrix=this.collisionIndex.getViewportMatrix()}x.justReloaded=!1},Xn.prototype.markUsedJustification=function(s,u,l,f){var _;_=f===o.WritingMode.vertical?l.verticalPlacedTextSymbolIndex:{left:l.leftJustifiedTextSymbolIndex,center:l.centerJustifiedTextSymbolIndex,right:l.rightJustifiedTextSymbolIndex}[o.getAnchorJustification(u)];for(var x=0,w=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex,l.verticalPlacedTextSymbolIndex];x<w.length;x+=1){var k=w[x];k>=0&&(s.text.placedSymbolArray.get(k).crossTileID=_>=0&&k!==_?0:l.crossTileID)}},Xn.prototype.markUsedOrientation=function(s,u,l){for(var f=u===o.WritingMode.horizontal||u===o.WritingMode.horizontalOnly?u:0,_=u===o.WritingMode.vertical?u:0,x=0,w=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex];x<w.length;x+=1)s.text.placedSymbolArray.get(w[x]).placedOrientation=f;l.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(l.verticalPlacedTextSymbolIndex).placedOrientation=_)},Xn.prototype.commit=function(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;var u=this.prevPlacement,l=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;var f=u?u.symbolFadeChange(s):1,_=u?u.opacities:{},x=u?u.variableOffsets:{},w=u?u.placedOrientations:{};for(var k in this.placements){var D=this.placements[k],H=_[k];H?(this.opacities[k]=new Ci(H,f,D.text,D.icon),l=l||D.text!==H.text.placed||D.icon!==H.icon.placed):(this.opacities[k]=new Ci(null,f,D.text,D.icon,D.skipFade),l=l||D.text||D.icon)}for(var J in _){var te=_[J];if(!this.opacities[J]){var ie=new Ci(te,f,!1,!1);ie.isHidden()||(this.opacities[J]=ie,l=l||te.text.placed||te.icon.placed)}}for(var ve in x)this.variableOffsets[ve]||!this.opacities[ve]||this.opacities[ve].isHidden()||(this.variableOffsets[ve]=x[ve]);for(var ye in w)this.placedOrientations[ye]||!this.opacities[ye]||this.opacities[ye].isHidden()||(this.placedOrientations[ye]=w[ye]);l?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:s)},Xn.prototype.updateLayerOpacities=function(s,u){for(var l={},f=0,_=u;f<_.length;f+=1){var x=_[f],w=x.getBucket(s);w&&x.latestFeatureIndex&&s.id===w.layerIds[0]&&this.updateBucketOpacities(w,l,x.collisionBoxArray)}},Xn.prototype.updateBucketOpacities=function(s,u,l){var f=this;s.hasTextData()&&s.text.opacityVertexArray.clear(),s.hasIconData()&&s.icon.opacityVertexArray.clear(),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();var _=s.layers[0].layout,x=new Ci(null,0,!1,!1,!0),w=_.get("text-allow-overlap"),k=_.get("icon-allow-overlap"),D=_.get("text-variable-anchor"),H=_.get("text-rotation-alignment")==="map",J=_.get("text-pitch-alignment")==="map",te=_.get("icon-text-fit")!=="none",ie=new Ci(null,0,w&&(k||!s.hasIconData()||_.get("icon-optional")),k&&(w||!s.hasTextData()||_.get("text-optional")),!0);!s.collisionArrays&&l&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(l);for(var ve=function(Ae,De,He){for(var nt=0;nt<De/4;nt++)Ae.opacityVertexArray.emplaceBack(He)},ye=function(Ae){var De=s.symbolInstances.get(Ae),He=De.numHorizontalGlyphVertices,nt=De.numVerticalGlyphVertices,Ke=De.crossTileID,ot=f.opacities[Ke];u[Ke]?ot=x:ot||(f.opacities[Ke]=ot=ie),u[Ke]=!0;var yt=De.numIconVertices>0,At=f.placedOrientations[De.crossTileID],Ct=At===o.WritingMode.vertical,jt=At===o.WritingMode.horizontal||At===o.WritingMode.horizontalOnly;if(He>0||nt>0){var ir=bl(ot.text);ve(s.text,He,Ct?Za:ir),ve(s.text,nt,jt?Za:ir);var cr=ot.text.isHidden();[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(mr){mr>=0&&(s.text.placedSymbolArray.get(mr).hidden=cr||Ct?1:0)}),De.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(De.verticalPlacedTextSymbolIndex).hidden=cr||jt?1:0);var ur=f.variableOffsets[De.crossTileID];ur&&f.markUsedJustification(s,ur.anchor,De,At);var on=f.placedOrientations[De.crossTileID];on&&(f.markUsedJustification(s,"left",De,on),f.markUsedOrientation(s,on,De))}if(yt){var qt=bl(ot.icon),wr=!(te&&De.verticalPlacedIconSymbolIndex&&Ct);De.placedIconSymbolIndex>=0&&(ve(s.icon,De.numIconVertices,wr?qt:Za),s.icon.placedSymbolArray.get(De.placedIconSymbolIndex).hidden=ot.icon.isHidden()),De.verticalPlacedIconSymbolIndex>=0&&(ve(s.icon,De.numVerticalIconVertices,wr?Za:qt),s.icon.placedSymbolArray.get(De.verticalPlacedIconSymbolIndex).hidden=ot.icon.isHidden())}if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){var Lr=s.collisionArrays[Ae];if(Lr){var xr=new o.Point(0,0);if(Lr.textBox||Lr.verticalTextBox){var _r=!0;if(D){var Pr=f.variableOffsets[Ke];Pr?(xr=yi(Pr.anchor,Pr.width,Pr.height,Pr.textOffset,Pr.textBoxScale),H&&xr._rotate(J?f.transform.angle:-f.transform.angle)):_r=!1}Lr.textBox&&$i(s.textCollisionBox.collisionVertexArray,ot.text.placed,!_r||Ct,xr.x,xr.y),Lr.verticalTextBox&&$i(s.textCollisionBox.collisionVertexArray,ot.text.placed,!_r||jt,xr.x,xr.y)}var yr=!!(!jt&&Lr.verticalIconBox);Lr.iconBox&&$i(s.iconCollisionBox.collisionVertexArray,ot.icon.placed,yr,te?xr.x:0,te?xr.y:0),Lr.verticalIconBox&&$i(s.iconCollisionBox.collisionVertexArray,ot.icon.placed,!yr,te?xr.x:0,te?xr.y:0)}}},Ie=0;Ie<s.symbolInstances.length;Ie++)ye(Ie);if(s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.bucketInstanceId in this.collisionCircleArrays){var he=this.collisionCircleArrays[s.bucketInstanceId];s.placementInvProjMatrix=he.invProjMatrix,s.placementViewportMatrix=he.viewportMatrix,s.collisionCircleArray=he.circles,delete this.collisionCircleArrays[s.bucketInstanceId]}},Xn.prototype.symbolFadeChange=function(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Xn.prototype.zoomAdjustment=function(s){return Math.max(0,(this.transform.zoom-s)/1.5)},Xn.prototype.hasTransitions=function(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration},Xn.prototype.stillRecent=function(s,u){var l=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*l>s},Xn.prototype.setStale=function(){this.stale=!0};var ua=Math.pow(2,25),qu=Math.pow(2,24),Ga=Math.pow(2,17),ou=Math.pow(2,16),$s=Math.pow(2,9),_l=Math.pow(2,8),vl=Math.pow(2,1);function bl(s){if(s.opacity===0&&!s.placed)return 0;if(s.opacity===1&&s.placed)return 4294967295;var u=s.placed?1:0,l=Math.floor(127*s.opacity);return l*ua+u*qu+l*Ga+u*ou+l*$s+u*_l+l*vl+u}var Za=0,xl=function(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&s.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};xl.prototype.continuePlacement=function(s,u,l,f,_){for(var x=this._bucketParts;this._currentTileIndex<s.length;)if(u.getBucketParts(x,f,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,x.sort(function(w,k){return w.sortKey-k.sortKey}));this._currentPartIndex<x.length;)if(u.placeLayerBucketPart(x[this._currentPartIndex],this._seenCrossTileIDs,l),this._currentPartIndex++,_())return!0;return!1};var Is=function(s,u,l,f,_,x,w){this.placement=new Xn(s,_,x,w),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=l,this._showCollisionBoxes=f,this._done=!1};Is.prototype.isDone=function(){return this._done},Is.prototype.continuePlacement=function(s,u,l){for(var f=this,_=o.browser.now(),x=function(){var D=o.browser.now()-_;return!f._forceFullPlacement&&D>2};this._currentPlacementIndex>=0;){var w=u[s[this._currentPlacementIndex]],k=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=k)&&(!w.maxzoom||w.maxzoom>k)){if(this._inProgressLayer||(this._inProgressLayer=new xl(w)),this._inProgressLayer.continuePlacement(l[w.source],this.placement,this._showCollisionBoxes,w,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Is.prototype.commit=function(s){return this.placement.commit(s),this.placement};var Gs=512/o.EXTENT/2,Zs=function(s,u,l){this.tileID=s,this.indexedSymbolInstances={},this.bucketInstanceId=l;for(var f=0;f<u.length;f++){var _=u.get(f),x=_.key;this.indexedSymbolInstances[x]||(this.indexedSymbolInstances[x]=[]),this.indexedSymbolInstances[x].push({crossTileID:_.crossTileID,coord:this.getScaledCoordinates(_,s)})}};Zs.prototype.getScaledCoordinates=function(s,u){var l=Gs/Math.pow(2,u.canonical.z-this.tileID.canonical.z);return{x:Math.floor((u.canonical.x*o.EXTENT+s.anchorX)*l),y:Math.floor((u.canonical.y*o.EXTENT+s.anchorY)*l)}},Zs.prototype.findMatches=function(s,u,l){for(var f=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z),_=0;_<s.length;_++){var x=s.get(_);if(!x.crossTileID){var w=this.indexedSymbolInstances[x.key];if(w)for(var k=this.getScaledCoordinates(x,u),D=0,H=w;D<H.length;D+=1){var J=H[D];if(Math.abs(J.coord.x-k.x)<=f&&Math.abs(J.coord.y-k.y)<=f&&!l[J.crossTileID]){l[J.crossTileID]=!0,x.crossTileID=J.crossTileID;break}}}}};var xo=function(){this.maxCrossTileID=0};xo.prototype.generate=function(){return++this.maxCrossTileID};var wa=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};wa.prototype.handleWrapJump=function(s){var u=Math.round((s-this.lng)/360);if(u!==0)for(var l in this.indexes){var f=this.indexes[l],_={};for(var x in f){var w=f[x];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+u),_[w.tileID.key]=w}this.indexes[l]=_}this.lng=s},wa.prototype.addBucket=function(s,u,l){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(var f=0;f<u.symbolInstances.length;f++)u.symbolInstances.get(f).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});var _=this.usedCrossTileIDs[s.overscaledZ];for(var x in this.indexes){var w=this.indexes[x];if(Number(x)>s.overscaledZ)for(var k in w){var D=w[k];D.tileID.isChildOf(s)&&D.findMatches(u.symbolInstances,s,_)}else{var H=w[s.scaledTo(Number(x)).key];H&&H.findMatches(u.symbolInstances,s,_)}}for(var J=0;J<u.symbolInstances.length;J++){var te=u.symbolInstances.get(J);te.crossTileID||(te.crossTileID=l.generate(),_[te.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new Zs(s,u.symbolInstances,u.bucketInstanceId),!0},wa.prototype.removeBucketCrossTileIDs=function(s,u){for(var l in u.indexedSymbolInstances)for(var f=0,_=u.indexedSymbolInstances[l];f<_.length;f+=1)delete this.usedCrossTileIDs[s][_[f].crossTileID]},wa.prototype.removeStaleBuckets=function(s){var u=!1;for(var l in this.indexes){var f=this.indexes[l];for(var _ in f)s[f[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(l,f[_]),delete f[_],u=!0)}return u};var Sa=function(){this.layerIndexes={},this.crossTileIDs=new xo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Sa.prototype.addLayer=function(s,u,l){var f=this.layerIndexes[s.id];f===void 0&&(f=this.layerIndexes[s.id]=new wa);var _=!1,x={};f.handleWrapJump(l);for(var w=0,k=u;w<k.length;w+=1){var D=k[w],H=D.getBucket(s);H&&s.id===H.layerIds[0]&&(H.bucketInstanceId||(H.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(D.tileID,H,this.crossTileIDs)&&(_=!0),x[H.bucketInstanceId]=!0)}return f.removeStaleBuckets(x)&&(_=!0),_},Sa.prototype.pruneUnusedLayers=function(s){var u={};for(var l in s.forEach(function(f){u[f]=!0}),this.layerIndexes)u[l]||delete this.layerIndexes[l]};var Xa=function(s,u){return o.emitValidationErrors(s,u&&u.filter(function(l){return l.identifier!=="source.canvas"}))},ca=o.pick(It,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ta=o.pick(It,["setCenter","setZoom","setBearing","setPitch"]),ks=function(){var s={},u=o.styleSpec.$version;for(var l in o.styleSpec.$root){var f,_=o.styleSpec.$root[l];_.required&&(f=l==="version"?u:_.type==="array"?[]:{})!=null&&(s[l]=f)}return s}(),dr=function(s){function u(l,f){var _=this;f===void 0&&(f={}),s.call(this),this.map=l,this.dispatcher=new Ht(it(),this),this.imageManager=new Pe,this.imageManager.setEventedParent(this),this.glyphManager=new we(l._requestManager,f.localIdeographFontFamily),this.lineAtlas=new tt(256,512),this.crossTileSymbolIndex=new Sa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var x=this;this._rtlTextPluginCallback=u.registerForPluginStateChange(function(w){x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:w.pluginStatus,pluginURL:w.pluginURL},function(k,D){if(o.triggerPluginCompletionEvent(k),D&&D.every(function(J){return J}))for(var H in x.sourceCaches)x.sourceCaches[H].reload()})}),this.on("data",function(w){if(w.dataType==="source"&&w.sourceDataType==="metadata"){var k=_.sourceCaches[w.sourceId];if(k){var D=k.getSource();if(D&&D.vectorLayerIds)for(var H in _._layers){var J=_._layers[H];J.source===D.id&&_._validateLayer(J)}}}})}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.loadURL=function(l,f){var _=this;f===void 0&&(f={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var x=typeof f.validate=="boolean"?f.validate:!o.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,f.accessToken);var w=this.map._requestManager.transformRequest(l,o.ResourceType.Style);this._request=o.getJSON(w,function(k,D){_._request=null,k?_.fire(new o.ErrorEvent(k)):D&&_._load(D,x)})},u.prototype.loadJSON=function(l,f){var _=this;f===void 0&&(f={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){_._request=null,_._load(l,f.validate!==!1)})},u.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(ks,!1)},u.prototype._load=function(l,f){if(!f||!Xa(this,o.validateStyle(l))){for(var _ in this._loaded=!0,this.stylesheet=l,l.sources)this.addSource(_,l.sources[_],{validate:!1});l.sprite?this._loadSprite(l.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(l.glyphs);var x=kt(this.stylesheet.layers);this._order=x.map(function(H){return H.id}),this._layers={},this._serializedLayers={};for(var w=0,k=x;w<k.length;w+=1){var D=k[w];(D=o.createStyleLayer(D)).setEventedParent(this,{layer:{id:D.id}}),this._layers[D.id]=D,this._serializedLayers[D.id]=D.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Ge(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},u.prototype._loadSprite=function(l){var f=this;this._spriteRequest=function(_,x,w){var k,D,H,J=o.browser.devicePixelRatio>1?"@2x":"",te=o.getJSON(x.transformRequest(x.normalizeSpriteURL(_,J,".json"),o.ResourceType.SpriteJSON),function(ye,Ie){te=null,H||(H=ye,k=Ie,ve())}),ie=o.getImage(x.transformRequest(x.normalizeSpriteURL(_,J,".png"),o.ResourceType.SpriteImage),function(ye,Ie){ie=null,H||(H=ye,D=Ie,ve())});function ve(){if(H)w(H);else if(k&&D){var ye=o.browser.getImageData(D),Ie={};for(var he in k){var Ae=k[he],De=Ae.width,He=Ae.height,nt=Ae.x,Ke=Ae.y,ot=Ae.sdf,yt=Ae.pixelRatio,At=Ae.stretchX,Ct=Ae.stretchY,jt=Ae.content,ir=new o.RGBAImage({width:De,height:He});o.RGBAImage.copy(ye,ir,{x:nt,y:Ke},{x:0,y:0},{width:De,height:He}),Ie[he]={data:ir,pixelRatio:yt,sdf:ot,stretchX:At,stretchY:Ct,content:jt}}w(null,Ie)}}return{cancel:function(){te&&(te.cancel(),te=null),ie&&(ie.cancel(),ie=null)}}}(l,this.map._requestManager,function(_,x){if(f._spriteRequest=null,_)f.fire(new o.ErrorEvent(_));else if(x)for(var w in x)f.imageManager.addImage(w,x[w]);f.imageManager.setLoaded(!0),f._availableImages=f.imageManager.listImages(),f.dispatcher.broadcast("setImages",f._availableImages),f.fire(new o.Event("data",{dataType:"style"}))})},u.prototype._validateLayer=function(l){var f=this.sourceCaches[l.source];if(f){var _=l.sourceLayer;if(_){var x=f.getSource();(x.type==="geojson"||x.vectorLayerIds&&x.vectorLayerIds.indexOf(_)===-1)&&this.fire(new o.ErrorEvent(new Error('Source layer "'+_+'" does not exist on source "'+x.id+'" as specified by style layer "'+l.id+'"')))}}},u.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()},u.prototype._serializeLayers=function(l){for(var f=[],_=0,x=l;_<x.length;_+=1){var w=this._layers[x[_]];w.type!=="custom"&&f.push(w.serialize())}return f},u.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(var f in this._layers)if(this._layers[f].hasTransition())return!0;return!1},u.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},u.prototype.update=function(l){if(this._loaded){var f=this._changed;if(this._changed){var _=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);for(var w in(_.length||x.length)&&this._updateWorkerLayers(_,x),this._updatedSources){var k=this._updatedSources[w];k==="reload"?this._reloadSource(w):k==="clear"&&this._clearSource(w)}for(var D in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[D].updateTransitions(l);this.light.updateTransitions(l),this._resetUpdates()}var H={};for(var J in this.sourceCaches){var te=this.sourceCaches[J];H[J]=te.used,te.used=!1}for(var ie=0,ve=this._order;ie<ve.length;ie+=1){var ye=this._layers[ve[ie]];ye.recalculate(l,this._availableImages),!ye.isHidden(l.zoom)&&ye.source&&(this.sourceCaches[ye.source].used=!0)}for(var Ie in H){var he=this.sourceCaches[Ie];H[Ie]!==he.used&&he.fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Ie}))}this.light.recalculate(l),this.z=l.zoom,f&&this.fire(new o.Event("data",{dataType:"style"}))}},u.prototype._updateTilesForChangedImages=function(){var l=Object.keys(this._changedImages);if(l.length){for(var f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}},u.prototype._updateWorkerLayers=function(l,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:f})},u.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},u.prototype.setState=function(l){var f=this;if(this._checkLoaded(),Xa(this,o.validateStyle(l)))return!1;(l=o.clone$1(l)).layers=kt(l.layers);var _=function(w,k){if(!w)return[{command:It.setStyle,args:[k]}];var D=[];try{if(!o.deepEqual(w.version,k.version))return[{command:It.setStyle,args:[k]}];o.deepEqual(w.center,k.center)||D.push({command:It.setCenter,args:[k.center]}),o.deepEqual(w.zoom,k.zoom)||D.push({command:It.setZoom,args:[k.zoom]}),o.deepEqual(w.bearing,k.bearing)||D.push({command:It.setBearing,args:[k.bearing]}),o.deepEqual(w.pitch,k.pitch)||D.push({command:It.setPitch,args:[k.pitch]}),o.deepEqual(w.sprite,k.sprite)||D.push({command:It.setSprite,args:[k.sprite]}),o.deepEqual(w.glyphs,k.glyphs)||D.push({command:It.setGlyphs,args:[k.glyphs]}),o.deepEqual(w.transition,k.transition)||D.push({command:It.setTransition,args:[k.transition]}),o.deepEqual(w.light,k.light)||D.push({command:It.setLight,args:[k.light]});var H={},J=[];(function(ie,ve,ye,Ie){var he;for(he in ve=ve||{},ie=ie||{})ie.hasOwnProperty(he)&&(ve.hasOwnProperty(he)||Mt(he,ye,Ie));for(he in ve)ve.hasOwnProperty(he)&&(ie.hasOwnProperty(he)?o.deepEqual(ie[he],ve[he])||(ie[he].type==="geojson"&&ve[he].type==="geojson"&&yn(ie,ve,he)?ye.push({command:It.setGeoJSONSourceData,args:[he,ve[he].data]}):Nr(he,ve,ye,Ie)):Sr(he,ve,ye))})(w.sources,k.sources,J,H);var te=[];w.layers&&w.layers.forEach(function(ie){H[ie.source]?D.push({command:It.removeLayer,args:[ie.id]}):te.push(ie)}),D=D.concat(J),function(ie,ve,ye){ve=ve||[];var Ie,he,Ae,De,He,nt,Ke,ot=(ie=ie||[]).map(qr),yt=ve.map(qr),At=ie.reduce(Fr,{}),Ct=ve.reduce(Fr,{}),jt=ot.slice(),ir=Object.create(null);for(Ie=0,he=0;Ie<ot.length;Ie++)Ct.hasOwnProperty(Ae=ot[Ie])?he++:(ye.push({command:It.removeLayer,args:[Ae]}),jt.splice(jt.indexOf(Ae,he),1));for(Ie=0,he=0;Ie<yt.length;Ie++)jt[jt.length-1-Ie]!==(Ae=yt[yt.length-1-Ie])&&(At.hasOwnProperty(Ae)?(ye.push({command:It.removeLayer,args:[Ae]}),jt.splice(jt.lastIndexOf(Ae,jt.length-he),1)):he++,ye.push({command:It.addLayer,args:[Ct[Ae],nt=jt[jt.length-Ie]]}),jt.splice(jt.length-Ie,0,Ae),ir[Ae]=!0);for(Ie=0;Ie<yt.length;Ie++)if(De=At[Ae=yt[Ie]],He=Ct[Ae],!ir[Ae]&&!o.deepEqual(De,He))if(o.deepEqual(De.source,He.source)&&o.deepEqual(De["source-layer"],He["source-layer"])&&o.deepEqual(De.type,He.type)){for(Ke in Ar(De.layout,He.layout,ye,Ae,null,It.setLayoutProperty),Ar(De.paint,He.paint,ye,Ae,null,It.setPaintProperty),o.deepEqual(De.filter,He.filter)||ye.push({command:It.setFilter,args:[Ae,He.filter]}),o.deepEqual(De.minzoom,He.minzoom)&&o.deepEqual(De.maxzoom,He.maxzoom)||ye.push({command:It.setLayerZoomRange,args:[Ae,He.minzoom,He.maxzoom]}),De)De.hasOwnProperty(Ke)&&Ke!=="layout"&&Ke!=="paint"&&Ke!=="filter"&&Ke!=="metadata"&&Ke!=="minzoom"&&Ke!=="maxzoom"&&(Ke.indexOf("paint.")===0?Ar(De[Ke],He[Ke],ye,Ae,Ke.slice(6),It.setPaintProperty):o.deepEqual(De[Ke],He[Ke])||ye.push({command:It.setLayerProperty,args:[Ae,Ke,He[Ke]]}));for(Ke in He)He.hasOwnProperty(Ke)&&!De.hasOwnProperty(Ke)&&Ke!=="layout"&&Ke!=="paint"&&Ke!=="filter"&&Ke!=="metadata"&&Ke!=="minzoom"&&Ke!=="maxzoom"&&(Ke.indexOf("paint.")===0?Ar(De[Ke],He[Ke],ye,Ae,Ke.slice(6),It.setPaintProperty):o.deepEqual(De[Ke],He[Ke])||ye.push({command:It.setLayerProperty,args:[Ae,Ke,He[Ke]]}))}else ye.push({command:It.removeLayer,args:[Ae]}),nt=jt[jt.lastIndexOf(Ae)+1],ye.push({command:It.addLayer,args:[He,nt]})}(te,k.layers,D)}catch(ie){console.warn("Unable to compute style diff:",ie),D=[{command:It.setStyle,args:[k]}]}return D}(this.serialize(),l).filter(function(w){return!(w.command in Ta)});if(_.length===0)return!1;var x=_.filter(function(w){return!(w.command in ca)});if(x.length>0)throw new Error("Unimplemented: "+x.map(function(w){return w.command}).join(", ")+".");return _.forEach(function(w){w.command!=="setTransition"&&f[w.command].apply(f,w.args)}),this.stylesheet=l,!0},u.prototype.addImage=function(l,f){if(this.getImage(l))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(l,f),this._afterImageUpdated(l)},u.prototype.updateImage=function(l,f){this.imageManager.updateImage(l,f)},u.prototype.getImage=function(l){return this.imageManager.getImage(l)},u.prototype.removeImage=function(l){if(!this.getImage(l))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(l),this._afterImageUpdated(l)},u.prototype._afterImageUpdated=function(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))},u.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},u.prototype.addSource=function(l,f,_){var x=this;if(_===void 0&&(_={}),this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error("There is already a source with this ID");if(!f.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(f).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(o.validateStyle.source,"sources."+l,f,null,_))){this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);var w=this.sourceCaches[l]=new be(l,f,this.dispatcher);w.style=this,w.setEventedParent(this,function(){return{isSourceLoaded:x.loaded(),source:w.serialize(),sourceId:l}}),w.onAdd(this.map),this._changed=!0}},u.prototype.removeSource=function(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(var f in this._layers)if(this._layers[f].source===l)return this.fire(new o.ErrorEvent(new Error('Source "'+l+'" cannot be removed while layer "'+f+'" is using it.')));var _=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],_.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),_.setEventedParent(null),_.clearTiles(),_.onRemove&&_.onRemove(this.map),this._changed=!0},u.prototype.setGeoJSONSourceData=function(l,f){this._checkLoaded(),this.sourceCaches[l].getSource().setData(f),this._changed=!0},u.prototype.getSource=function(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()},u.prototype.addLayer=function(l,f,_){_===void 0&&(_={}),this._checkLoaded();var x=l.id;if(this.getLayer(x))this.fire(new o.ErrorEvent(new Error('Layer with id "'+x+'" already exists on this map')));else{var w;if(l.type==="custom"){if(Xa(this,o.validateCustomStyleLayer(l)))return;w=o.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(x,l.source),l=o.clone$1(l),l=o.extend(l,{source:x})),this._validate(o.validateStyle.layer,"layers."+x,l,{arrayIndex:-1},_))return;w=o.createStyleLayer(l),this._validateLayer(w),w.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[w.id]=w.serialize()}var k=f?this._order.indexOf(f):this._order.length;if(f&&k===-1)this.fire(new o.ErrorEvent(new Error('Layer with id "'+f+'" does not exist on this map.')));else{if(this._order.splice(k,0,x),this._layerOrderChanged=!0,this._layers[x]=w,this._removedLayers[x]&&w.source&&w.type!=="custom"){var D=this._removedLayers[x];delete this._removedLayers[x],D.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}},u.prototype.moveLayer=function(l,f){if(this._checkLoaded(),this._changed=!0,this._layers[l]){if(l!==f){var _=this._order.indexOf(l);this._order.splice(_,1);var x=f?this._order.indexOf(f):this._order.length;f&&x===-1?this.fire(new o.ErrorEvent(new Error('Layer with id "'+f+'" does not exist on this map.'))):(this._order.splice(x,0,l),this._layerOrderChanged=!0)}}else this.fire(new o.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be moved.")))},u.prototype.removeLayer=function(l){this._checkLoaded();var f=this._layers[l];if(f){f.setEventedParent(null);var _=this._order.indexOf(l);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=f,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],f.onRemove&&f.onRemove(this.map)}else this.fire(new o.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be removed.")))},u.prototype.getLayer=function(l){return this._layers[l]},u.prototype.hasLayer=function(l){return l in this._layers},u.prototype.setLayerZoomRange=function(l,f,_){this._checkLoaded();var x=this.getLayer(l);x?x.minzoom===f&&x.maxzoom===_||(f!=null&&(x.minzoom=f),_!=null&&(x.maxzoom=_),this._updateLayer(x)):this.fire(new o.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot have zoom extent.")))},u.prototype.setFilter=function(l,f,_){_===void 0&&(_={}),this._checkLoaded();var x=this.getLayer(l);if(x){if(!o.deepEqual(x.filter,f))return f==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(o.validateStyle.filter,"layers."+x.id+".filter",f,null,_)||(x.filter=o.clone$1(f),this._updateLayer(x)))}else this.fire(new o.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be filtered.")))},u.prototype.getFilter=function(l){return o.clone$1(this.getLayer(l).filter)},u.prototype.setLayoutProperty=function(l,f,_,x){x===void 0&&(x={}),this._checkLoaded();var w=this.getLayer(l);w?o.deepEqual(w.getLayoutProperty(f),_)||(w.setLayoutProperty(f,_,x),this._updateLayer(w)):this.fire(new o.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},u.prototype.getLayoutProperty=function(l,f){var _=this.getLayer(l);if(_)return _.getLayoutProperty(f);this.fire(new o.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style.")))},u.prototype.setPaintProperty=function(l,f,_,x){x===void 0&&(x={}),this._checkLoaded();var w=this.getLayer(l);w?o.deepEqual(w.getPaintProperty(f),_)||(w.setPaintProperty(f,_,x)&&this._updateLayer(w),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new o.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},u.prototype.getPaintProperty=function(l,f){return this.getLayer(l).getPaintProperty(f)},u.prototype.setFeatureState=function(l,f){this._checkLoaded();var _=l.source,x=l.sourceLayer,w=this.sourceCaches[_];if(w!==void 0){var k=w.getSource().type;k==="geojson"&&x?this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):k!=="vector"||x?(l.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),w.setFeatureState(x,l.id,f)):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+_+"' does not exist in the map's style.")))},u.prototype.removeFeatureState=function(l,f){this._checkLoaded();var _=l.source,x=this.sourceCaches[_];if(x!==void 0){var w=x.getSource().type,k=w==="vector"?l.sourceLayer:void 0;w!=="vector"||k?f&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):x.removeFeatureState(k,l.id,f):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+_+"' does not exist in the map's style.")))},u.prototype.getFeatureState=function(l){this._checkLoaded();var f=l.source,_=l.sourceLayer,x=this.sourceCaches[f];if(x!==void 0){if(x.getSource().type!=="vector"||_)return l.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),x.getFeatureState(_,l.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+f+"' does not exist in the map's style.")))},u.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},u.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function(l){return l.serialize()}),layers:this._serializeLayers(this._order)},function(l){return l!==void 0})},u.prototype._updateLayer=function(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._changed=!0},u.prototype._flattenAndSortRenderedFeatures=function(l){for(var f=this,_=function(At){return f._layers[At].type==="fill-extrusion"},x={},w=[],k=this._order.length-1;k>=0;k--){var D=this._order[k];if(_(D)){x[D]=k;for(var H=0,J=l;H<J.length;H+=1){var te=J[H][D];if(te)for(var ie=0,ve=te;ie<ve.length;ie+=1)w.push(ve[ie])}}}w.sort(function(At,Ct){return Ct.intersectionZ-At.intersectionZ});for(var ye=[],Ie=this._order.length-1;Ie>=0;Ie--){var he=this._order[Ie];if(_(he))for(var Ae=w.length-1;Ae>=0;Ae--){var De=w[Ae].feature;if(x[De.layer.id]<Ie)break;ye.push(De),w.pop()}else for(var He=0,nt=l;He<nt.length;He+=1){var Ke=nt[He][he];if(Ke)for(var ot=0,yt=Ke;ot<yt.length;ot+=1)ye.push(yt[ot].feature)}}return ye},u.prototype.queryRenderedFeatures=function(l,f,_){f&&f.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",f.filter,null,f);var x={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var w=0,k=f.layers;w<k.length;w+=1){var D=k[w],H=this._layers[D];if(!H)return this.fire(new o.ErrorEvent(new Error("The layer '"+D+"' does not exist in the map's style and cannot be queried for features."))),[];x[H.source]=!0}}var J=[];for(var te in f.availableImages=this._availableImages,this.sourceCaches)f.layers&&!x[te]||J.push(On(this.sourceCaches[te],this._layers,this._serializedLayers,l,f,_));return this.placement&&J.push(function(ie,ve,ye,Ie,he,Ae,De){for(var He={},nt=Ae.queryRenderedSymbols(Ie),Ke=[],ot=0,yt=Object.keys(nt).map(Number);ot<yt.length;ot+=1)Ke.push(De[yt[ot]]);Ke.sort(Qn);for(var At=function(){var ur=jt[Ct],on=ur.featureIndex.lookupSymbolFeatures(nt[ur.bucketInstanceId],ve,ur.bucketIndex,ur.sourceLayerIndex,he.filter,he.layers,he.availableImages,ie);for(var qt in on){var wr=He[qt]=He[qt]||[],Lr=on[qt];Lr.sort(function(Pr,yr){var mr=ur.featureSortOrder;if(mr){var Bi=mr.indexOf(Pr.featureIndex);return mr.indexOf(yr.featureIndex)-Bi}return yr.featureIndex-Pr.featureIndex});for(var xr=0,_r=Lr;xr<_r.length;xr+=1)wr.push(_r[xr])}},Ct=0,jt=Ke;Ct<jt.length;Ct+=1)At();var ir=function(ur){He[ur].forEach(function(on){var qt=on.feature,wr=ye[ie[ur].source].getFeatureState(qt.layer["source-layer"],qt.id);qt.source=qt.layer.source,qt.layer["source-layer"]&&(qt.sourceLayer=qt.layer["source-layer"]),qt.state=wr})};for(var cr in He)ir(cr);return He}(this._layers,this._serializedLayers,this.sourceCaches,l,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(J)},u.prototype.querySourceFeatures=function(l,f){f&&f.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",f.filter,null,f);var _=this.sourceCaches[l];return _?function(x,w){for(var k=x.getRenderableIds().map(function(ve){return x.getTileByID(ve)}),D=[],H={},J=0;J<k.length;J++){var te=k[J],ie=te.tileID.canonical.key;H[ie]||(H[ie]=!0,te.querySourceFeatures(D,w))}return D}(_,f):[]},u.prototype.addSourceType=function(l,f,_){return u.getSourceType(l)?_(new Error('A source type called "'+l+'" already exists.')):(u.setSourceType(l,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:f.workerSourceURL},_):_(null,null))},u.prototype.getLight=function(){return this.light.getLight()},u.prototype.setLight=function(l,f){f===void 0&&(f={}),this._checkLoaded();var _=this.light.getLight(),x=!1;for(var w in l)if(!o.deepEqual(l[w],_[w])){x=!0;break}if(x){var k={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,f),this.light.updateTransitions(k)}},u.prototype._validate=function(l,f,_,x,w){return w===void 0&&(w={}),(!w||w.validate!==!1)&&Xa(this,l.call(o.validateStyle,o.extend({key:f,style:this.serialize(),value:_,styleSpec:o.styleSpec},x)))},u.prototype._remove=function(){for(var l in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[l].setEventedParent(null);for(var f in this.sourceCaches)this.sourceCaches[f].clearTiles(),this.sourceCaches[f].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},u.prototype._clearSource=function(l){this.sourceCaches[l].clearTiles()},u.prototype._reloadSource=function(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()},u.prototype._updateSources=function(l){for(var f in this.sourceCaches)this.sourceCaches[f].update(l)},u.prototype._generateCollisionBoxes=function(){for(var l in this.sourceCaches)this._reloadSource(l)},u.prototype._updatePlacement=function(l,f,_,x,w){w===void 0&&(w=!1);for(var k=!1,D=!1,H={},J=0,te=this._order;J<te.length;J+=1){var ie=this._layers[te[J]];if(ie.type==="symbol"){if(!H[ie.source]){var ve=this.sourceCaches[ie.source];H[ie.source]=ve.getRenderableIds(!0).map(function(De){return ve.getTileByID(De)}).sort(function(De,He){return He.tileID.overscaledZ-De.tileID.overscaledZ||(De.tileID.isLessThan(He.tileID)?-1:1)})}var ye=this.crossTileSymbolIndex.addLayer(ie,H[ie.source],l.center.lng);k=k||ye}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),l.zoom))&&(this.pauseablePlacement=new Is(l,this._order,w,f,_,x,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,H),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),D=!0),k&&this.pauseablePlacement.placement.setStale()),D||k)for(var Ie=0,he=this._order;Ie<he.length;Ie+=1){var Ae=this._layers[he[Ie]];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,H[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now())},u.prototype._releaseSymbolFadeTiles=function(){for(var l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()},u.prototype.getImages=function(l,f,_){this.imageManager.getImages(f.icons,_),this._updateTilesForChangedImages();var x=this.sourceCaches[f.source];x&&x.setDependencies(f.tileID.key,f.type,f.icons)},u.prototype.getGlyphs=function(l,f,_){this.glyphManager.getGlyphs(f.stacks,_)},u.prototype.getResource=function(l,f,_){return o.makeRequest(f,_)},u}(o.Evented);dr.getSourceType=function(s){return gn[s]},dr.setSourceType=function(s,u){gn[s]=u},dr.registerForPluginStateChange=o.registerForPluginStateChange;var Nn=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),Mo=ft(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),wl=ft(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),au=ft(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Xs=ft(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Sl=ft("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Tl=ft(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),El=ft(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ka=ft("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Cl=ft("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Al=ft("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Hu=ft(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Ps=ft(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ks=ft(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),y=ft(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),b=ft(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),I=ft(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),L=ft(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),j=ft(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),q=ft(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Z=ft(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Le=ft(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Te=ft(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Ue=ft(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),st=ft(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),mt=ft(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Qe=ft(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function ft(s,u){var l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=u.match(/attribute ([\w]+) ([\w]+)/g),_=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=x?x.concat(_):_,k={};return{fragmentSource:s=s.replace(l,function(D,H,J,te,ie){return k[ie]=!0,H==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
varying `+J+" "+te+" "+ie+`;
#else
uniform `+J+" "+te+" u_"+ie+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ie+`
    `+J+" "+te+" "+ie+" = u_"+ie+`;
#endif
`}),vertexSource:u=u.replace(l,function(D,H,J,te,ie){var ve=te==="float"?"vec2":"vec4",ye=ie.match(/color/)?"color":ve;return k[ie]?H==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
uniform lowp float u_`+ie+`_t;
attribute `+J+" "+ve+" a_"+ie+`;
varying `+J+" "+te+" "+ie+`;
#else
uniform `+J+" "+te+" u_"+ie+`;
#endif
`:ye==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+ie+" = a_"+ie+`;
#else
    `+J+" "+te+" "+ie+" = u_"+ie+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+ie+" = unpack_mix_"+ye+"(a_"+ie+", u_"+ie+`_t);
#else
    `+J+" "+te+" "+ie+" = u_"+ie+`;
#endif
`:H==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
uniform lowp float u_`+ie+`_t;
attribute `+J+" "+ve+" a_"+ie+`;
#else
uniform `+J+" "+te+" u_"+ie+`;
#endif
`:ye==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+J+" "+te+" "+ie+" = a_"+ie+`;
#else
    `+J+" "+te+" "+ie+" = u_"+ie+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+J+" "+te+" "+ie+" = unpack_mix_"+ye+"(a_"+ie+", u_"+ie+`_t);
#else
    `+J+" "+te+" "+ie+" = u_"+ie+`;
#endif
`}),staticAttributes:f,staticUniforms:w}}var kr=Object.freeze({__proto__:null,prelude:Mo,background:wl,backgroundPattern:au,circle:Xs,clippingMask:Sl,heatmap:Tl,heatmapTexture:El,collisionBox:Ka,collisionCircle:Cl,debug:Al,fill:Hu,fillOutline:Ps,fillOutlinePattern:Ks,fillPattern:y,fillExtrusion:b,fillExtrusionPattern:I,hillshadePrepare:L,hillshade:j,line:q,lineGradient:Z,linePattern:Le,lineSDF:Te,raster:Ue,symbolIcon:st,symbolSDF:mt,symbolTextAndIcon:Qe}),vr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Or(s){for(var u=[],l=0;l<s.length;l++)if(s[l]!==null){var f=s[l].split(" ");u.push(f.pop())}return u}vr.prototype.bind=function(s,u,l,f,_,x,w,k){this.context=s;for(var D=this.boundPaintVertexBuffers.length!==f.length,H=0;!D&&H<f.length;H++)this.boundPaintVertexBuffers[H]!==f[H]&&(D=!0);s.extVertexArrayObject&&this.vao&&this.boundProgram===u&&this.boundLayoutVertexBuffer===l&&!D&&this.boundIndexBuffer===_&&this.boundVertexOffset===x&&this.boundDynamicVertexBuffer===w&&this.boundDynamicVertexBuffer2===k?(s.bindVertexArrayOES.set(this.vao),w&&w.bind(),_&&_.dynamicDraw&&_.bind(),k&&k.bind()):this.freshBind(u,l,f,_,x,w,k)},vr.prototype.freshBind=function(s,u,l,f,_,x,w){var k,D=s.numAttributes,H=this.context,J=H.gl;if(H.extVertexArrayObject)this.vao&&this.destroy(),this.vao=H.extVertexArrayObject.createVertexArrayOES(),H.bindVertexArrayOES.set(this.vao),k=0,this.boundProgram=s,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=l,this.boundIndexBuffer=f,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=x,this.boundDynamicVertexBuffer2=w;else{k=H.currentNumAttributes||0;for(var te=D;te<k;te++)J.disableVertexAttribArray(te)}u.enableAttributes(J,s);for(var ie=0,ve=l;ie<ve.length;ie+=1)ve[ie].enableAttributes(J,s);x&&x.enableAttributes(J,s),w&&w.enableAttributes(J,s),u.bind(),u.setVertexAttribPointers(J,s,_);for(var ye=0,Ie=l;ye<Ie.length;ye+=1){var he=Ie[ye];he.bind(),he.setVertexAttribPointers(J,s,_)}x&&(x.bind(),x.setVertexAttribPointers(J,s,_)),f&&f.bind(),w&&(w.bind(),w.setVertexAttribPointers(J,s,_)),H.currentNumAttributes=D},vr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var _i=function(s,u,l,f,_,x){var w=s.gl;this.program=w.createProgram();for(var k=Or(l.staticAttributes),D=f?f.getBinderAttributes():[],H=k.concat(D),J=l.staticUniforms?Or(l.staticUniforms):[],te=f?f.getBinderUniforms():[],ie=[],ve=0,ye=J.concat(te);ve<ye.length;ve+=1){var Ie=ye[ve];ie.indexOf(Ie)<0&&ie.push(Ie)}var he=f?f.defines():[];x&&he.push("#define OVERDRAW_INSPECTOR;");var Ae=he.concat(Mo.fragmentSource,l.fragmentSource).join(`
`),De=he.concat(Mo.vertexSource,l.vertexSource).join(`
`),He=w.createShader(w.FRAGMENT_SHADER);if(w.isContextLost())this.failedToCreate=!0;else{w.shaderSource(He,Ae),w.compileShader(He),w.attachShader(this.program,He);var nt=w.createShader(w.VERTEX_SHADER);if(w.isContextLost())this.failedToCreate=!0;else{w.shaderSource(nt,De),w.compileShader(nt),w.attachShader(this.program,nt),this.attributes={};var Ke={};this.numAttributes=H.length;for(var ot=0;ot<this.numAttributes;ot++)H[ot]&&(w.bindAttribLocation(this.program,ot,H[ot]),this.attributes[H[ot]]=ot);w.linkProgram(this.program),w.deleteShader(nt),w.deleteShader(He);for(var yt=0;yt<ie.length;yt++){var At=ie[yt];if(At&&!Ke[At]){var Ct=w.getUniformLocation(this.program,At);Ct&&(Ke[At]=Ct)}}this.fixedUniforms=_(s,Ke),this.binderUniforms=f?f.getUniforms(s,Ke):[]}}};function F(s,u,l){var f=1/un(l,1,u.transform.tileZoom),_=Math.pow(2,l.tileID.overscaledZ),x=l.tileSize*Math.pow(2,u.transform.tileZoom)/_,w=x*(l.tileID.canonical.x+l.tileID.wrap*_),k=x*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_scale:[f,s.fromScale,s.toScale],u_fade:s.t,u_pixel_coord_upper:[w>>16,k>>16],u_pixel_coord_lower:[65535&w,65535&k]}}_i.prototype.draw=function(s,u,l,f,_,x,w,k,D,H,J,te,ie,ve,ye,Ie){var he,Ae=s.gl;if(!this.failedToCreate){for(var De in s.program.set(this.program),s.setDepthMode(l),s.setStencilMode(f),s.setColorMode(_),s.setCullFace(x),this.fixedUniforms)this.fixedUniforms[De].set(w[De]);ve&&ve.setUniforms(s,this.binderUniforms,te,{zoom:ie});for(var He=(he={},he[Ae.LINES]=2,he[Ae.TRIANGLES]=3,he[Ae.LINE_STRIP]=1,he)[u],nt=0,Ke=J.get();nt<Ke.length;nt+=1){var ot=Ke[nt],yt=ot.vaos||(ot.vaos={});(yt[k]||(yt[k]=new vr)).bind(s,this,D,ve?ve.getPaintVertexBuffers():[],H,ot.vertexOffset,ye,Ie),Ae.drawElements(u,ot.primitiveLength*He,Ae.UNSIGNED_SHORT,ot.primitiveOffset*He*2)}}};var A=function(s,u,l,f){var _=u.style.light,x=_.properties.get("position"),w=[x.x,x.y,x.z],k=o.create$1();_.properties.get("anchor")==="viewport"&&o.fromRotation(k,-u.transform.angle),o.transformMat3(w,w,k);var D=_.properties.get("color");return{u_matrix:s,u_lightpos:w,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[D.r,D.g,D.b],u_vertical_gradient:+l,u_opacity:f}},N=function(s,u,l,f,_,x,w){return o.extend(A(s,u,l,f),F(x,u,w),{u_height_factor:-Math.pow(2,_.overscaledZ)/w.tileSize/8})},ne=function(s){return{u_matrix:s}},Ce=function(s,u,l,f){return o.extend(ne(s),F(l,u,f))},et=function(s,u){return{u_matrix:s,u_world:u}},Tt=function(s,u,l,f,_){return o.extend(Ce(s,u,l,f),{u_world:_})},tr=function(s,u,l,f){var _,x,w=s.transform;if(f.paint.get("circle-pitch-alignment")==="map"){var k=un(l,1,w.zoom);_=!0,x=[k,k]}else _=!1,x=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_matrix:s.translatePosMatrix(u.posMatrix,l,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:x}},Tr=function(s,u,l){var f=un(l,1,u.zoom),_=Math.pow(2,u.zoom-l.tileID.overscaledZ),x=l.tileID.overscaleFactor();return{u_matrix:s,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[u.pixelsToGLUnits[0]/(f*_),u.pixelsToGLUnits[1]/(f*_)],u_overscale_factor:x}},zr=function(s,u,l){return{u_matrix:s,u_inv_matrix:u,u_camera_to_center_distance:l.cameraToCenterDistance,u_viewport_size:[l.width,l.height]}},Hr=function(s,u,l){return l===void 0&&(l=1),{u_matrix:s,u_color:u,u_overlay:0,u_overlay_scale:l}},nn=function(s){return{u_matrix:s}},wo=function(s,u,l,f){return{u_matrix:s,u_extrude_scale:un(u,1,l),u_intensity:f}},So=function(s,u,l){var f=s.transform;return{u_matrix:Il(s,u,l),u_ratio:1/un(u,1,f.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},Br=function(s,u,l,f){return o.extend(So(s,u,l),{u_image:0,u_image_height:f})},fs=function(s,u,l,f){var _=s.transform,x=to(u,_);return{u_matrix:Il(s,u,l),u_texsize:u.imageAtlasTexture.size,u_ratio:1/un(u,1,_.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[x,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},$o=function(s,u,l,f,_){var x=s.lineAtlas,w=to(u,s.transform),k=l.layout.get("line-cap")==="round",D=x.getDash(f.from,k),H=x.getDash(f.to,k),J=D.width*_.fromScale,te=H.width*_.toScale;return o.extend(So(s,u,l),{u_patternscale_a:[w/J,-D.height/2],u_patternscale_b:[w/te,-H.height/2],u_sdfgamma:x.width/(256*Math.min(J,te)*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:D.y,u_tex_y_b:H.y,u_mix:_.t})};function to(s,u){return 1/un(s,1,u.tileZoom)}function Il(s,u,l){return s.translatePosMatrix(u.tileID.posMatrix,u,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}var Wu=function(s,u,l,f,_){return{u_matrix:s,u_tl_parent:u,u_scale_parent:l,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(w=_.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(x=_.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:su(_.paint.get("raster-hue-rotate"))};var x,w};function su(s){s*=Math.PI/180;var u=Math.sin(s),l=Math.cos(s);return[(2*l+1)/3,(-Math.sqrt(3)*u-l+1)/3,(Math.sqrt(3)*u-l+1)/3]}var cn,Go=function(s,u,l,f,_,x,w,k,D,H){var J=_.transform;return{u_is_size_zoom_constant:+(s==="constant"||s==="source"),u_is_size_feature_constant:+(s==="constant"||s==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:J.cameraToCenterDistance,u_pitch:J.pitch/360*2*Math.PI,u_rotate_symbol:+l,u_aspect_ratio:J.width/J.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:w,u_coord_matrix:k,u_is_text:+D,u_pitch_with_map:+f,u_texsize:H,u_texture:0}},Fi=function(s,u,l,f,_,x,w,k,D,H,J){var te=_.transform;return o.extend(Go(s,u,l,f,_,x,w,k,D,H),{u_gamma_scale:f?Math.cos(te._pitch)*te.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+J})},Oo=function(s,u,l,f,_,x,w,k,D,H){return o.extend(Fi(s,u,l,f,_,x,w,k,!0,D,!0),{u_texsize_icon:H,u_texture_icon:1})},Ya=function(s,u,l){return{u_matrix:s,u_opacity:u,u_color:l}},Ja=function(s,u,l,f,_,x){return o.extend(function(w,k,D,H){var J=D.imageManager.getPattern(w.from.toString()),te=D.imageManager.getPattern(w.to.toString()),ie=D.imageManager.getPixelSize(),ve=ie.width,ye=ie.height,Ie=Math.pow(2,H.tileID.overscaledZ),he=H.tileSize*Math.pow(2,D.transform.tileZoom)/Ie,Ae=he*(H.tileID.canonical.x+H.tileID.wrap*Ie),De=he*H.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:J.tl,u_pattern_br_a:J.br,u_pattern_tl_b:te.tl,u_pattern_br_b:te.br,u_texsize:[ve,ye],u_mix:k.t,u_pattern_size_a:J.displaySize,u_pattern_size_b:te.displaySize,u_scale_a:k.fromScale,u_scale_b:k.toScale,u_tile_units_to_pixels:1/un(H,1,D.transform.tileZoom),u_pixel_coord_upper:[Ae>>16,De>>16],u_pixel_coord_lower:[65535&Ae,65535&De]}}(f,x,l,_),{u_matrix:s,u_opacity:u})},kl={fillExtrusion:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_lightpos:new o.Uniform3f(s,u.u_lightpos),u_lightintensity:new o.Uniform1f(s,u.u_lightintensity),u_lightcolor:new o.Uniform3f(s,u.u_lightcolor),u_vertical_gradient:new o.Uniform1f(s,u.u_vertical_gradient),u_opacity:new o.Uniform1f(s,u.u_opacity)}},fillExtrusionPattern:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_lightpos:new o.Uniform3f(s,u.u_lightpos),u_lightintensity:new o.Uniform1f(s,u.u_lightintensity),u_lightcolor:new o.Uniform3f(s,u.u_lightcolor),u_vertical_gradient:new o.Uniform1f(s,u.u_vertical_gradient),u_height_factor:new o.Uniform1f(s,u.u_height_factor),u_image:new o.Uniform1i(s,u.u_image),u_texsize:new o.Uniform2f(s,u.u_texsize),u_pixel_coord_upper:new o.Uniform2f(s,u.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(s,u.u_pixel_coord_lower),u_scale:new o.Uniform3f(s,u.u_scale),u_fade:new o.Uniform1f(s,u.u_fade),u_opacity:new o.Uniform1f(s,u.u_opacity)}},fill:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix)}},fillPattern:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_image:new o.Uniform1i(s,u.u_image),u_texsize:new o.Uniform2f(s,u.u_texsize),u_pixel_coord_upper:new o.Uniform2f(s,u.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(s,u.u_pixel_coord_lower),u_scale:new o.Uniform3f(s,u.u_scale),u_fade:new o.Uniform1f(s,u.u_fade)}},fillOutline:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_world:new o.Uniform2f(s,u.u_world)}},fillOutlinePattern:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_world:new o.Uniform2f(s,u.u_world),u_image:new o.Uniform1i(s,u.u_image),u_texsize:new o.Uniform2f(s,u.u_texsize),u_pixel_coord_upper:new o.Uniform2f(s,u.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(s,u.u_pixel_coord_lower),u_scale:new o.Uniform3f(s,u.u_scale),u_fade:new o.Uniform1f(s,u.u_fade)}},circle:function(s,u){return{u_camera_to_center_distance:new o.Uniform1f(s,u.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(s,u.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(s,u.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(s,u.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(s,u.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(s,u.u_matrix)}},collisionBox:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_camera_to_center_distance:new o.Uniform1f(s,u.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(s,u.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(s,u.u_extrude_scale),u_overscale_factor:new o.Uniform1f(s,u.u_overscale_factor)}},collisionCircle:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_inv_matrix:new o.UniformMatrix4f(s,u.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(s,u.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(s,u.u_viewport_size)}},debug:function(s,u){return{u_color:new o.UniformColor(s,u.u_color),u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_overlay:new o.Uniform1i(s,u.u_overlay),u_overlay_scale:new o.Uniform1f(s,u.u_overlay_scale)}},clippingMask:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix)}},heatmap:function(s,u){return{u_extrude_scale:new o.Uniform1f(s,u.u_extrude_scale),u_intensity:new o.Uniform1f(s,u.u_intensity),u_matrix:new o.UniformMatrix4f(s,u.u_matrix)}},heatmapTexture:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_world:new o.Uniform2f(s,u.u_world),u_image:new o.Uniform1i(s,u.u_image),u_color_ramp:new o.Uniform1i(s,u.u_color_ramp),u_opacity:new o.Uniform1f(s,u.u_opacity)}},hillshade:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_image:new o.Uniform1i(s,u.u_image),u_latrange:new o.Uniform2f(s,u.u_latrange),u_light:new o.Uniform2f(s,u.u_light),u_shadow:new o.UniformColor(s,u.u_shadow),u_highlight:new o.UniformColor(s,u.u_highlight),u_accent:new o.UniformColor(s,u.u_accent)}},hillshadePrepare:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_image:new o.Uniform1i(s,u.u_image),u_dimension:new o.Uniform2f(s,u.u_dimension),u_zoom:new o.Uniform1f(s,u.u_zoom),u_unpack:new o.Uniform4f(s,u.u_unpack)}},line:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_ratio:new o.Uniform1f(s,u.u_ratio),u_device_pixel_ratio:new o.Uniform1f(s,u.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(s,u.u_units_to_pixels)}},lineGradient:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_ratio:new o.Uniform1f(s,u.u_ratio),u_device_pixel_ratio:new o.Uniform1f(s,u.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(s,u.u_units_to_pixels),u_image:new o.Uniform1i(s,u.u_image),u_image_height:new o.Uniform1f(s,u.u_image_height)}},linePattern:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_texsize:new o.Uniform2f(s,u.u_texsize),u_ratio:new o.Uniform1f(s,u.u_ratio),u_device_pixel_ratio:new o.Uniform1f(s,u.u_device_pixel_ratio),u_image:new o.Uniform1i(s,u.u_image),u_units_to_pixels:new o.Uniform2f(s,u.u_units_to_pixels),u_scale:new o.Uniform3f(s,u.u_scale),u_fade:new o.Uniform1f(s,u.u_fade)}},lineSDF:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_ratio:new o.Uniform1f(s,u.u_ratio),u_device_pixel_ratio:new o.Uniform1f(s,u.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(s,u.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(s,u.u_patternscale_a),u_patternscale_b:new o.Uniform2f(s,u.u_patternscale_b),u_sdfgamma:new o.Uniform1f(s,u.u_sdfgamma),u_image:new o.Uniform1i(s,u.u_image),u_tex_y_a:new o.Uniform1f(s,u.u_tex_y_a),u_tex_y_b:new o.Uniform1f(s,u.u_tex_y_b),u_mix:new o.Uniform1f(s,u.u_mix)}},raster:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_tl_parent:new o.Uniform2f(s,u.u_tl_parent),u_scale_parent:new o.Uniform1f(s,u.u_scale_parent),u_buffer_scale:new o.Uniform1f(s,u.u_buffer_scale),u_fade_t:new o.Uniform1f(s,u.u_fade_t),u_opacity:new o.Uniform1f(s,u.u_opacity),u_image0:new o.Uniform1i(s,u.u_image0),u_image1:new o.Uniform1i(s,u.u_image1),u_brightness_low:new o.Uniform1f(s,u.u_brightness_low),u_brightness_high:new o.Uniform1f(s,u.u_brightness_high),u_saturation_factor:new o.Uniform1f(s,u.u_saturation_factor),u_contrast_factor:new o.Uniform1f(s,u.u_contrast_factor),u_spin_weights:new o.Uniform3f(s,u.u_spin_weights)}},symbolIcon:function(s,u){return{u_is_size_zoom_constant:new o.Uniform1i(s,u.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(s,u.u_is_size_feature_constant),u_size_t:new o.Uniform1f(s,u.u_size_t),u_size:new o.Uniform1f(s,u.u_size),u_camera_to_center_distance:new o.Uniform1f(s,u.u_camera_to_center_distance),u_pitch:new o.Uniform1f(s,u.u_pitch),u_rotate_symbol:new o.Uniform1i(s,u.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(s,u.u_aspect_ratio),u_fade_change:new o.Uniform1f(s,u.u_fade_change),u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(s,u.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(s,u.u_coord_matrix),u_is_text:new o.Uniform1i(s,u.u_is_text),u_pitch_with_map:new o.Uniform1i(s,u.u_pitch_with_map),u_texsize:new o.Uniform2f(s,u.u_texsize),u_texture:new o.Uniform1i(s,u.u_texture)}},symbolSDF:function(s,u){return{u_is_size_zoom_constant:new o.Uniform1i(s,u.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(s,u.u_is_size_feature_constant),u_size_t:new o.Uniform1f(s,u.u_size_t),u_size:new o.Uniform1f(s,u.u_size),u_camera_to_center_distance:new o.Uniform1f(s,u.u_camera_to_center_distance),u_pitch:new o.Uniform1f(s,u.u_pitch),u_rotate_symbol:new o.Uniform1i(s,u.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(s,u.u_aspect_ratio),u_fade_change:new o.Uniform1f(s,u.u_fade_change),u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(s,u.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(s,u.u_coord_matrix),u_is_text:new o.Uniform1i(s,u.u_is_text),u_pitch_with_map:new o.Uniform1i(s,u.u_pitch_with_map),u_texsize:new o.Uniform2f(s,u.u_texsize),u_texture:new o.Uniform1i(s,u.u_texture),u_gamma_scale:new o.Uniform1f(s,u.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(s,u.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(s,u.u_is_halo)}},symbolTextAndIcon:function(s,u){return{u_is_size_zoom_constant:new o.Uniform1i(s,u.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(s,u.u_is_size_feature_constant),u_size_t:new o.Uniform1f(s,u.u_size_t),u_size:new o.Uniform1f(s,u.u_size),u_camera_to_center_distance:new o.Uniform1f(s,u.u_camera_to_center_distance),u_pitch:new o.Uniform1f(s,u.u_pitch),u_rotate_symbol:new o.Uniform1i(s,u.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(s,u.u_aspect_ratio),u_fade_change:new o.Uniform1f(s,u.u_fade_change),u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(s,u.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(s,u.u_coord_matrix),u_is_text:new o.Uniform1i(s,u.u_is_text),u_pitch_with_map:new o.Uniform1i(s,u.u_pitch_with_map),u_texsize:new o.Uniform2f(s,u.u_texsize),u_texsize_icon:new o.Uniform2f(s,u.u_texsize_icon),u_texture:new o.Uniform1i(s,u.u_texture),u_texture_icon:new o.Uniform1i(s,u.u_texture_icon),u_gamma_scale:new o.Uniform1f(s,u.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(s,u.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(s,u.u_is_halo)}},background:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_opacity:new o.Uniform1f(s,u.u_opacity),u_color:new o.UniformColor(s,u.u_color)}},backgroundPattern:function(s,u){return{u_matrix:new o.UniformMatrix4f(s,u.u_matrix),u_opacity:new o.Uniform1f(s,u.u_opacity),u_image:new o.Uniform1i(s,u.u_image),u_pattern_tl_a:new o.Uniform2f(s,u.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(s,u.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(s,u.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(s,u.u_pattern_br_b),u_texsize:new o.Uniform2f(s,u.u_texsize),u_mix:new o.Uniform1f(s,u.u_mix),u_pattern_size_a:new o.Uniform2f(s,u.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(s,u.u_pattern_size_b),u_scale_a:new o.Uniform1f(s,u.u_scale_a),u_scale_b:new o.Uniform1f(s,u.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(s,u.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(s,u.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(s,u.u_tile_units_to_pixels)}}};function To(s,u,l,f,_,x,w){for(var k=s.context,D=k.gl,H=s.useProgram("collisionBox"),J=[],te=0,ie=0,ve=0;ve<f.length;ve++){var ye=f[ve],Ie=u.getTile(ye),he=Ie.getBucket(l);if(he){var Ae=ye.posMatrix;_[0]===0&&_[1]===0||(Ae=s.translatePosMatrix(ye.posMatrix,Ie,_,x));var De=w?he.textCollisionBox:he.iconCollisionBox,He=he.collisionCircleArray;if(He.length>0){var nt=o.create(),Ke=Ae;o.mul(nt,he.placementInvProjMatrix,s.transform.glCoordMatrix),o.mul(nt,nt,he.placementViewportMatrix),J.push({circleArray:He,circleOffset:ie,transform:Ke,invTransform:nt}),ie=te+=He.length/4}De&&H.draw(k,D.LINES,oe.disabled,me.disabled,s.colorModeForRenderPass(),Oe.disabled,Tr(Ae,s.transform,Ie),l.id,De.layoutVertexBuffer,De.indexBuffer,De.segments,null,s.transform.zoom,null,null,De.collisionVertexBuffer)}}if(w&&J.length){var ot=s.useProgram("collisionCircle"),yt=new o.StructArrayLayout2f1f2i16;yt.resize(4*te),yt._trim();for(var At=0,Ct=0,jt=J;Ct<jt.length;Ct+=1)for(var ir=jt[Ct],cr=0;cr<ir.circleArray.length/4;cr++){var ur=4*cr,on=ir.circleArray[ur+0],qt=ir.circleArray[ur+1],wr=ir.circleArray[ur+2],Lr=ir.circleArray[ur+3];yt.emplace(At++,on,qt,wr,Lr,0),yt.emplace(At++,on,qt,wr,Lr,1),yt.emplace(At++,on,qt,wr,Lr,2),yt.emplace(At++,on,qt,wr,Lr,3)}(!cn||cn.length<2*te)&&(cn=function(ti){var ho=2*ti,Zi=new o.StructArrayLayout3ui6;Zi.resize(ho),Zi._trim();for(var Yn=0;Yn<ho;Yn++){var ui=6*Yn;Zi.uint16[ui+0]=4*Yn+0,Zi.uint16[ui+1]=4*Yn+1,Zi.uint16[ui+2]=4*Yn+2,Zi.uint16[ui+3]=4*Yn+2,Zi.uint16[ui+4]=4*Yn+3,Zi.uint16[ui+5]=4*Yn+0}return Zi}(te));for(var xr=k.createIndexBuffer(cn,!0),_r=k.createVertexBuffer(yt,o.collisionCircleLayout.members,!0),Pr=0,yr=J;Pr<yr.length;Pr+=1){var mr=yr[Pr],Bi=zr(mr.transform,mr.invTransform,s.transform);ot.draw(k,D.TRIANGLES,oe.disabled,me.disabled,s.colorModeForRenderPass(),Oe.disabled,Bi,l.id,_r,xr,o.SegmentVector.simpleSegment(0,2*mr.circleOffset,mr.circleArray.length,mr.circleArray.length/2),null,s.transform.zoom,null,null,null)}_r.destroy(),xr.destroy()}}var co=o.identity(new Float32Array(16));function ha(s,u,l,f,_,x){var w=o.getAnchorAlignment(s),k=-(w.horizontalAlign-.5)*u,D=-(w.verticalAlign-.5)*l,H=o.evaluateVariableOffset(s,f);return new o.Point((k/_+H[0])*x,(D/_+H[1])*x)}function Ys(s,u,l,f,_,x,w,k,D,H,J){var te=s.text.placedSymbolArray,ie=s.text.dynamicLayoutVertexArray,ve=s.icon.dynamicLayoutVertexArray,ye={};ie.clear();for(var Ie=0;Ie<te.length;Ie++){var he=te.get(Ie),Ae=he.hidden||!he.crossTileID||s.allowVerticalPlacement&&!he.placedOrientation?null:f[he.crossTileID];if(Ae){var De=new o.Point(he.anchorX,he.anchorY),He=Er(De,l?k:w),nt=Xr(x.cameraToCenterDistance,He.signedDistanceFromCamera),Ke=_.evaluateSizeForFeature(s.textSizeData,H,he)*nt/o.ONE_EM;l&&(Ke*=s.tilePixelRatio/D);for(var ot=ha(Ae.anchor,Ae.width,Ae.height,Ae.textOffset,Ae.textBoxScale,Ke),yt=l?Er(De.add(ot),w).point:He.point.add(u?ot.rotate(-x.angle):ot),At=s.allowVerticalPlacement&&he.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,Ct=0;Ct<he.numGlyphs;Ct++)o.addDynamicAttributes(ie,yt,At);J&&he.associatedIconIndex>=0&&(ye[he.associatedIconIndex]={shiftedAnchor:yt,angle:At})}else Ni(he.numGlyphs,ie)}if(J){ve.clear();for(var jt=s.icon.placedSymbolArray,ir=0;ir<jt.length;ir++){var cr=jt.get(ir);if(cr.hidden)Ni(cr.numGlyphs,ve);else{var ur=ye[ir];if(ur)for(var on=0;on<cr.numGlyphs;on++)o.addDynamicAttributes(ve,ur.shiftedAnchor,ur.angle);else Ni(cr.numGlyphs,ve)}}s.icon.dynamicLayoutVertexBuffer.updateData(ve)}s.text.dynamicLayoutVertexBuffer.updateData(ie)}function Js(s,u,l){return l.iconsInText&&u?"symbolTextAndIcon":s?"symbolSDF":"symbolIcon"}function Ea(s,u,l,f,_,x,w,k,D,H,J,te){for(var ie=s.context,ve=ie.gl,ye=s.transform,Ie=k==="map",he=D==="map",Ae=Ie&&l.layout.get("symbol-placement")!=="point",De=Ie&&!he&&!Ae,He=l.layout.get("symbol-sort-key").constantOr(1)!==void 0,nt=!1,Ke=s.depthModeForSublayer(0,oe.ReadOnly),ot=l.layout.get("text-variable-anchor"),yt=[],At=0,Ct=f;At<Ct.length;At+=1){var jt=Ct[At],ir=u.getTile(jt),cr=ir.getBucket(l);if(cr){var ur=_?cr.text:cr.icon;if(ur&&ur.segments.get().length){var on=ur.programConfigurations.get(l.id),qt=_||cr.sdfIcons,wr=_?cr.textSizeData:cr.iconSizeData,Lr=he||ye.pitch!==0,xr=s.useProgram(Js(qt,_,cr),on),_r=o.evaluateSizeForZoom(wr,ye.zoom),Pr=void 0,yr=[0,0],mr=void 0,Bi=void 0,ti=null,ho=void 0;if(_)mr=ir.glyphAtlasTexture,Bi=ve.LINEAR,Pr=ir.glyphAtlasTexture.size,cr.iconsInText&&(yr=ir.imageAtlasTexture.size,ti=ir.imageAtlasTexture,ho=Lr||s.options.rotating||s.options.zooming||wr.kind==="composite"||wr.kind==="camera"?ve.LINEAR:ve.NEAREST);else{var Zi=l.layout.get("icon-size").constantOr(0)!==1||cr.iconsNeedLinear;mr=ir.imageAtlasTexture,Bi=qt||s.options.rotating||s.options.zooming||Zi||Lr?ve.LINEAR:ve.NEAREST,Pr=ir.imageAtlasTexture.size}var Yn=un(ir,1,s.transform.zoom),ui=Vn(jt.posMatrix,he,Ie,s.transform,Yn),ea=ln(jt.posMatrix,he,Ie,s.transform,Yn),Ao=ot&&cr.hasTextData(),ol=l.layout.get("icon-text-fit")!=="none"&&Ao&&cr.hasIconData();Ae&&xa(cr,jt.posMatrix,s,_,ui,ea,he,H);var Do=s.translatePosMatrix(jt.posMatrix,ir,x,w),ns=Ae||_&&ot||ol?co:ui,La=s.translatePosMatrix(ea,ir,x,w,!0),tc=qt&&l.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0,pu={program:xr,buffers:ur,uniformValues:qt?cr.iconsInText?Oo(wr.kind,_r,De,he,s,Do,ns,La,Pr,yr):Fi(wr.kind,_r,De,he,s,Do,ns,La,_,Pr,!0):Go(wr.kind,_r,De,he,s,Do,ns,La,_,Pr),atlasTexture:mr,atlasTextureIcon:ti,atlasInterpolation:Bi,atlasInterpolationIcon:ho,isSDF:qt,hasHalo:tc};if(He&&cr.canOverlap){nt=!0;for(var al=0,du=ur.segments.get();al<du.length;al+=1){var rc=du[al];yt.push({segments:new o.SegmentVector([rc]),sortKey:rc.sortKey,state:pu})}}else yt.push({segments:ur.segments,sortKey:0,state:pu})}}}nt&&yt.sort(function(sl,Ml){return sl.sortKey-Ml.sortKey});for(var ys=0,nc=yt;ys<nc.length;ys+=1){var _s=nc[ys],Ui=_s.state;if(ie.activeTexture.set(ve.TEXTURE0),Ui.atlasTexture.bind(Ui.atlasInterpolation,ve.CLAMP_TO_EDGE),Ui.atlasTextureIcon&&(ie.activeTexture.set(ve.TEXTURE1),Ui.atlasTextureIcon&&Ui.atlasTextureIcon.bind(Ui.atlasInterpolationIcon,ve.CLAMP_TO_EDGE)),Ui.isSDF){var Ds=Ui.uniformValues;Ui.hasHalo&&(Ds.u_is_halo=1,ps(Ui.buffers,_s.segments,l,s,Ui.program,Ke,J,te,Ds)),Ds.u_is_halo=0}ps(Ui.buffers,_s.segments,l,s,Ui.program,Ke,J,te,Ui.uniformValues)}}function ps(s,u,l,f,_,x,w,k,D){var H=f.context;_.draw(H,H.gl.TRIANGLES,x,w,k,Oe.disabled,D,l.id,s.layoutVertexBuffer,s.indexBuffer,u,l.paint,f.transform.zoom,s.programConfigurations.get(l.id),s.dynamicLayoutVertexBuffer,s.opacityVertexBuffer)}function Qs(s,u,l,f,_,x,w){var k,D,H,J,te,ie=s.context.gl,ve=l.paint.get("fill-pattern"),ye=ve&&ve.constantOr(1),Ie=l.getCrossfadeParameters();w?(D=ye&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",k=ie.LINES):(D=ye?"fillPattern":"fill",k=ie.TRIANGLES);for(var he=0,Ae=f;he<Ae.length;he+=1){var De=Ae[he],He=u.getTile(De);if(!ye||He.patternsLoaded()){var nt=He.getBucket(l);if(nt){var Ke=nt.programConfigurations.get(l.id),ot=s.useProgram(D,Ke);ye&&(s.context.activeTexture.set(ie.TEXTURE0),He.imageAtlasTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),Ke.updatePaintBuffers(Ie));var yt=ve.constantOr(null);if(yt&&He.imageAtlas){var At=He.imageAtlas,Ct=At.patternPositions[yt.to.toString()],jt=At.patternPositions[yt.from.toString()];Ct&&jt&&Ke.setConstantPatternPositions(Ct,jt)}var ir=s.translatePosMatrix(De.posMatrix,He,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor"));if(w){J=nt.indexBuffer2,te=nt.segments2;var cr=[ie.drawingBufferWidth,ie.drawingBufferHeight];H=D==="fillOutlinePattern"&&ye?Tt(ir,s,Ie,He,cr):et(ir,cr)}else J=nt.indexBuffer,te=nt.segments,H=ye?Ce(ir,s,Ie,He):ne(ir);ot.draw(s.context,k,_,s.stencilModeForClipping(De),x,Oe.disabled,H,l.id,nt.layoutVertexBuffer,J,te,l.paint,s.transform.zoom,Ke)}}}}function $u(s,u,l,f,_,x,w){for(var k=s.context,D=k.gl,H=l.paint.get("fill-extrusion-pattern"),J=H.constantOr(1),te=l.getCrossfadeParameters(),ie=l.paint.get("fill-extrusion-opacity"),ve=0,ye=f;ve<ye.length;ve+=1){var Ie=ye[ve],he=u.getTile(Ie),Ae=he.getBucket(l);if(Ae){var De=Ae.programConfigurations.get(l.id),He=s.useProgram(J?"fillExtrusionPattern":"fillExtrusion",De);J&&(s.context.activeTexture.set(D.TEXTURE0),he.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),De.updatePaintBuffers(te));var nt=H.constantOr(null);if(nt&&he.imageAtlas){var Ke=he.imageAtlas,ot=Ke.patternPositions[nt.to.toString()],yt=Ke.patternPositions[nt.from.toString()];ot&&yt&&De.setConstantPatternPositions(ot,yt)}var At=s.translatePosMatrix(Ie.posMatrix,he,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Ct=l.paint.get("fill-extrusion-vertical-gradient"),jt=J?N(At,s,Ct,ie,Ie,te,he):A(At,s,Ct,ie);He.draw(k,k.gl.TRIANGLES,_,x,w,Oe.backCCW,jt,l.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,l.paint,s.transform.zoom,De)}}}function Ls(s,u,l,f,_,x){var w=s.context,k=w.gl,D=u.fbo;if(D){var H=s.useProgram("hillshade");w.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,D.colorAttachment.get());var J=function(te,ie,ve){var ye=ve.paint.get("hillshade-shadow-color"),Ie=ve.paint.get("hillshade-highlight-color"),he=ve.paint.get("hillshade-accent-color"),Ae=ve.paint.get("hillshade-illumination-direction")*(Math.PI/180);ve.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ae-=te.transform.angle);var De,He,nt,Ke=!te.options.moving;return{u_matrix:te.transform.calculatePosMatrix(ie.tileID.toUnwrapped(),Ke),u_image:0,u_latrange:(De=ie.tileID,He=Math.pow(2,De.canonical.z),nt=De.canonical.y,[new o.MercatorCoordinate(0,nt/He).toLngLat().lat,new o.MercatorCoordinate(0,(nt+1)/He).toLngLat().lat]),u_light:[ve.paint.get("hillshade-exaggeration"),Ae],u_shadow:ye,u_highlight:Ie,u_accent:he}}(s,u,l);H.draw(w,k.TRIANGLES,f,_,x,Oe.disabled,J,l.id,s.rasterBoundsBuffer,s.quadTriangleIndexBuffer,s.rasterBoundsSegments)}}function Gu(s,u,l,f,_,x){var w=s.context,k=w.gl,D=u.dem;if(D&&D.data){var H=D.dim,J=D.stride,te=D.getPixels();if(w.activeTexture.set(k.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||s.getTileTexture(J),u.demTexture){var ie=u.demTexture;ie.update(te,{premultiply:!1}),ie.bind(k.NEAREST,k.CLAMP_TO_EDGE)}else u.demTexture=new o.Texture(w,te,k.RGBA,{premultiply:!1}),u.demTexture.bind(k.NEAREST,k.CLAMP_TO_EDGE);w.activeTexture.set(k.TEXTURE0);var ve=u.fbo;if(!ve){var ye=new o.Texture(w,{width:H,height:H,data:null},k.RGBA);ye.bind(k.LINEAR,k.CLAMP_TO_EDGE),(ve=u.fbo=w.createFramebuffer(H,H,!0)).colorAttachment.set(ye.texture)}w.bindFramebuffer.set(ve.framebuffer),w.viewport.set([0,0,H,H]),s.useProgram("hillshadePrepare").draw(w,k.TRIANGLES,f,_,x,Oe.disabled,function(Ie,he){var Ae=he.stride,De=o.create();return o.ortho(De,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(De,De,[0,-o.EXTENT,0]),{u_matrix:De,u_image:1,u_dimension:[Ae,Ae],u_zoom:Ie.overscaledZ,u_unpack:he.getUnpackVector()}}(u.tileID,D),l.id,s.rasterBoundsBuffer,s.quadTriangleIndexBuffer,s.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function el(s,u,l,f,_){var x=f.paint.get("raster-fade-duration");if(x>0){var w=o.browser.now(),k=(w-s.timeAdded)/x,D=u?(w-u.timeAdded)/x:-1,H=l.getSource(),J=_.coveringZoomLevel({tileSize:H.tileSize,roundZoom:H.roundZoom}),te=!u||Math.abs(u.tileID.overscaledZ-J)>Math.abs(s.tileID.overscaledZ-J),ie=te&&s.refreshedUponExpiration?1:o.clamp(te?k:1-D,0,1);return s.refreshedUponExpiration&&k>=1&&(s.refreshedUponExpiration=!1),u?{opacity:1,mix:1-ie}:{opacity:ie,mix:0}}return{opacity:1,mix:0}}var Zu=new o.Color(1,0,0,1),lu=new o.Color(0,1,0,1),Xu=new o.Color(0,0,1,1),_e=new o.Color(1,0,1,1),ze=new o.Color(0,1,1,1);function Ye(s,u,l,f){pt(s,0,u+l/2,s.transform.width,l,f)}function at(s,u,l,f){pt(s,u-l/2,0,l,s.transform.height,f)}function pt(s,u,l,f,_,x){var w=s.context,k=w.gl;k.enable(k.SCISSOR_TEST),k.scissor(u*o.browser.devicePixelRatio,l*o.browser.devicePixelRatio,f*o.browser.devicePixelRatio,_*o.browser.devicePixelRatio),w.clear({color:x}),k.disable(k.SCISSOR_TEST)}function Vt(s,u,l){var f=s.context,_=f.gl,x=l.posMatrix,w=s.useProgram("debug"),k=oe.disabled,D=me.disabled,H=s.colorModeForRenderPass();f.activeTexture.set(_.TEXTURE0),s.emptyTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),w.draw(f,_.LINE_STRIP,k,D,H,Oe.disabled,Hr(x,o.Color.red),"$debug",s.debugBuffer,s.tileBorderIndexBuffer,s.debugSegments);var J=u.getTileByID(l.key).latestRawTileData,te=Math.floor((J&&J.byteLength||0)/1024),ie=u.getTile(l).tileSize,ve=512/Math.min(ie,512)*(l.overscaledZ/s.transform.zoom)*.5,ye=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(ye+=" => "+l.overscaledZ),function(Ie,he){Ie.initDebugOverlayCanvas();var Ae=Ie.debugOverlayCanvas,De=Ie.context.gl,He=Ie.debugOverlayCanvas.getContext("2d");He.clearRect(0,0,Ae.width,Ae.height),He.shadowColor="white",He.shadowBlur=2,He.lineWidth=1.5,He.strokeStyle="white",He.textBaseline="top",He.font="bold 36px Open Sans, sans-serif",He.fillText(he,5,5),He.strokeText(he,5,5),Ie.debugOverlayTexture.update(Ae),Ie.debugOverlayTexture.bind(De.LINEAR,De.CLAMP_TO_EDGE)}(s,ye+" "+te+"kb"),w.draw(f,_.TRIANGLES,k,D,ke.alphaBlended,Oe.disabled,Hr(x,o.Color.transparent,ve),"$debug",s.debugBuffer,s.quadTriangleIndexBuffer,s.debugSegments)}var Gt={symbol:function(s,u,l,f,_){if(s.renderPass==="translucent"){var x=me.disabled,w=s.colorModeForRenderPass();l.layout.get("text-variable-anchor")&&function(k,D,H,J,te,ie,ve){for(var ye=D.transform,Ie=te==="map",he=ie==="map",Ae=0,De=k;Ae<De.length;Ae+=1){var He=De[Ae],nt=J.getTile(He),Ke=nt.getBucket(H);if(Ke&&Ke.text&&Ke.text.segments.get().length){var ot=o.evaluateSizeForZoom(Ke.textSizeData,ye.zoom),yt=un(nt,1,D.transform.zoom),At=Vn(He.posMatrix,he,Ie,D.transform,yt),Ct=H.layout.get("icon-text-fit")!=="none"&&Ke.hasIconData();if(ot){var jt=Math.pow(2,ye.zoom-nt.tileID.overscaledZ);Ys(Ke,Ie,he,ve,o.symbolSize,ye,At,He.posMatrix,jt,ot,Ct)}}}}(f,s,l,u,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),_),l.paint.get("icon-opacity").constantOr(1)!==0&&Ea(s,u,l,f,!1,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),l.layout.get("icon-rotation-alignment"),l.layout.get("icon-pitch-alignment"),l.layout.get("icon-keep-upright"),x,w),l.paint.get("text-opacity").constantOr(1)!==0&&Ea(s,u,l,f,!0,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),l.layout.get("text-keep-upright"),x,w),u.map.showCollisionBoxes&&(To(s,u,l,f,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),To(s,u,l,f,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))}},circle:function(s,u,l,f){if(s.renderPass==="translucent"){var _=l.paint.get("circle-opacity"),x=l.paint.get("circle-stroke-width"),w=l.paint.get("circle-stroke-opacity"),k=l.layout.get("circle-sort-key").constantOr(1)!==void 0;if(_.constantOr(1)!==0||x.constantOr(1)!==0&&w.constantOr(1)!==0){for(var D=s.context,H=D.gl,J=s.depthModeForSublayer(0,oe.ReadOnly),te=me.disabled,ie=s.colorModeForRenderPass(),ve=[],ye=0;ye<f.length;ye++){var Ie=f[ye],he=u.getTile(Ie),Ae=he.getBucket(l);if(Ae){var De=Ae.programConfigurations.get(l.id),He={programConfiguration:De,program:s.useProgram("circle",De),layoutVertexBuffer:Ae.layoutVertexBuffer,indexBuffer:Ae.indexBuffer,uniformValues:tr(s,Ie,he,l)};if(k)for(var nt=0,Ke=Ae.segments.get();nt<Ke.length;nt+=1){var ot=Ke[nt];ve.push({segments:new o.SegmentVector([ot]),sortKey:ot.sortKey,state:He})}else ve.push({segments:Ae.segments,sortKey:0,state:He})}}k&&ve.sort(function(ir,cr){return ir.sortKey-cr.sortKey});for(var yt=0,At=ve;yt<At.length;yt+=1){var Ct=At[yt],jt=Ct.state;jt.program.draw(D,H.TRIANGLES,J,te,ie,Oe.disabled,jt.uniformValues,l.id,jt.layoutVertexBuffer,jt.indexBuffer,Ct.segments,l.paint,s.transform.zoom,jt.programConfiguration)}}}},heatmap:function(s,u,l,f){if(l.paint.get("heatmap-opacity")!==0)if(s.renderPass==="offscreen"){var _=s.context,x=_.gl,w=me.disabled,k=new ke([x.ONE,x.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function(ve,ye,Ie){var he=ve.gl;ve.activeTexture.set(he.TEXTURE1),ve.viewport.set([0,0,ye.width/4,ye.height/4]);var Ae=Ie.heatmapFbo;if(Ae)he.bindTexture(he.TEXTURE_2D,Ae.colorAttachment.get()),ve.bindFramebuffer.set(Ae.framebuffer);else{var De=he.createTexture();he.bindTexture(he.TEXTURE_2D,De),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_WRAP_S,he.CLAMP_TO_EDGE),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_WRAP_T,he.CLAMP_TO_EDGE),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_MIN_FILTER,he.LINEAR),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_MAG_FILTER,he.LINEAR),Ae=Ie.heatmapFbo=ve.createFramebuffer(ye.width/4,ye.height/4,!1),function(He,nt,Ke,ot){var yt=He.gl;yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,nt.width/4,nt.height/4,0,yt.RGBA,He.extRenderToTextureHalfFloat?He.extTextureHalfFloat.HALF_FLOAT_OES:yt.UNSIGNED_BYTE,null),ot.colorAttachment.set(Ke)}(ve,ye,De,Ae)}})(_,s,l),_.clear({color:o.Color.transparent});for(var D=0;D<f.length;D++){var H=f[D];if(!u.hasRenderableParent(H)){var J=u.getTile(H),te=J.getBucket(l);if(te){var ie=te.programConfigurations.get(l.id);s.useProgram("heatmap",ie).draw(_,x.TRIANGLES,oe.disabled,w,k,Oe.disabled,wo(H.posMatrix,J,s.transform.zoom,l.paint.get("heatmap-intensity")),l.id,te.layoutVertexBuffer,te.indexBuffer,te.segments,l.paint,s.transform.zoom,ie)}}}_.viewport.set([0,0,s.width,s.height])}else s.renderPass==="translucent"&&(s.context.setColorMode(s.colorModeForRenderPass()),function(ve,ye){var Ie=ve.context,he=Ie.gl,Ae=ye.heatmapFbo;if(Ae){Ie.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,Ae.colorAttachment.get()),Ie.activeTexture.set(he.TEXTURE1);var De=ye.colorRampTexture;De||(De=ye.colorRampTexture=new o.Texture(Ie,ye.colorRamp,he.RGBA)),De.bind(he.LINEAR,he.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(Ie,he.TRIANGLES,oe.disabled,me.disabled,ve.colorModeForRenderPass(),Oe.disabled,function(He,nt,Ke,ot){var yt=o.create();o.ortho(yt,0,He.width,He.height,0,0,1);var At=He.context.gl;return{u_matrix:yt,u_world:[At.drawingBufferWidth,At.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:nt.paint.get("heatmap-opacity")}}(ve,ye),ye.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,ye.paint,ve.transform.zoom)}}(s,l))},line:function(s,u,l,f){if(s.renderPass==="translucent"){var _=l.paint.get("line-opacity"),x=l.paint.get("line-width");if(_.constantOr(1)!==0&&x.constantOr(1)!==0)for(var w=s.depthModeForSublayer(0,oe.ReadOnly),k=s.colorModeForRenderPass(),D=l.paint.get("line-dasharray"),H=l.paint.get("line-pattern"),J=H.constantOr(1),te=l.paint.get("line-gradient"),ie=l.getCrossfadeParameters(),ve=J?"linePattern":D?"lineSDF":te?"lineGradient":"line",ye=s.context,Ie=ye.gl,he=!0,Ae=0,De=f;Ae<De.length;Ae+=1){var He=De[Ae],nt=u.getTile(He);if(!J||nt.patternsLoaded()){var Ke=nt.getBucket(l);if(Ke){var ot=Ke.programConfigurations.get(l.id),yt=s.context.program.get(),At=s.useProgram(ve,ot),Ct=he||At.program!==yt,jt=H.constantOr(null);if(jt&&nt.imageAtlas){var ir=nt.imageAtlas,cr=ir.patternPositions[jt.to.toString()],ur=ir.patternPositions[jt.from.toString()];cr&&ur&&ot.setConstantPatternPositions(cr,ur)}var on=J?fs(s,nt,l,ie):D?$o(s,nt,l,D,ie):te?Br(s,nt,l,Ke.lineClipsArray.length):So(s,nt,l);if(J)ye.activeTexture.set(Ie.TEXTURE0),nt.imageAtlasTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),ot.updatePaintBuffers(ie);else if(D&&(Ct||s.lineAtlas.dirty))ye.activeTexture.set(Ie.TEXTURE0),s.lineAtlas.bind(ye);else if(te){var qt=Ke.gradients[l.id],wr=qt.texture;if(l.gradientVersion!==qt.version){var Lr=256;if(l.stepInterpolant){var xr=u.getSource().maxzoom,_r=He.canonical.z===xr?Math.ceil(1<<s.transform.maxZoom-He.canonical.z):1;Lr=o.clamp(o.nextPowerOfTwo(Ke.maxLineLength/o.EXTENT*1024*_r),256,ye.maxTextureSize)}qt.gradient=o.renderColorRamp({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:Lr,image:qt.gradient||void 0,clips:Ke.lineClipsArray}),qt.texture?qt.texture.update(qt.gradient):qt.texture=new o.Texture(ye,qt.gradient,Ie.RGBA),qt.version=l.gradientVersion,wr=qt.texture}ye.activeTexture.set(Ie.TEXTURE0),wr.bind(l.stepInterpolant?Ie.NEAREST:Ie.LINEAR,Ie.CLAMP_TO_EDGE)}At.draw(ye,Ie.TRIANGLES,w,s.stencilModeForClipping(He),k,Oe.disabled,on,l.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,l.paint,s.transform.zoom,ot,Ke.layoutVertexBuffer2),he=!1}}}}},fill:function(s,u,l,f){var _=l.paint.get("fill-color"),x=l.paint.get("fill-opacity");if(x.constantOr(1)!==0){var w=s.colorModeForRenderPass(),k=l.paint.get("fill-pattern"),D=s.opaquePassEnabledForLayer()&&!k.constantOr(1)&&_.constantOr(o.Color.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(s.renderPass===D){var H=s.depthModeForSublayer(1,s.renderPass==="opaque"?oe.ReadWrite:oe.ReadOnly);Qs(s,u,l,f,H,w,!1)}if(s.renderPass==="translucent"&&l.paint.get("fill-antialias")){var J=s.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,oe.ReadOnly);Qs(s,u,l,f,J,w,!0)}}},"fill-extrusion":function(s,u,l,f){var _=l.paint.get("fill-extrusion-opacity");if(_!==0&&s.renderPass==="translucent"){var x=new oe(s.context.gl.LEQUAL,oe.ReadWrite,s.depthRangeFor3D);if(_!==1||l.paint.get("fill-extrusion-pattern").constantOr(1))$u(s,u,l,f,x,me.disabled,ke.disabled),$u(s,u,l,f,x,s.stencilModeFor3D(),s.colorModeForRenderPass());else{var w=s.colorModeForRenderPass();$u(s,u,l,f,x,me.disabled,w)}}},hillshade:function(s,u,l,f){if(s.renderPass==="offscreen"||s.renderPass==="translucent"){for(var _=s.context,x=s.depthModeForSublayer(0,oe.ReadOnly),w=s.colorModeForRenderPass(),k=s.renderPass==="translucent"?s.stencilConfigForOverlap(f):[{},f],D=k[0],H=0,J=k[1];H<J.length;H+=1){var te=J[H],ie=u.getTile(te);ie.needsHillshadePrepare&&s.renderPass==="offscreen"?Gu(s,ie,l,x,me.disabled,w):s.renderPass==="translucent"&&Ls(s,ie,l,x,D[te.overscaledZ],w)}_.viewport.set([0,0,s.width,s.height])}},raster:function(s,u,l,f){if(s.renderPass==="translucent"&&l.paint.get("raster-opacity")!==0&&f.length)for(var _=s.context,x=_.gl,w=u.getSource(),k=s.useProgram("raster"),D=s.colorModeForRenderPass(),H=w instanceof Yr?[{},f]:s.stencilConfigForOverlap(f),J=H[0],te=H[1],ie=te[te.length-1].overscaledZ,ve=!s.options.moving,ye=0,Ie=te;ye<Ie.length;ye+=1){var he=Ie[ye],Ae=s.depthModeForSublayer(he.overscaledZ-ie,l.paint.get("raster-opacity")===1?oe.ReadWrite:oe.ReadOnly,x.LESS),De=u.getTile(he),He=s.transform.calculatePosMatrix(he.toUnwrapped(),ve);De.registerFadeDuration(l.paint.get("raster-fade-duration"));var nt=u.findLoadedParent(he,0),Ke=el(De,nt,u,l,s.transform),ot=void 0,yt=void 0,At=l.paint.get("raster-resampling")==="nearest"?x.NEAREST:x.LINEAR;_.activeTexture.set(x.TEXTURE0),De.texture.bind(At,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),_.activeTexture.set(x.TEXTURE1),nt?(nt.texture.bind(At,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),ot=Math.pow(2,nt.tileID.overscaledZ-De.tileID.overscaledZ),yt=[De.tileID.canonical.x*ot%1,De.tileID.canonical.y*ot%1]):De.texture.bind(At,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST);var Ct=Wu(He,yt||[0,0],ot||1,Ke,l);w instanceof Yr?k.draw(_,x.TRIANGLES,Ae,me.disabled,D,Oe.disabled,Ct,l.id,w.boundsBuffer,s.quadTriangleIndexBuffer,w.boundsSegments):k.draw(_,x.TRIANGLES,Ae,J[he.overscaledZ],D,Oe.disabled,Ct,l.id,s.rasterBoundsBuffer,s.quadTriangleIndexBuffer,s.rasterBoundsSegments)}},background:function(s,u,l){var f=l.paint.get("background-color"),_=l.paint.get("background-opacity");if(_!==0){var x=s.context,w=x.gl,k=s.transform,D=k.tileSize,H=l.paint.get("background-pattern");if(!s.isPatternMissing(H)){var J=!H&&f.a===1&&_===1&&s.opaquePassEnabledForLayer()?"opaque":"translucent";if(s.renderPass===J){var te=me.disabled,ie=s.depthModeForSublayer(0,J==="opaque"?oe.ReadWrite:oe.ReadOnly),ve=s.colorModeForRenderPass(),ye=s.useProgram(H?"backgroundPattern":"background"),Ie=k.coveringTiles({tileSize:D});H&&(x.activeTexture.set(w.TEXTURE0),s.imageManager.bind(s.context));for(var he=l.getCrossfadeParameters(),Ae=0,De=Ie;Ae<De.length;Ae+=1){var He=De[Ae],nt=s.transform.calculatePosMatrix(He.toUnwrapped()),Ke=H?Ja(nt,_,s,H,{tileID:He,tileSize:D},he):Ya(nt,_,f);ye.draw(x,w.TRIANGLES,ie,te,ve,Oe.disabled,Ke,l.id,s.tileExtentBuffer,s.quadTriangleIndexBuffer,s.tileExtentSegments)}}}}},debug:function(s,u,l){for(var f=0;f<l.length;f++)Vt(s,u,l[f])},custom:function(s,u,l){var f=s.context,_=l.implementation;if(s.renderPass==="offscreen"){var x=_.prerender;x&&(s.setCustomLayerDefaults(),f.setColorMode(s.colorModeForRenderPass()),x.call(_,f.gl,s.transform.customLayerMatrix()),f.setDirty(),s.setBaseState())}else if(s.renderPass==="translucent"){s.setCustomLayerDefaults(),f.setColorMode(s.colorModeForRenderPass()),f.setStencilMode(me.disabled);var w=_.renderingMode==="3d"?new oe(s.context.gl.LEQUAL,oe.ReadWrite,s.depthRangeFor3D):s.depthModeForSublayer(0,oe.ReadOnly);f.setDepthMode(w),_.render(f.gl,s.transform.customLayerMatrix()),f.setDirty(),s.setBaseState(),f.bindFramebuffer.set(null)}}},Nt=function(s,u){this.context=new Q(s),this.transform=u,this._tileTextures={},this.setup(),this.numSublayers=be.maxUnderzooming+be.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Sa,this.gpuTimers={}};Nt.prototype.resize=function(s,u){if(this.width=s*o.browser.devicePixelRatio,this.height=u*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var l=0,f=this.style._order;l<f.length;l+=1)this.style._layers[f[l]].resize()},Nt.prototype.setup=function(){var s=this.context,u=new o.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(o.EXTENT,0),u.emplaceBack(0,o.EXTENT),u.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=s.createVertexBuffer(u,Nn.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var l=new o.StructArrayLayout2i4;l.emplaceBack(0,0),l.emplaceBack(o.EXTENT,0),l.emplaceBack(0,o.EXTENT),l.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=s.createVertexBuffer(l,Nn.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var f=new o.StructArrayLayout4i8;f.emplaceBack(0,0,0,0),f.emplaceBack(o.EXTENT,0,o.EXTENT,0),f.emplaceBack(0,o.EXTENT,0,o.EXTENT),f.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=s.createVertexBuffer(f,Kr.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var _=new o.StructArrayLayout2i4;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(_,Nn.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var x=new o.StructArrayLayout1ui2;x.emplaceBack(0),x.emplaceBack(1),x.emplaceBack(3),x.emplaceBack(2),x.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(x);var w=new o.StructArrayLayout3ui6;w.emplaceBack(0,1,2),w.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(w),this.emptyTexture=new o.Texture(s,{width:1,height:1,data:new Uint8Array([0,0,0,0])},s.gl.RGBA);var k=this.context.gl;this.stencilClearMode=new me({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO)},Nt.prototype.clearStencil=function(){var s=this.context,u=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var l=o.create();o.ortho(l,0,this.width,this.height,0,0,1),o.scale(l,l,[u.drawingBufferWidth,u.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(s,u.TRIANGLES,oe.disabled,this.stencilClearMode,ke.disabled,Oe.disabled,nn(l),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Nt.prototype._renderTileClippingMasks=function(s,u){if(this.currentStencilSource!==s.source&&s.isTileClipped()&&u&&u.length){this.currentStencilSource=s.source;var l=this.context,f=l.gl;this.nextStencilID+u.length>256&&this.clearStencil(),l.setColorMode(ke.disabled),l.setDepthMode(oe.disabled);var _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var x=0,w=u;x<w.length;x+=1){var k=w[x],D=this._tileClippingMaskIDs[k.key]=this.nextStencilID++;_.draw(l,f.TRIANGLES,oe.disabled,new me({func:f.ALWAYS,mask:0},D,255,f.KEEP,f.KEEP,f.REPLACE),ke.disabled,Oe.disabled,nn(k.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Nt.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var s=this.nextStencilID++,u=this.context.gl;return new me({func:u.NOTEQUAL,mask:255},s,255,u.KEEP,u.KEEP,u.REPLACE)},Nt.prototype.stencilModeForClipping=function(s){var u=this.context.gl;return new me({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,u.KEEP,u.KEEP,u.REPLACE)},Nt.prototype.stencilConfigForOverlap=function(s){var u,l=this.context.gl,f=s.sort(function(D,H){return H.overscaledZ-D.overscaledZ}),_=f[f.length-1].overscaledZ,x=f[0].overscaledZ-_+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();for(var w={},k=0;k<x;k++)w[k+_]=new me({func:l.GEQUAL,mask:255},k+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=x,[w,f]}return[(u={},u[_]=me.disabled,u),f]},Nt.prototype.colorModeForRenderPass=function(){var s=this.context.gl;return this._showOverdrawInspector?new ke([s.CONSTANT_COLOR,s.ONE],new o.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ke.unblended:ke.alphaBlended},Nt.prototype.depthModeForSublayer=function(s,u,l){if(!this.opaquePassEnabledForLayer())return oe.disabled;var f=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new oe(l||this.context.gl.LEQUAL,u,[f,f])},Nt.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Nt.prototype.render=function(s,u){var l=this;this.style=s,this.options=u,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var f=this.style._order,_=this.style.sourceCaches;for(var x in _){var w=_[x];w.used&&w.prepare(this.context)}var k,D,H={},J={},te={};for(var ie in _){var ve=_[ie];H[ie]=ve.getVisibleCoordinates(),J[ie]=H[ie].slice().reverse(),te[ie]=ve.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ye=0;ye<f.length;ye++)if(this.style._layers[f[ye]].is3D()){this.opaquePassCutoff=ye;break}this.renderPass="offscreen";for(var Ie=0,he=f;Ie<he.length;Ie+=1){var Ae=this.style._layers[he[Ie]];if(Ae.hasOffscreenPass()&&!Ae.isHidden(this.transform.zoom)){var De=J[Ae.source];(Ae.type==="custom"||De.length)&&this.renderLayer(this,_[Ae.source],Ae,De)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:u.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){var He=this.style._layers[f[this.currentLayer]],nt=_[He.source],Ke=H[He.source];this._renderTileClippingMasks(He,Ke),this.renderLayer(this,nt,He,Ke)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){var ot=this.style._layers[f[this.currentLayer]],yt=_[ot.source],At=(ot.type==="symbol"?te:J)[ot.source];this._renderTileClippingMasks(ot,H[ot.source]),this.renderLayer(this,yt,ot,At)}this.options.showTileBoundaries&&(o.values(this.style._layers).forEach(function(Ct){Ct.source&&!Ct.isHidden(l.transform.zoom)&&(Ct.source!==(D&&D.id)&&(D=l.style.sourceCaches[Ct.source]),(!k||k.getSource().maxzoom<D.getSource().maxzoom)&&(k=D))}),k&&Gt.debug(this,k,k.getVisibleCoordinates())),this.options.showPadding&&function(Ct){var jt=Ct.transform.padding;Ye(Ct,Ct.transform.height-(jt.top||0),3,Zu),Ye(Ct,jt.bottom||0,3,lu),at(Ct,jt.left||0,3,Xu),at(Ct,Ct.transform.width-(jt.right||0),3,_e);var ir=Ct.transform.centerPoint;(function(cr,ur,on,qt){pt(cr,ur-1,on-10,2,20,qt),pt(cr,ur-10,on-1,20,2,qt)})(Ct,ir.x,Ct.transform.height-ir.y,ze)}(this),this.context.setDefault()},Nt.prototype.renderLayer=function(s,u,l,f){l.isHidden(this.transform.zoom)||(l.type==="background"||l.type==="custom"||f.length)&&(this.id=l.id,this.gpuTimingStart(l),Gt[l.type](s,u,l,f,this.style.placement.variableOffsets),this.gpuTimingEnd())},Nt.prototype.gpuTimingStart=function(s){if(this.options.gpuTiming){var u=this.context.extTimerQuery,l=this.gpuTimers[s.id];l||(l=this.gpuTimers[s.id]={calls:0,cpuTime:0,query:u.createQueryEXT()}),l.calls++,u.beginQueryEXT(u.TIME_ELAPSED_EXT,l.query)}},Nt.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var s=this.context.extTimerQuery;s.endQueryEXT(s.TIME_ELAPSED_EXT)}},Nt.prototype.collectGpuTimers=function(){var s=this.gpuTimers;return this.gpuTimers={},s},Nt.prototype.queryGpuTimers=function(s){var u={};for(var l in s){var f=s[l],_=this.context.extTimerQuery,x=_.getQueryObjectEXT(f.query,_.QUERY_RESULT_EXT)/1e6;_.deleteQueryEXT(f.query),u[l]=x}return u},Nt.prototype.translatePosMatrix=function(s,u,l,f,_){if(!l[0]&&!l[1])return s;var x=_?f==="map"?this.transform.angle:0:f==="viewport"?-this.transform.angle:0;if(x){var w=Math.sin(x),k=Math.cos(x);l=[l[0]*k-l[1]*w,l[0]*w+l[1]*k]}var D=[_?l[0]:un(u,l[0],this.transform.zoom),_?l[1]:un(u,l[1],this.transform.zoom),0],H=new Float32Array(16);return o.translate(H,s,D),H},Nt.prototype.saveTileTexture=function(s){var u=this._tileTextures[s.size[0]];u?u.push(s):this._tileTextures[s.size[0]]=[s]},Nt.prototype.getTileTexture=function(s){var u=this._tileTextures[s];return u&&u.length>0?u.pop():null},Nt.prototype.isPatternMissing=function(s){if(!s)return!1;if(!s.from||!s.to)return!0;var u=this.imageManager.getPattern(s.from.toString()),l=this.imageManager.getPattern(s.to.toString());return!u||!l},Nt.prototype.useProgram=function(s,u){this.cache=this.cache||{};var l=""+s+(u?u.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[l]||(this.cache[l]=new _i(this.context,s,kr[s],u,kl[s],this._showOverdrawInspector)),this.cache[l]},Nt.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Nt.prototype.setBaseState=function(){var s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)},Nt.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Nt.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Yt=function(s,u){this.points=s,this.planes=u};Yt.fromInvProjectionMatrix=function(s,u,l){var f=Math.pow(2,l),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(w){return o.transformMat4([],w,s)}).map(function(w){return o.scale$1([],w,1/w[3]/u*f)}),x=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(w){var k=o.sub([],_[w[0]],_[w[1]]),D=o.sub([],_[w[2]],_[w[1]]),H=o.normalize([],o.cross([],k,D)),J=-o.dot(H,_[w[1]]);return H.concat(J)});return new Yt(_,x)};var Ur=function(s,u){this.min=s,this.max=u,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};Ur.prototype.quadrant=function(s){for(var u=[s%2==0,s<2],l=o.clone$2(this.min),f=o.clone$2(this.max),_=0;_<u.length;_++)l[_]=u[_]?this.min[_]:this.center[_],f[_]=u[_]?this.center[_]:this.max[_];return f[2]=this.max[2],new Ur(l,f)},Ur.prototype.distanceX=function(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]},Ur.prototype.distanceY=function(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]},Ur.prototype.intersects=function(s){for(var u=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],l=!0,f=0;f<s.planes.length;f++){for(var _=s.planes[f],x=0,w=0;w<u.length;w++)x+=o.dot$1(_,u[w])>=0;if(x===0)return 0;x!==u.length&&(l=!1)}if(l)return 2;for(var k=0;k<3;k++){for(var D=Number.MAX_VALUE,H=-Number.MAX_VALUE,J=0;J<s.points.length;J++){var te=s.points[J][k]-this.min[k];D=Math.min(D,te),H=Math.max(H,te)}if(H<0||D>this.max[k]-this.min[k])return 0}return 1};var br=function(s,u,l,f){if(s===void 0&&(s=0),u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=0),isNaN(s)||s<0||isNaN(u)||u<0||isNaN(l)||l<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=u,this.left=l,this.right=f};br.prototype.interpolate=function(s,u,l){return u.top!=null&&s.top!=null&&(this.top=o.number(s.top,u.top,l)),u.bottom!=null&&s.bottom!=null&&(this.bottom=o.number(s.bottom,u.bottom,l)),u.left!=null&&s.left!=null&&(this.left=o.number(s.left,u.left,l)),u.right!=null&&s.right!=null&&(this.right=o.number(s.right,u.right,l)),this},br.prototype.getCenter=function(s,u){var l=o.clamp((this.left+s-this.right)/2,0,s),f=o.clamp((this.top+u-this.bottom)/2,0,u);return new o.Point(l,f)},br.prototype.equals=function(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right},br.prototype.clone=function(){return new br(this.top,this.bottom,this.left,this.right)},br.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Bt=function(s,u,l,f,_){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_===void 0||_,this._minZoom=s||0,this._maxZoom=u||22,this._minPitch=l??0,this._maxPitch=f??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new br,this._posMatrixCache={},this._alignedPosMatrixCache={}},ar={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Bt.prototype.clone=function(){var s=new Bt(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return s.tileSize=this.tileSize,s.latRange=this.latRange,s.width=this.width,s.height=this.height,s._center=this._center,s.zoom=this.zoom,s.angle=this.angle,s._fov=this._fov,s._pitch=this._pitch,s._unmodified=this._unmodified,s._edgeInsets=this._edgeInsets.clone(),s._calcMatrices(),s},ar.minZoom.get=function(){return this._minZoom},ar.minZoom.set=function(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))},ar.maxZoom.get=function(){return this._maxZoom},ar.maxZoom.set=function(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))},ar.minPitch.get=function(){return this._minPitch},ar.minPitch.set=function(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))},ar.maxPitch.get=function(){return this._maxPitch},ar.maxPitch.set=function(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))},ar.renderWorldCopies.get=function(){return this._renderWorldCopies},ar.renderWorldCopies.set=function(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s},ar.worldSize.get=function(){return this.tileSize*this.scale},ar.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},ar.size.get=function(){return new o.Point(this.width,this.height)},ar.bearing.get=function(){return-this.angle/Math.PI*180},ar.bearing.set=function(s){var u=-o.wrap(s,-180,180)*Math.PI/180;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ar.pitch.get=function(){return this._pitch/Math.PI*180},ar.pitch.set=function(s){var u=o.clamp(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())},ar.fov.get=function(){return this._fov/Math.PI*180},ar.fov.set=function(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=s/180*Math.PI,this._calcMatrices())},ar.zoom.get=function(){return this._zoom},ar.zoom.set=function(s){var u=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._zoom=u,this.scale=this.zoomScale(u),this.tileZoom=Math.floor(u),this.zoomFraction=u-this.tileZoom,this._constrain(),this._calcMatrices())},ar.center.get=function(){return this._center},ar.center.set=function(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())},ar.padding.get=function(){return this._edgeInsets.toJSON()},ar.padding.set=function(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())},ar.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Bt.prototype.isPaddingEqual=function(s){return this._edgeInsets.equals(s)},Bt.prototype.interpolatePadding=function(s,u,l){this._unmodified=!1,this._edgeInsets.interpolate(s,u,l),this._constrain(),this._calcMatrices()},Bt.prototype.coveringZoomLevel=function(s){var u=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,u)},Bt.prototype.getVisibleUnwrappedCoordinates=function(s){var u=[new o.UnwrappedTileID(0,s)];if(this._renderWorldCopies)for(var l=this.pointCoordinate(new o.Point(0,0)),f=this.pointCoordinate(new o.Point(this.width,0)),_=this.pointCoordinate(new o.Point(this.width,this.height)),x=this.pointCoordinate(new o.Point(0,this.height)),w=Math.floor(Math.min(l.x,f.x,_.x,x.x)),k=Math.floor(Math.max(l.x,f.x,_.x,x.x)),D=w-1;D<=k+1;D++)D!==0&&u.push(new o.UnwrappedTileID(D,s));return u},Bt.prototype.coveringTiles=function(s){var u=this.coveringZoomLevel(s),l=u;if(s.minzoom!==void 0&&u<s.minzoom)return[];s.maxzoom!==void 0&&u>s.maxzoom&&(u=s.maxzoom);var f=o.MercatorCoordinate.fromLngLat(this.center),_=Math.pow(2,u),x=[_*f.x,_*f.y,0],w=Yt.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,u),k=s.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(k=u);var D=function(Ct){return{aabb:new Ur([Ct*_,0,0],[(Ct+1)*_,_,0]),zoom:0,x:0,y:0,wrap:Ct,fullyVisible:!1}},H=[],J=[],te=u,ie=s.reparseOverscaled?l:u;if(this._renderWorldCopies)for(var ve=1;ve<=3;ve++)H.push(D(-ve)),H.push(D(ve));for(H.push(D(0));H.length>0;){var ye=H.pop(),Ie=ye.x,he=ye.y,Ae=ye.fullyVisible;if(!Ae){var De=ye.aabb.intersects(w);if(De===0)continue;Ae=De===2}var He=ye.aabb.distanceX(x),nt=ye.aabb.distanceY(x),Ke=Math.max(Math.abs(He),Math.abs(nt));if(ye.zoom===te||Ke>3+(1<<te-ye.zoom)-2&&ye.zoom>=k)J.push({tileID:new o.OverscaledTileID(ye.zoom===te?ie:ye.zoom,ye.wrap,ye.zoom,Ie,he),distanceSq:o.sqrLen([x[0]-.5-Ie,x[1]-.5-he])});else for(var ot=0;ot<4;ot++){var yt=(Ie<<1)+ot%2,At=(he<<1)+(ot>>1);H.push({aabb:ye.aabb.quadrant(ot),zoom:ye.zoom+1,x:yt,y:At,wrap:ye.wrap,fullyVisible:Ae})}}return J.sort(function(Ct,jt){return Ct.distanceSq-jt.distanceSq}).map(function(Ct){return Ct.tileID})},Bt.prototype.resize=function(s,u){this.width=s,this.height=u,this.pixelsToGLUnits=[2/s,-2/u],this._constrain(),this._calcMatrices()},ar.unmodified.get=function(){return this._unmodified},Bt.prototype.zoomScale=function(s){return Math.pow(2,s)},Bt.prototype.scaleZoom=function(s){return Math.log(s)/Math.LN2},Bt.prototype.project=function(s){var u=o.clamp(s.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng(s.lng)*this.worldSize,o.mercatorYfromLat(u)*this.worldSize)},Bt.prototype.unproject=function(s){return new o.MercatorCoordinate(s.x/this.worldSize,s.y/this.worldSize).toLngLat()},ar.point.get=function(){return this.project(this.center)},Bt.prototype.setLocationAtPoint=function(s,u){var l=this.pointCoordinate(u),f=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(s),x=new o.MercatorCoordinate(_.x-(l.x-f.x),_.y-(l.y-f.y));this.center=this.coordinateLocation(x),this._renderWorldCopies&&(this.center=this.center.wrap())},Bt.prototype.locationPoint=function(s){return this.coordinatePoint(this.locationCoordinate(s))},Bt.prototype.pointLocation=function(s){return this.coordinateLocation(this.pointCoordinate(s))},Bt.prototype.locationCoordinate=function(s){return o.MercatorCoordinate.fromLngLat(s)},Bt.prototype.coordinateLocation=function(s){return s.toLngLat()},Bt.prototype.pointCoordinate=function(s){var u=[s.x,s.y,0,1],l=[s.x,s.y,1,1];o.transformMat4(u,u,this.pixelMatrixInverse),o.transformMat4(l,l,this.pixelMatrixInverse);var f=u[3],_=l[3],x=u[1]/f,w=l[1]/_,k=u[2]/f,D=l[2]/_,H=k===D?0:(0-k)/(D-k);return new o.MercatorCoordinate(o.number(u[0]/f,l[0]/_,H)/this.worldSize,o.number(x,w,H)/this.worldSize)},Bt.prototype.coordinatePoint=function(s){var u=[s.x*this.worldSize,s.y*this.worldSize,0,1];return o.transformMat4(u,u,this.pixelMatrix),new o.Point(u[0]/u[3],u[1]/u[3])},Bt.prototype.getBounds=function(){return new o.LngLatBounds().extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},Bt.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Bt.prototype.setMaxBounds=function(s){s?(this.lngRange=[s.getWest(),s.getEast()],this.latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Bt.prototype.calculatePosMatrix=function(s,u){u===void 0&&(u=!1);var l=s.key,f=u?this._alignedPosMatrixCache:this._posMatrixCache;if(f[l])return f[l];var _=s.canonical,x=this.worldSize/this.zoomScale(_.z),w=_.x+Math.pow(2,_.z)*s.wrap,k=o.identity(new Float64Array(16));return o.translate(k,k,[w*x,_.y*x,0]),o.scale(k,k,[x/o.EXTENT,x/o.EXTENT,1]),o.multiply(k,u?this.alignedProjMatrix:this.projMatrix,k),f[l]=new Float32Array(k),f[l]},Bt.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Bt.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var s,u,l,f,_=-90,x=90,w=-180,k=180,D=this.size,H=this._unmodified;if(this.latRange){var J=this.latRange;_=o.mercatorYfromLat(J[1])*this.worldSize,s=(x=o.mercatorYfromLat(J[0])*this.worldSize)-_<D.y?D.y/(x-_):0}if(this.lngRange){var te=this.lngRange;w=o.mercatorXfromLng(te[0])*this.worldSize,u=(k=o.mercatorXfromLng(te[1])*this.worldSize)-w<D.x?D.x/(k-w):0}var ie=this.point,ve=Math.max(u||0,s||0);if(ve)return this.center=this.unproject(new o.Point(u?(k+w)/2:ie.x,s?(x+_)/2:ie.y)),this.zoom+=this.scaleZoom(ve),this._unmodified=H,void(this._constraining=!1);if(this.latRange){var ye=ie.y,Ie=D.y/2;ye-Ie<_&&(f=_+Ie),ye+Ie>x&&(f=x-Ie)}if(this.lngRange){var he=ie.x,Ae=D.x/2;he-Ae<w&&(l=w+Ae),he+Ae>k&&(l=k-Ae)}l===void 0&&f===void 0||(this.center=this.unproject(new o.Point(l!==void 0?l:ie.x,f!==void 0?f:ie.y))),this._unmodified=H,this._constraining=!1}},Bt.prototype._calcMatrices=function(){if(this.height){var s=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var u=Math.PI/2+this._pitch,l=this._fov*(.5+s.y/this.height),f=Math.sin(l)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-u-l,.01,Math.PI-.01)),_=this.point,x=_.x,w=_.y,k=1.01*(Math.cos(Math.PI/2-this._pitch)*f+this.cameraToCenterDistance),D=this.height/50,H=new Float64Array(16);o.perspective(H,this._fov,this.width/this.height,D,k),H[8]=2*-s.x/this.width,H[9]=2*s.y/this.height,o.scale(H,H,[1,-1,1]),o.translate(H,H,[0,0,-this.cameraToCenterDistance]),o.rotateX(H,H,this._pitch),o.rotateZ(H,H,this.angle),o.translate(H,H,[-x,-w,0]),this.mercatorMatrix=o.scale([],H,[this.worldSize,this.worldSize,this.worldSize]),o.scale(H,H,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=H,this.invProjMatrix=o.invert([],this.projMatrix);var J=this.width%2/2,te=this.height%2/2,ie=Math.cos(this.angle),ve=Math.sin(this.angle),ye=x-Math.round(x)+ie*J+ve*te,Ie=w-Math.round(w)+ie*te+ve*J,he=new Float64Array(H);if(o.translate(he,he,[ye>.5?ye-1:ye,Ie>.5?Ie-1:Ie,0]),this.alignedProjMatrix=he,H=o.create(),o.scale(H,H,[this.width/2,-this.height/2,1]),o.translate(H,H,[1,-1,0]),this.labelPlaneMatrix=H,H=o.create(),o.scale(H,H,[1,-1,1]),o.translate(H,H,[-1,-1,0]),o.scale(H,H,[2/this.width,2/this.height,1]),this.glCoordMatrix=H,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(H=o.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=H,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Bt.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var s=this.pointCoordinate(new o.Point(0,0)),u=[s.x*this.worldSize,s.y*this.worldSize,0,1];return o.transformMat4(u,u,this.pixelMatrix)[3]/this.cameraToCenterDistance},Bt.prototype.getCameraPoint=function(){var s=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,s))},Bt.prototype.getCameraQueryGeometry=function(s){var u=this.getCameraPoint();if(s.length===1)return[s[0],u];for(var l=u.x,f=u.y,_=u.x,x=u.y,w=0,k=s;w<k.length;w+=1){var D=k[w];l=Math.min(l,D.x),f=Math.min(f,D.y),_=Math.max(_,D.x),x=Math.max(x,D.y)}return[new o.Point(l,f),new o.Point(_,f),new o.Point(_,x),new o.Point(l,x),new o.Point(l,f)]},Object.defineProperties(Bt.prototype,ar);var lr=function(s){var u,l,f,_;this._hashName=s&&encodeURIComponent(s),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(u=this._updateHashUnthrottled.bind(this),l=!1,f=null,_=function(){f=null,l&&(u(),f=setTimeout(_,300),l=!1)},function(){return l=!0,f||_(),f})};lr.prototype.addTo=function(s){return this._map=s,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},lr.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},lr.prototype.getHashString=function(s){var u=this._map.getCenter(),l=Math.round(100*this._map.getZoom())/100,f=Math.ceil((l*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,f),x=Math.round(u.lng*_)/_,w=Math.round(u.lat*_)/_,k=this._map.getBearing(),D=this._map.getPitch(),H="";if(H+=s?"/"+x+"/"+w+"/"+l:l+"/"+w+"/"+x,(k||D)&&(H+="/"+Math.round(10*k)/10),D&&(H+="/"+Math.round(D)),this._hashName){var J=this._hashName,te=!1,ie=o.window.location.hash.slice(1).split("&").map(function(ve){var ye=ve.split("=")[0];return ye===J?(te=!0,ye+"="+H):ve}).filter(function(ve){return ve});return te||ie.push(J+"="+H),"#"+ie.join("&")}return"#"+H},lr.prototype._getCurrentHash=function(){var s,u=this,l=o.window.location.hash.replace("#","");return this._hashName?(l.split("&").map(function(f){return f.split("=")}).forEach(function(f){f[0]===u._hashName&&(s=f)}),(s&&s[1]||"").split("/")):l.split("/")},lr.prototype._onHashChange=function(){var s=this._getCurrentHash();if(s.length>=3&&!s.some(function(l){return isNaN(l)})){var u=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(s[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+s[2],+s[1]],zoom:+s[0],bearing:u,pitch:+(s[4]||0)}),!0}return!1},lr.prototype._updateHashUnthrottled=function(){var s=o.window.location.href.replace(/(#.+)?$/,this.getHashString());try{o.window.history.replaceState(o.window.history.state,null,s)}catch{}};var An={linearity:.3,easing:o.bezier(0,0,.3,1)},Ai=o.extend({deceleration:2500,maxSpeed:1400},An),vi=o.extend({deceleration:20,maxSpeed:1400},An),Zo=o.extend({deceleration:1e3,maxSpeed:360},An),Ca=o.extend({deceleration:1e3,maxSpeed:90},An),Aa=function(s){this._map=s,this.clear()};function Ii(s,u){(!s.duration||s.duration<u.duration)&&(s.duration=u.duration,s.easing=u.easing)}function Rs(s,u,l){var f=l.maxSpeed,_=l.linearity,x=l.deceleration,w=o.clamp(s*_/(u/1e3),-f,f),k=Math.abs(w)/(x*_);return{easing:l.easing,duration:1e3*k,amount:w*(k/2)}}Aa.prototype.clear=function(){this._inertiaBuffer=[]},Aa.prototype.record=function(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:s})},Aa.prototype._drainInertiaBuffer=function(){for(var s=this._inertiaBuffer,u=o.browser.now();s.length>0&&u-s[0].time>160;)s.shift()},Aa.prototype._onMoveEnd=function(s){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var u={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},l=0,f=this._inertiaBuffer;l<f.length;l+=1){var _=f[l].settings;u.zoom+=_.zoomDelta||0,u.bearing+=_.bearingDelta||0,u.pitch+=_.pitchDelta||0,_.panDelta&&u.pan._add(_.panDelta),_.around&&(u.around=_.around),_.pinchAround&&(u.pinchAround=_.pinchAround)}var x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(u.pan.mag()){var k=Rs(u.pan.mag(),x,o.extend({},Ai,s||{}));w.offset=u.pan.mult(k.amount/u.pan.mag()),w.center=this._map.transform.center,Ii(w,k)}if(u.zoom){var D=Rs(u.zoom,x,vi);w.zoom=this._map.transform.zoom+D.amount,Ii(w,D)}if(u.bearing){var H=Rs(u.bearing,x,Zo);w.bearing=this._map.transform.bearing+o.clamp(H.amount,-179,179),Ii(w,H)}if(u.pitch){var J=Rs(u.pitch,x,Ca);w.pitch=this._map.transform.pitch+J.amount,Ii(w,J)}if(w.zoom||w.bearing){var te=u.pinchAround===void 0?u.around:u.pinchAround;w.around=te?this._map.unproject(te):this._map.getCenter()}return this.clear(),o.extend(w,{noMoveStart:!0})}};var ki=function(s){function u(f,_,x,w){w===void 0&&(w={});var k=E.mousePos(_.getCanvasContainer(),x),D=_.unproject(k);s.call(this,f,o.extend({point:k,lngLat:D,originalEvent:x},w)),this._defaultPrevented=!1,this.target=_}s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u;var l={defaultPrevented:{configurable:!0}};return u.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(u.prototype,l),u}(o.Event),Ku=function(s){function u(f,_,x){var w=f==="touchend"?x.changedTouches:x.touches,k=E.touchPos(_.getCanvasContainer(),w),D=k.map(function(te){return _.unproject(te)}),H=k.reduce(function(te,ie,ve,ye){return te.add(ie.div(ye.length))},new o.Point(0,0)),J=_.unproject(H);s.call(this,f,{points:k,point:H,lngLats:D,lngLat:J,originalEvent:x}),this._defaultPrevented=!1}s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u;var l={defaultPrevented:{configurable:!0}};return u.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(u.prototype,l),u}(o.Event),Sp=function(s){function u(f,_,x){s.call(this,f,{originalEvent:x}),this._defaultPrevented=!1}s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u;var l={defaultPrevented:{configurable:!0}};return u.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(u.prototype,l),u}(o.Event),bi=function(s,u){this._map=s,this._clickTolerance=u.clickTolerance};bi.prototype.reset=function(){delete this._mousedownPos},bi.prototype.wheel=function(s){return this._firePreventable(new Sp(s.type,this._map,s))},bi.prototype.mousedown=function(s,u){return this._mousedownPos=u,this._firePreventable(new ki(s.type,this._map,s))},bi.prototype.mouseup=function(s){this._map.fire(new ki(s.type,this._map,s))},bi.prototype.click=function(s,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||this._map.fire(new ki(s.type,this._map,s))},bi.prototype.dblclick=function(s){return this._firePreventable(new ki(s.type,this._map,s))},bi.prototype.mouseover=function(s){this._map.fire(new ki(s.type,this._map,s))},bi.prototype.mouseout=function(s){this._map.fire(new ki(s.type,this._map,s))},bi.prototype.touchstart=function(s){return this._firePreventable(new Ku(s.type,this._map,s))},bi.prototype.touchmove=function(s){this._map.fire(new Ku(s.type,this._map,s))},bi.prototype.touchend=function(s){this._map.fire(new Ku(s.type,this._map,s))},bi.prototype.touchcancel=function(s){this._map.fire(new Ku(s.type,this._map,s))},bi.prototype._firePreventable=function(s){if(this._map.fire(s),s.defaultPrevented)return{}},bi.prototype.isEnabled=function(){return!0},bi.prototype.isActive=function(){return!1},bi.prototype.enable=function(){},bi.prototype.disable=function(){};var $t=function(s){this._map=s};$t.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},$t.prototype.mousemove=function(s){this._map.fire(new ki(s.type,this._map,s))},$t.prototype.mousedown=function(){this._delayContextMenu=!0},$t.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ki("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},$t.prototype.contextmenu=function(s){this._delayContextMenu?this._contextMenuEvent=s:this._map.fire(new ki(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()},$t.prototype.isEnabled=function(){return!0},$t.prototype.isActive=function(){return!1},$t.prototype.enable=function(){},$t.prototype.disable=function(){};var Xo=function(s,u){this._map=s,this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=u.clickTolerance||1};function Oc(s,u){for(var l={},f=0;f<s.length;f++)l[s[f].identifier]=u[f];return l}Xo.prototype.isEnabled=function(){return!!this._enabled},Xo.prototype.isActive=function(){return!!this._active},Xo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Xo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Xo.prototype.mousedown=function(s,u){this.isEnabled()&&s.shiftKey&&s.button===0&&(E.disableDrag(),this._startPos=this._lastPos=u,this._active=!0)},Xo.prototype.mousemoveWindow=function(s,u){if(this._active){var l=u;if(!(this._lastPos.equals(l)||!this._box&&l.dist(this._startPos)<this._clickTolerance)){var f=this._startPos;this._lastPos=l,this._box||(this._box=E.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",s));var _=Math.min(f.x,l.x),x=Math.max(f.x,l.x),w=Math.min(f.y,l.y),k=Math.max(f.y,l.y);E.setTransform(this._box,"translate("+_+"px,"+w+"px)"),this._box.style.width=x-_+"px",this._box.style.height=k-w+"px"}}},Xo.prototype.mouseupWindow=function(s,u){var l=this;if(this._active&&s.button===0){var f=this._startPos,_=u;if(this.reset(),E.suppressClick(),f.x!==_.x||f.y!==_.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:s})),{cameraAnimation:function(x){return x.fitScreenCoordinates(f,_,l._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",s)}},Xo.prototype.keydown=function(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))},Xo.prototype.blur=function(){this.reset()},Xo.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(E.remove(this._box),this._box=null),E.enableDrag(),delete this._startPos,delete this._lastPos},Xo.prototype._fireEvent=function(s,u){return this._map.fire(new o.Event(s,{originalEvent:u}))};var uu=function(s){this.reset(),this.numTouches=s.numTouches};uu.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},uu.prototype.touchstart=function(s,u,l){(this.centroid||l.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),l.length===this.numTouches&&(this.centroid=function(f){for(var _=new o.Point(0,0),x=0,w=f;x<w.length;x+=1)_._add(w[x]);return _.div(f.length)}(u),this.touches=Oc(l,u)))},uu.prototype.touchmove=function(s,u,l){if(!this.aborted&&this.centroid){var f=Oc(l,u);for(var _ in this.touches){var x=f[_];(!x||x.dist(this.touches[_])>30)&&(this.aborted=!0)}}},uu.prototype.touchend=function(s,u,l){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),l.length===0){var f=!this.aborted&&this.centroid;if(this.reset(),f)return f}};var Qa=function(s){this.singleTap=new uu(s),this.numTaps=s.numTaps,this.reset()};Qa.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Qa.prototype.touchstart=function(s,u,l){this.singleTap.touchstart(s,u,l)},Qa.prototype.touchmove=function(s,u,l){this.singleTap.touchmove(s,u,l)},Qa.prototype.touchend=function(s,u,l){var f=this.singleTap.touchend(s,u,l);if(f){var _=s.timeStamp-this.lastTime<500,x=!this.lastTap||this.lastTap.dist(f)<30;if(_&&x||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}};var Ko=function(){this._zoomIn=new Qa({numTouches:1,numTaps:2}),this._zoomOut=new Qa({numTouches:2,numTaps:1}),this.reset()};Ko.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ko.prototype.touchstart=function(s,u,l){this._zoomIn.touchstart(s,u,l),this._zoomOut.touchstart(s,u,l)},Ko.prototype.touchmove=function(s,u,l){this._zoomIn.touchmove(s,u,l),this._zoomOut.touchmove(s,u,l)},Ko.prototype.touchend=function(s,u,l){var f=this,_=this._zoomIn.touchend(s,u,l),x=this._zoomOut.touchend(s,u,l);return _?(this._active=!0,s.preventDefault(),setTimeout(function(){return f.reset()},0),{cameraAnimation:function(w){return w.easeTo({duration:300,zoom:w.getZoom()+1,around:w.unproject(_)},{originalEvent:s})}}):x?(this._active=!0,s.preventDefault(),setTimeout(function(){return f.reset()},0),{cameraAnimation:function(w){return w.easeTo({duration:300,zoom:w.getZoom()-1,around:w.unproject(x)},{originalEvent:s})}}):void 0},Ko.prototype.touchcancel=function(){this.reset()},Ko.prototype.enable=function(){this._enabled=!0},Ko.prototype.disable=function(){this._enabled=!1,this.reset()},Ko.prototype.isEnabled=function(){return this._enabled},Ko.prototype.isActive=function(){return this._active};var Kh={0:1,2:2},Ot=function(s){this.reset(),this._clickTolerance=s.clickTolerance||1};Ot.prototype.blur=function(){this.reset()},Ot.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Ot.prototype._correctButton=function(s,u){return!1},Ot.prototype._move=function(s,u){return{}},Ot.prototype.mousedown=function(s,u){if(!this._lastPoint){var l=E.mouseButton(s);this._correctButton(s,l)&&(this._lastPoint=u,this._eventButton=l)}},Ot.prototype.mousemoveWindow=function(s,u){var l=this._lastPoint;if(l){if(s.preventDefault(),function(f,_){var x=Kh[_];return f.buttons===void 0||(f.buttons&x)!==x}(s,this._eventButton))this.reset();else if(this._moved||!(u.dist(l)<this._clickTolerance))return this._moved=!0,this._lastPoint=u,this._move(l,u)}},Ot.prototype.mouseupWindow=function(s){this._lastPoint&&E.mouseButton(s)===this._eventButton&&(this._moved&&E.suppressClick(),this.reset())},Ot.prototype.enable=function(){this._enabled=!0},Ot.prototype.disable=function(){this._enabled=!1,this.reset()},Ot.prototype.isEnabled=function(){return this._enabled},Ot.prototype.isActive=function(){return this._active};var Yh=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.mousedown=function(l,f){s.prototype.mousedown.call(this,l,f),this._lastPoint&&(this._active=!0)},u.prototype._correctButton=function(l,f){return f===0&&!l.ctrlKey},u.prototype._move=function(l,f){return{around:f,panDelta:f.sub(l)}},u}(Ot),Dc=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype._correctButton=function(l,f){return f===0&&l.ctrlKey||f===2},u.prototype._move=function(l,f){var _=.8*(f.x-l.x);if(_)return this._active=!0,{bearingDelta:_}},u.prototype.contextmenu=function(l){l.preventDefault()},u}(Ot),Jh=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype._correctButton=function(l,f){return f===0&&l.ctrlKey||f===2},u.prototype._move=function(l,f){var _=-.5*(f.y-l.y);if(_)return this._active=!0,{pitchDelta:_}},u.prototype.contextmenu=function(l){l.preventDefault()},u}(Ot),Ia=function(s){this._minTouches=1,this._clickTolerance=s.clickTolerance||1,this.reset()};Ia.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},Ia.prototype.touchstart=function(s,u,l){return this._calculateTransform(s,u,l)},Ia.prototype.touchmove=function(s,u,l){if(this._active&&!(l.length<this._minTouches))return s.preventDefault(),this._calculateTransform(s,u,l)},Ia.prototype.touchend=function(s,u,l){this._calculateTransform(s,u,l),this._active&&l.length<this._minTouches&&this.reset()},Ia.prototype.touchcancel=function(){this.reset()},Ia.prototype._calculateTransform=function(s,u,l){l.length>0&&(this._active=!0);var f=Oc(l,u),_=new o.Point(0,0),x=new o.Point(0,0),w=0;for(var k in f){var D=f[k],H=this._touches[k];H&&(_._add(D),x._add(D.sub(H)),w++,f[k]=D)}if(this._touches=f,!(w<this._minTouches)&&x.mag()){var J=x.div(w);if(this._sum._add(J),!(this._sum.mag()<this._clickTolerance))return{around:_.div(w),panDelta:J}}},Ia.prototype.enable=function(){this._enabled=!0},Ia.prototype.disable=function(){this._enabled=!1,this.reset()},Ia.prototype.isEnabled=function(){return this._enabled},Ia.prototype.isActive=function(){return this._active};var Yo=function(){this.reset()};function Nc(s,u,l){for(var f=0;f<s.length;f++)if(s[f].identifier===l)return u[f]}function zc(s,u){return Math.log(s/u)/Math.LN2}Yo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yo.prototype._start=function(s){},Yo.prototype._move=function(s,u,l){return{}},Yo.prototype.touchstart=function(s,u,l){this._firstTwoTouches||l.length<2||(this._firstTwoTouches=[l[0].identifier,l[1].identifier],this._start([u[0],u[1]]))},Yo.prototype.touchmove=function(s,u,l){if(this._firstTwoTouches){s.preventDefault();var f=this._firstTwoTouches,_=f[1],x=Nc(l,u,f[0]),w=Nc(l,u,_);if(x&&w){var k=this._aroundCenter?null:x.add(w).div(2);return this._move([x,w],k,s)}}},Yo.prototype.touchend=function(s,u,l){if(this._firstTwoTouches){var f=this._firstTwoTouches,_=f[1],x=Nc(l,u,f[0]),w=Nc(l,u,_);x&&w||(this._active&&E.suppressClick(),this.reset())}},Yo.prototype.touchcancel=function(){this.reset()},Yo.prototype.enable=function(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var Jo=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.reset=function(){s.prototype.reset.call(this),delete this._distance,delete this._startDistance},u.prototype._start=function(l){this._startDistance=this._distance=l[0].dist(l[1])},u.prototype._move=function(l,f){var _=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(zc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:zc(this._distance,_),pinchAround:f}},u}(Yo);function Ms(s,u){return 180*s.angleWith(u)/Math.PI}var Tp=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.reset=function(){s.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},u.prototype._start=function(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])},u.prototype._move=function(l,f){var _=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ms(this._vector,_),pinchAround:f}},u.prototype._isBelowThreshold=function(l){this._minDiameter=Math.min(this._minDiameter,l.mag());var f=25/(Math.PI*this._minDiameter)*360,_=Ms(l,this._startVector);return Math.abs(_)<f},u}(Yo);function Yu(s){return Math.abs(s.y)>Math.abs(s.x)}var Qh=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.reset=function(){s.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},u.prototype._start=function(l){this._lastPoints=l,Yu(l[0].sub(l[1]))&&(this._valid=!1)},u.prototype._move=function(l,f,_){var x=l[0].sub(this._lastPoints[0]),w=l[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(x,w,_.timeStamp),this._valid)return this._lastPoints=l,this._active=!0,{pitchDelta:(x.y+w.y)/2*-.5}},u.prototype.gestureBeginsVertically=function(l,f,_){if(this._valid!==void 0)return this._valid;var x=l.mag()>=2,w=f.mag()>=2;if(x||w){if(!x||!w)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;var k=l.y>0==f.y>0;return Yu(l)&&Yu(f)&&k}},u}(Yo),ef={panStep:100,bearingStep:15,pitchStep:10},es=function(){var s=ef;this._panStep=s.panStep,this._bearingStep=s.bearingStep,this._pitchStep=s.pitchStep,this._rotationDisabled=!1};function fa(s){return s*(2-s)}es.prototype.blur=function(){this.reset()},es.prototype.reset=function(){this._active=!1},es.prototype.keydown=function(s){var u=this;if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=0,f=0,_=0,x=0,w=0;switch(s.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:s.shiftKey?f=-1:(s.preventDefault(),x=-1);break;case 39:s.shiftKey?f=1:(s.preventDefault(),x=1);break;case 38:s.shiftKey?_=1:(s.preventDefault(),w=-1);break;case 40:s.shiftKey?_=-1:(s.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(f=0,_=0),{cameraAnimation:function(k){var D=k.getZoom();k.easeTo({duration:300,easeId:"keyboardHandler",easing:fa,zoom:l?Math.round(D)+l*(s.shiftKey?2:1):D,bearing:k.getBearing()+f*u._bearingStep,pitch:k.getPitch()+_*u._pitchStep,offset:[-x*u._panStep,-w*u._panStep],center:k.getCenter()},{originalEvent:s})}}}},es.prototype.enable=function(){this._enabled=!0},es.prototype.disable=function(){this._enabled=!1,this.reset()},es.prototype.isEnabled=function(){return this._enabled},es.prototype.isActive=function(){return this._active},es.prototype.disableRotation=function(){this._rotationDisabled=!0},es.prototype.enableRotation=function(){this._rotationDisabled=!1};var jr=function(s,u){this._map=s,this._el=s.getCanvasContainer(),this._handler=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,o.bindAll(["_onTimeout"],this)};jr.prototype.setZoomRate=function(s){this._defaultZoomRate=s},jr.prototype.setWheelZoomRate=function(s){this._wheelZoomRate=s},jr.prototype.isEnabled=function(){return!!this._enabled},jr.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},jr.prototype.isZooming=function(){return!!this._zooming},jr.prototype.enable=function(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=s&&s.around==="center")},jr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},jr.prototype.wheel=function(s){if(this.isEnabled()){var u=s.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY,l=o.browser.now(),f=l-(this._lastWheelEventTime||0);this._lastWheelEventTime=l,u!==0&&u%4.000244140625==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(f*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),s.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=s,this._delta-=u,this._active||this._start(s)),s.preventDefault()}},jr.prototype._onTimeout=function(s){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(s)},jr.prototype._start=function(s){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var u=E.mousePos(this._el,s);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(u)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},jr.prototype.renderFrame=function(){var s=this;if(this._frameId&&(this._frameId=null,this.isActive())){var u=this._map.transform;if(this._delta!==0){var l=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,f=2/(1+Math.exp(-Math.abs(this._delta*l)));this._delta<0&&f!==0&&(f=1/f);var _=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(_*f))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var x,w=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,k=this._startZoom,D=this._easing,H=!1;if(this._type==="wheel"&&k&&D){var J=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),te=D(J);x=o.number(k,w,te),J<1?this._frameId||(this._frameId=!0):H=!0}else x=w,H=!0;return this._active=!0,H&&(this._active=!1,this._finishTimeout=setTimeout(function(){s._zooming=!1,s._handler._triggerRenderFrame(),delete s._targetZoom,delete s._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!H,zoomDelta:x-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},jr.prototype._smoothOutEasing=function(s){var u=o.ease;if(this._prevEase){var l=this._prevEase,f=(o.browser.now()-l.start)/l.duration,_=l.easing(f+.01)-l.easing(f),x=.27/Math.sqrt(_*_+1e-4)*.01,w=Math.sqrt(.0729-x*x);u=o.bezier(x,w,.25,1)}return this._prevEase={start:o.browser.now(),duration:s,easing:u},u},jr.prototype.blur=function(){this.reset()},jr.prototype.reset=function(){this._active=!1};var ds=function(s,u){this._clickZoom=s,this._tapZoom=u};ds.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ds.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ds.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ds.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ka=function(){this.reset()};ka.prototype.reset=function(){this._active=!1},ka.prototype.blur=function(){this.reset()},ka.prototype.dblclick=function(s,u){return s.preventDefault(),{cameraAnimation:function(l){l.easeTo({duration:300,zoom:l.getZoom()+(s.shiftKey?-1:1),around:l.unproject(u)},{originalEvent:s})}}},ka.prototype.enable=function(){this._enabled=!0},ka.prototype.disable=function(){this._enabled=!1,this.reset()},ka.prototype.isEnabled=function(){return this._enabled},ka.prototype.isActive=function(){return this._active};var ro=function(){this._tap=new Qa({numTouches:1,numTaps:1}),this.reset()};ro.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ro.prototype.touchstart=function(s,u,l){this._swipePoint||(this._tapTime&&s.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?l.length>0&&(this._swipePoint=u[0],this._swipeTouch=l[0].identifier):this._tap.touchstart(s,u,l))},ro.prototype.touchmove=function(s,u,l){if(this._tapTime){if(this._swipePoint){if(l[0].identifier!==this._swipeTouch)return;var f=u[0],_=f.y-this._swipePoint.y;return this._swipePoint=f,s.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(s,u,l)},ro.prototype.touchend=function(s,u,l){this._tapTime?this._swipePoint&&l.length===0&&this.reset():this._tap.touchend(s,u,l)&&(this._tapTime=s.timeStamp)},ro.prototype.touchcancel=function(){this.reset()},ro.prototype.enable=function(){this._enabled=!0},ro.prototype.disable=function(){this._enabled=!1,this.reset()},ro.prototype.isEnabled=function(){return this._enabled},ro.prototype.isActive=function(){return this._active};var Pl=function(s,u,l){this._el=s,this._mousePan=u,this._touchPan=l};Pl.prototype.enable=function(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Pl.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Pl.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Pl.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var tl=function(s,u,l){this._pitchWithRotate=s.pitchWithRotate,this._mouseRotate=u,this._mousePitch=l};tl.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},tl.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},tl.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},tl.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ts=function(s,u,l,f){this._el=s,this._touchZoom=u,this._touchRotate=l,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0};ts.prototype.enable=function(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ts.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ts.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ts.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ts.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ts.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Eo=function(s){return s.zoom||s.drag||s.pitch||s.rotate},Ju=function(s){function u(){s.apply(this,arguments)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u}(o.Event);function nr(s){return s.panDelta&&s.panDelta.mag()||s.zoomDelta||s.bearingDelta||s.pitchDelta}var Xt=function(s,u){this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Aa(s),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(u),o.bindAll(["handleEvent","handleWindowEvent"],this);var l=this._el;this._listeners=[[l,"touchstart",{passive:!0}],[l,"touchmove",{passive:!1}],[l,"touchend",void 0],[l,"touchcancel",void 0],[l,"mousedown",void 0],[l,"mousemove",void 0],[l,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[l,"mouseover",void 0],[l,"mouseout",void 0],[l,"dblclick",void 0],[l,"click",void 0],[l,"keydown",{capture:!1}],[l,"keyup",void 0],[l,"wheel",{passive:!1}],[l,"contextmenu",void 0],[o.window,"blur",void 0]];for(var f=0,_=this._listeners;f<_.length;f+=1){var x=_[f],w=x[0];E.addEventListener(w,x[1],w===o.window.document?this.handleWindowEvent:this.handleEvent,x[2])}};Xt.prototype.destroy=function(){for(var s=0,u=this._listeners;s<u.length;s+=1){var l=u[s],f=l[0];E.removeEventListener(f,l[1],f===o.window.document?this.handleWindowEvent:this.handleEvent,l[2])}},Xt.prototype._addDefaultHandlers=function(s){var u=this._map,l=u.getCanvasContainer();this._add("mapEvent",new bi(u,s));var f=u.boxZoom=new Xo(u,s);this._add("boxZoom",f);var _=new Ko,x=new ka;u.doubleClickZoom=new ds(x,_),this._add("tapZoom",_),this._add("clickZoom",x);var w=new ro;this._add("tapDragZoom",w);var k=u.touchPitch=new Qh;this._add("touchPitch",k);var D=new Dc(s),H=new Jh(s);u.dragRotate=new tl(s,D,H),this._add("mouseRotate",D,["mousePitch"]),this._add("mousePitch",H,["mouseRotate"]);var J=new Yh(s),te=new Ia(s);u.dragPan=new Pl(l,J,te),this._add("mousePan",J),this._add("touchPan",te,["touchZoom","touchRotate"]);var ie=new Tp,ve=new Jo;u.touchZoomRotate=new ts(l,ve,ie,w),this._add("touchRotate",ie,["touchPan","touchZoom"]),this._add("touchZoom",ve,["touchPan","touchRotate"]);var ye=u.scrollZoom=new jr(u,this);this._add("scrollZoom",ye,["mousePan"]);var Ie=u.keyboard=new es;this._add("keyboard",Ie),this._add("blockableMapEvent",new $t(u));for(var he=0,Ae=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];he<Ae.length;he+=1){var De=Ae[he];s.interactive&&s[De]&&u[De].enable(s[De])}},Xt.prototype._add=function(s,u,l){this._handlers.push({handlerName:s,handler:u,allowed:l}),this._handlersById[s]=u},Xt.prototype.stop=function(s){if(!this._updatingCamera){for(var u=0,l=this._handlers;u<l.length;u+=1)l[u].handler.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}},Xt.prototype.isActive=function(){for(var s=0,u=this._handlers;s<u.length;s+=1)if(u[s].handler.isActive())return!0;return!1},Xt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Xt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Xt.prototype.isMoving=function(){return!!Eo(this._eventsInProgress)||this.isZooming()},Xt.prototype._blockedByActive=function(s,u,l){for(var f in s)if(f!==l&&(!u||u.indexOf(f)<0))return!0;return!1},Xt.prototype.handleWindowEvent=function(s){this.handleEvent(s,s.type+"Window")},Xt.prototype._getMapTouches=function(s){for(var u=[],l=0,f=s;l<f.length;l+=1){var _=f[l];this._el.contains(_.target)&&u.push(_)}return u},Xt.prototype.handleEvent=function(s,u){this._updatingCamera=!0;for(var l=s.type==="renderFrame"?void 0:s,f={needsRenderFrame:!1},_={},x={},w=s.touches?this._getMapTouches(s.touches):void 0,k=w?E.touchPos(this._el,w):E.mousePos(this._el,s),D=0,H=this._handlers;D<H.length;D+=1){var J=H[D],te=J.handlerName,ie=J.handler,ve=J.allowed;if(ie.isEnabled()){var ye=void 0;this._blockedByActive(x,ve,te)?ie.reset():ie[u||s.type]&&(ye=ie[u||s.type](s,k,w),this.mergeHandlerResult(f,_,ye,te,l),ye&&ye.needsRenderFrame&&this._triggerRenderFrame()),(ye||ie.isActive())&&(x[te]=ie)}}var Ie={};for(var he in this._previousActiveHandlers)x[he]||(Ie[he]=l);this._previousActiveHandlers=x,(Object.keys(Ie).length||nr(f))&&(this._changes.push([f,_,Ie]),this._triggerRenderFrame()),(Object.keys(x).length||nr(f))&&this._map._stop(!0),this._updatingCamera=!1;var Ae=f.cameraAnimation;Ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ae(this._map))},Xt.prototype.mergeHandlerResult=function(s,u,l,f,_){if(l){o.extend(s,l);var x={handlerName:f,originalEvent:l.originalEvent||_};l.zoomDelta!==void 0&&(u.zoom=x),l.panDelta!==void 0&&(u.drag=x),l.pitchDelta!==void 0&&(u.pitch=x),l.bearingDelta!==void 0&&(u.rotate=x)}},Xt.prototype._applyChanges=function(){for(var s={},u={},l={},f=0,_=this._changes;f<_.length;f+=1){var x=_[f],w=x[0],k=x[1],D=x[2];w.panDelta&&(s.panDelta=(s.panDelta||new o.Point(0,0))._add(w.panDelta)),w.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+w.pitchDelta),w.around!==void 0&&(s.around=w.around),w.pinchAround!==void 0&&(s.pinchAround=w.pinchAround),w.noInertia&&(s.noInertia=w.noInertia),o.extend(u,k),o.extend(l,D)}this._updateMapTransform(s,u,l),this._changes=[]},Xt.prototype._updateMapTransform=function(s,u,l){var f=this._map,_=f.transform;if(!nr(s))return this._fireEvents(u,l,!0);var x=s.panDelta,w=s.zoomDelta,k=s.bearingDelta,D=s.pitchDelta,H=s.around,J=s.pinchAround;J!==void 0&&(H=J),f._stop(!0),H=H||f.transform.centerPoint;var te=_.pointLocation(x?H.sub(x):H);k&&(_.bearing+=k),D&&(_.pitch+=D),w&&(_.zoom+=w),_.setLocationAtPoint(te,H),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(u,l,!0)},Xt.prototype._fireEvents=function(s,u,l){var f=this,_=Eo(this._eventsInProgress),x=Eo(s),w={};for(var k in s)this._eventsInProgress[k]||(w[k+"start"]=s[k].originalEvent),this._eventsInProgress[k]=s[k];for(var D in!_&&x&&this._fireEvent("movestart",x.originalEvent),w)this._fireEvent(D,w[D]);for(var H in x&&this._fireEvent("move",x.originalEvent),s)this._fireEvent(H,s[H].originalEvent);var J,te={};for(var ie in this._eventsInProgress){var ve=this._eventsInProgress[ie],ye=ve.handlerName,Ie=ve.originalEvent;this._handlersById[ye].isActive()||(delete this._eventsInProgress[ie],te[ie+"end"]=J=u[ye]||Ie)}for(var he in te)this._fireEvent(he,te[he]);var Ae=Eo(this._eventsInProgress);if(l&&(_||x)&&!Ae){this._updatingCamera=!0;var De=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),He=function(nt){return nt!==0&&-f._bearingSnap<nt&&nt<f._bearingSnap};De?(He(De.bearing||this._map.getBearing())&&(De.bearing=0),this._map.easeTo(De,{originalEvent:J})):(this._map.fire(new o.Event("moveend",{originalEvent:J})),He(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Xt.prototype._fireEvent=function(s,u){this._map.fire(new o.Event(s,u?{originalEvent:u}:{}))},Xt.prototype._requestFrame=function(){var s=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(u){delete s._frameId,s.handleEvent(new Ju("renderFrame",{timeStamp:u})),s._applyChanges()})},Xt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Fc=function(s){function u(l,f){s.call(this),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=f.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},u.prototype.setCenter=function(l,f){return this.jumpTo({center:l},f)},u.prototype.panBy=function(l,f,_){return l=o.Point.convert(l).mult(-1),this.panTo(this.transform.center,o.extend({offset:l},f),_)},u.prototype.panTo=function(l,f,_){return this.easeTo(o.extend({center:l},f),_)},u.prototype.getZoom=function(){return this.transform.zoom},u.prototype.setZoom=function(l,f){return this.jumpTo({zoom:l},f),this},u.prototype.zoomTo=function(l,f,_){return this.easeTo(o.extend({zoom:l},f),_)},u.prototype.zoomIn=function(l,f){return this.zoomTo(this.getZoom()+1,l,f),this},u.prototype.zoomOut=function(l,f){return this.zoomTo(this.getZoom()-1,l,f),this},u.prototype.getBearing=function(){return this.transform.bearing},u.prototype.setBearing=function(l,f){return this.jumpTo({bearing:l},f),this},u.prototype.getPadding=function(){return this.transform.padding},u.prototype.setPadding=function(l,f){return this.jumpTo({padding:l},f),this},u.prototype.rotateTo=function(l,f,_){return this.easeTo(o.extend({bearing:l},f),_)},u.prototype.resetNorth=function(l,f){return this.rotateTo(0,o.extend({duration:1e3},l),f),this},u.prototype.resetNorthPitch=function(l,f){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},l),f),this},u.prototype.snapToNorth=function(l,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,f):this},u.prototype.getPitch=function(){return this.transform.pitch},u.prototype.setPitch=function(l,f){return this.jumpTo({pitch:l},f),this},u.prototype.cameraForBounds=function(l,f){l=o.LngLatBounds.convert(l);var _=f&&f.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),_,f)},u.prototype._cameraForBoxAndBearing=function(l,f,_,x){var w={top:0,bottom:0,right:0,left:0};if(typeof(x=o.extend({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},x)).padding=="number"){var k=x.padding;x.padding={top:k,bottom:k,right:k,left:k}}x.padding=o.extend(w,x.padding);var D=this.transform,H=D.padding,J=D.project(o.LngLat.convert(l)),te=D.project(o.LngLat.convert(f)),ie=J.rotate(-_*Math.PI/180),ve=te.rotate(-_*Math.PI/180),ye=new o.Point(Math.max(ie.x,ve.x),Math.max(ie.y,ve.y)),Ie=new o.Point(Math.min(ie.x,ve.x),Math.min(ie.y,ve.y)),he=ye.sub(Ie),Ae=(D.width-(H.left+H.right+x.padding.left+x.padding.right))/he.x,De=(D.height-(H.top+H.bottom+x.padding.top+x.padding.bottom))/he.y;if(!(De<0||Ae<0)){var He=Math.min(D.scaleZoom(D.scale*Math.min(Ae,De)),x.maxZoom),nt=typeof x.offset.x=="number"?new o.Point(x.offset.x,x.offset.y):o.Point.convert(x.offset),Ke=new o.Point((x.padding.left-x.padding.right)/2,(x.padding.top-x.padding.bottom)/2).rotate(_*Math.PI/180),ot=nt.add(Ke).mult(D.scale/D.zoomScale(He));return{center:D.unproject(J.add(te).div(2).sub(ot)),zoom:He,bearing:_}}o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},u.prototype.fitBounds=function(l,f,_){return this._fitInternal(this.cameraForBounds(l,f),f,_)},u.prototype.fitScreenCoordinates=function(l,f,_,x,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert(l)),this.transform.pointLocation(o.Point.convert(f)),_,x),x,w)},u.prototype._fitInternal=function(l,f,_){return l?(delete(f=o.extend(l,f)).padding,f.linear?this.easeTo(f,_):this.flyTo(f,_)):this},u.prototype.jumpTo=function(l,f){this.stop();var _=this.transform,x=!1,w=!1,k=!1;return"zoom"in l&&_.zoom!==+l.zoom&&(x=!0,_.zoom=+l.zoom),l.center!==void 0&&(_.center=o.LngLat.convert(l.center)),"bearing"in l&&_.bearing!==+l.bearing&&(w=!0,_.bearing=+l.bearing),"pitch"in l&&_.pitch!==+l.pitch&&(k=!0,_.pitch=+l.pitch),l.padding==null||_.isPaddingEqual(l.padding)||(_.padding=l.padding),this.fire(new o.Event("movestart",f)).fire(new o.Event("move",f)),x&&this.fire(new o.Event("zoomstart",f)).fire(new o.Event("zoom",f)).fire(new o.Event("zoomend",f)),w&&this.fire(new o.Event("rotatestart",f)).fire(new o.Event("rotate",f)).fire(new o.Event("rotateend",f)),k&&this.fire(new o.Event("pitchstart",f)).fire(new o.Event("pitch",f)).fire(new o.Event("pitchend",f)),this.fire(new o.Event("moveend",f))},u.prototype.easeTo=function(l,f){var _=this;this._stop(!1,l.easeId),((l=o.extend({offset:[0,0],duration:500,easing:o.ease},l)).animate===!1||!l.essential&&o.browser.prefersReducedMotion)&&(l.duration=0);var x=this.transform,w=this.getZoom(),k=this.getBearing(),D=this.getPitch(),H=this.getPadding(),J="zoom"in l?+l.zoom:w,te="bearing"in l?this._normalizeBearing(l.bearing,k):k,ie="pitch"in l?+l.pitch:D,ve="padding"in l?l.padding:x.padding,ye=o.Point.convert(l.offset),Ie=x.centerPoint.add(ye),he=x.pointLocation(Ie),Ae=o.LngLat.convert(l.center||he);this._normalizeCenter(Ae);var De,He,nt=x.project(he),Ke=x.project(Ae).sub(nt),ot=x.zoomScale(J-w);l.around&&(De=o.LngLat.convert(l.around),He=x.locationPoint(De));var yt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||J!==w,this._rotating=this._rotating||k!==te,this._pitching=this._pitching||ie!==D,this._padding=!x.isPaddingEqual(ve),this._easeId=l.easeId,this._prepareEase(f,l.noMoveStart,yt),this._ease(function(At){if(_._zooming&&(x.zoom=o.number(w,J,At)),_._rotating&&(x.bearing=o.number(k,te,At)),_._pitching&&(x.pitch=o.number(D,ie,At)),_._padding&&(x.interpolatePadding(H,ve,At),Ie=x.centerPoint.add(ye)),De)x.setLocationAtPoint(De,He);else{var Ct=x.zoomScale(x.zoom-w),jt=J>w?Math.min(2,ot):Math.max(.5,ot),ir=Math.pow(jt,1-At),cr=x.unproject(nt.add(Ke.mult(At*ir)).mult(Ct));x.setLocationAtPoint(x.renderWorldCopies?cr.wrap():cr,Ie)}_._fireMoveEvents(f)},function(At){_._afterEase(f,At)},l),this},u.prototype._prepareEase=function(l,f,_){_===void 0&&(_={}),this._moving=!0,f||_.moving||this.fire(new o.Event("movestart",l)),this._zooming&&!_.zooming&&this.fire(new o.Event("zoomstart",l)),this._rotating&&!_.rotating&&this.fire(new o.Event("rotatestart",l)),this._pitching&&!_.pitching&&this.fire(new o.Event("pitchstart",l))},u.prototype._fireMoveEvents=function(l){this.fire(new o.Event("move",l)),this._zooming&&this.fire(new o.Event("zoom",l)),this._rotating&&this.fire(new o.Event("rotate",l)),this._pitching&&this.fire(new o.Event("pitch",l))},u.prototype._afterEase=function(l,f){if(!this._easeId||!f||this._easeId!==f){delete this._easeId;var _=this._zooming,x=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new o.Event("zoomend",l)),x&&this.fire(new o.Event("rotateend",l)),w&&this.fire(new o.Event("pitchend",l)),this.fire(new o.Event("moveend",l))}},u.prototype.flyTo=function(l,f){var _=this;if(!l.essential&&o.browser.prefersReducedMotion){var x=o.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(x,f)}this.stop(),l=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},l);var w=this.transform,k=this.getZoom(),D=this.getBearing(),H=this.getPitch(),J=this.getPadding(),te="zoom"in l?o.clamp(+l.zoom,w.minZoom,w.maxZoom):k,ie="bearing"in l?this._normalizeBearing(l.bearing,D):D,ve="pitch"in l?+l.pitch:H,ye="padding"in l?l.padding:w.padding,Ie=w.zoomScale(te-k),he=o.Point.convert(l.offset),Ae=w.centerPoint.add(he),De=w.pointLocation(Ae),He=o.LngLat.convert(l.center||De);this._normalizeCenter(He);var nt=w.project(De),Ke=w.project(He).sub(nt),ot=l.curve,yt=Math.max(w.width,w.height),At=yt/Ie,Ct=Ke.mag();if("minZoom"in l){var jt=o.clamp(Math.min(l.minZoom,k,te),w.minZoom,w.maxZoom),ir=yt/w.zoomScale(jt-k);ot=Math.sqrt(ir/Ct*2)}var cr=ot*ot;function ur(yr){var mr=(At*At-yt*yt+(yr?-1:1)*cr*cr*Ct*Ct)/(2*(yr?At:yt)*cr*Ct);return Math.log(Math.sqrt(mr*mr+1)-mr)}function on(yr){return(Math.exp(yr)-Math.exp(-yr))/2}function qt(yr){return(Math.exp(yr)+Math.exp(-yr))/2}var wr=ur(0),Lr=function(yr){return qt(wr)/qt(wr+ot*yr)},xr=function(yr){return yt*((qt(wr)*(on(mr=wr+ot*yr)/qt(mr))-on(wr))/cr)/Ct;var mr},_r=(ur(1)-wr)/ot;if(Math.abs(Ct)<1e-6||!isFinite(_r)){if(Math.abs(yt-At)<1e-6)return this.easeTo(l,f);var Pr=At<yt?-1:1;_r=Math.abs(Math.log(At/yt))/ot,xr=function(){return 0},Lr=function(yr){return Math.exp(Pr*ot*yr)}}return l.duration="duration"in l?+l.duration:1e3*_r/("screenSpeed"in l?+l.screenSpeed/ot:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=D!==ie,this._pitching=ve!==H,this._padding=!w.isPaddingEqual(ye),this._prepareEase(f,!1),this._ease(function(yr){var mr=yr*_r,Bi=1/Lr(mr);w.zoom=yr===1?te:k+w.scaleZoom(Bi),_._rotating&&(w.bearing=o.number(D,ie,yr)),_._pitching&&(w.pitch=o.number(H,ve,yr)),_._padding&&(w.interpolatePadding(J,ye,yr),Ae=w.centerPoint.add(he));var ti=yr===1?He:w.unproject(nt.add(Ke.mult(xr(mr))).mult(Bi));w.setLocationAtPoint(w.renderWorldCopies?ti.wrap():ti,Ae),_._fireMoveEvents(f)},function(){return _._afterEase(f)},l),this},u.prototype.isEasing=function(){return!!this._easeFrameId},u.prototype.stop=function(){return this._stop()},u.prototype._stop=function(l,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var _=this._onEaseEnd;delete this._onEaseEnd,_.call(this,f)}if(!l){var x=this.handlers;x&&x.stop(!1)}return this},u.prototype._ease=function(l,f,_){_.animate===!1||_.duration===0?(l(1),f()):(this._easeStart=o.browser.now(),this._easeOptions=_,this._onEaseFrame=l,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},u.prototype._renderFrameCallback=function(){var l=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},u.prototype._normalizeBearing=function(l,f){l=o.wrap(l,-180,180);var _=Math.abs(l-f);return Math.abs(l-360-f)<_&&(l-=360),Math.abs(l+360-f)<_&&(l+=360),l},u.prototype._normalizeCenter=function(l){var f=this.transform;if(f.renderWorldCopies&&!f.lngRange){var _=l.lng-f.center.lng;l.lng+=_>180?-360:_<-180?360:0}},u}(o.Evented),Co=function(s){s===void 0&&(s={}),this.options=s,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Co.prototype.getDefaultPosition=function(){return"bottom-right"},Co.prototype.onAdd=function(s){var u=this.options&&this.options.compact;return this._map=s,this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=E.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=E.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),u&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),u===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Co.prototype.onRemove=function(){E.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Co.prototype._setElementTitle=function(s,u){var l=this._map._getUIString("AttributionControl."+u);s.title=l,s.setAttribute("aria-label",l)},Co.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Co.prototype._updateEditLink=function(){var s=this._editLink;s||(s=this._editLink=this._container.querySelector(".mapbox-improve-map"));var u=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(s){var l=u.reduce(function(f,_,x){return _.value&&(f+=_.key+"="+_.value+(x<u.length-1?"&":"")),f},"?");s.href=o.config.FEEDBACK_URL+"/"+l+(this._map._hash?this._map._hash.getHashString(!0):""),s.rel="noopener nofollow",this._setElementTitle(s,"MapFeedback")}},Co.prototype._updateData=function(s){!s||s.sourceDataType!=="metadata"&&s.sourceDataType!=="visibility"&&s.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Co.prototype._updateAttributions=function(){if(this._map.style){var s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(function(k){return typeof k!="string"?"":k})):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){var u=this._map.style.stylesheet;this.styleOwner=u.owner,this.styleId=u.id}var l=this._map.style.sourceCaches;for(var f in l){var _=l[f];if(_.used){var x=_.getSource();x.attribution&&s.indexOf(x.attribution)<0&&s.push(x.attribution)}}s.sort(function(k,D){return k.length-D.length});var w=(s=s.filter(function(k,D){for(var H=D+1;H<s.length;H++)if(s[H].indexOf(k)>=0)return!1;return!0})).join(" | ");w!==this._attribHTML&&(this._attribHTML=w,s.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Co.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var rs=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};rs.prototype.onAdd=function(s){this._map=s,this._container=E.create("div","mapboxgl-ctrl");var u=E.create("a","mapboxgl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://www.mapbox.com/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},rs.prototype.onRemove=function(){E.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},rs.prototype.getDefaultPosition=function(){return"bottom-left"},rs.prototype._updateLogo=function(s){s&&s.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},rs.prototype._logoRequired=function(){if(this._map.style){var s=this._map.style.sourceCaches;for(var u in s)if(s[u].getSource().mapbox_logo)return!0;return!1}},rs.prototype._updateCompact=function(){var s=this._container.children;if(s.length){var u=s[0];this._map.getCanvasContainer().offsetWidth<250?u.classList.add("mapboxgl-compact"):u.classList.remove("mapboxgl-compact")}};var no=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};no.prototype.add=function(s){var u=++this._id;return this._queue.push({callback:s,id:u,cancelled:!1}),u},no.prototype.remove=function(s){for(var u=this._currentlyRunning,l=0,f=u?this._queue.concat(u):this._queue;l<f.length;l+=1){var _=f[l];if(_.id===s)return void(_.cancelled=!0)}},no.prototype.run=function(s){s===void 0&&(s=0);var u=this._currentlyRunning=this._queue;this._queue=[];for(var l=0,f=u;l<f.length;l+=1){var _=f[l];if(!_.cancelled&&(_.callback(s),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},no.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ms={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},tf=o.window.HTMLImageElement,Bc=o.window.HTMLElement,vn=o.window.ImageBitmap,Gi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ep=function(s){function u(f){var _=this;if((f=o.extend({},Gi,f)).minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var x=new Bt(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies);if(s.call(this,x,f),this._interactive=f.interactive,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._crossSourceCollisions=f.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=f.collectResourceTiming,this._renderTaskQueue=new no,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},ms,f.locale),this._clickTolerance=f.clickTolerance,this._requestManager=new o.RequestManager(f.transformRequest,f.accessToken),typeof f.container=="string"){if(this._container=o.window.document.getElementById(f.container),!this._container)throw new Error("Container '"+f.container+"' not found.")}else{if(!(f.container instanceof Bc))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(f.maxBounds&&this.setMaxBounds(f.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return _._update(!1)}),this.on("moveend",function(){return _._update(!1)}),this.on("zoom",function(){return _._update(!0)}),o.window!==void 0&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Xt(this,f),this._hash=f.hash&&new lr(typeof f.hash=="string"&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,o.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localIdeographFontFamily:f.localIdeographFontFamily}),f.attributionControl&&this.addControl(new Co({customAttribution:f.customAttribution})),this.addControl(new rs,f.logoPosition),this.on("style.load",function(){_.transform.unmodified&&_.jumpTo(_.style.stylesheet)}),this.on("data",function(w){_._update(w.dataType==="style"),_.fire(new o.Event(w.dataType+"data",w))}),this.on("dataloading",function(w){_.fire(new o.Event(w.dataType+"dataloading",w))})}s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u;var l={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return u.prototype._getMapId=function(){return this._mapId},u.prototype.addControl=function(f,_){if(_===void 0&&(_=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var x=f.onAdd(this);this._controls.push(f);var w=this._controlPositions[_];return _.indexOf("bottom")!==-1?w.insertBefore(x,w.firstChild):w.appendChild(x),this},u.prototype.removeControl=function(f){if(!f||!f.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var _=this._controls.indexOf(f);return _>-1&&this._controls.splice(_,1),f.onRemove(this),this},u.prototype.hasControl=function(f){return this._controls.indexOf(f)>-1},u.prototype.resize=function(f){var _=this._containerDimensions(),x=_[0],w=_[1];if(x===this.transform.width&&w===this.transform.height)return this;this._resizeCanvas(x,w),this.transform.resize(x,w),this.painter.resize(x,w);var k=!this._moving;return k&&this.fire(new o.Event("movestart",f)).fire(new o.Event("move",f)),this.fire(new o.Event("resize",f)),k&&this.fire(new o.Event("moveend",f)),this},u.prototype.getBounds=function(){return this.transform.getBounds()},u.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},u.prototype.setMaxBounds=function(f){return this.transform.setMaxBounds(o.LngLatBounds.convert(f)),this._update()},u.prototype.setMinZoom=function(f){if((f=f??-2)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f&&this.setZoom(f),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},u.prototype.getMinZoom=function(){return this.transform.minZoom},u.prototype.setMaxZoom=function(f){if((f=f??22)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f&&this.setZoom(f),this;throw new Error("maxZoom must be greater than the current minZoom")},u.prototype.getMaxZoom=function(){return this.transform.maxZoom},u.prototype.setMinPitch=function(f){if((f=f??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f&&this.setPitch(f),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},u.prototype.getMinPitch=function(){return this.transform.minPitch},u.prototype.setMaxPitch=function(f){if((f=f??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f&&this.setPitch(f),this;throw new Error("maxPitch must be greater than the current minPitch")},u.prototype.getMaxPitch=function(){return this.transform.maxPitch},u.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},u.prototype.setRenderWorldCopies=function(f){return this.transform.renderWorldCopies=f,this._update()},u.prototype.project=function(f){return this.transform.locationPoint(o.LngLat.convert(f))},u.prototype.unproject=function(f){return this.transform.pointLocation(o.Point.convert(f))},u.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},u.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},u.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},u.prototype._createDelegatedListener=function(f,_,x){var w,k=this;if(f==="mouseenter"||f==="mouseover"){var D=!1;return{layer:_,listener:x,delegates:{mousemove:function(J){var te=k.getLayer(_)?k.queryRenderedFeatures(J.point,{layers:[_]}):[];te.length?D||(D=!0,x.call(k,new ki(f,k,J.originalEvent,{features:te}))):D=!1},mouseout:function(){D=!1}}}}if(f==="mouseleave"||f==="mouseout"){var H=!1;return{layer:_,listener:x,delegates:{mousemove:function(J){(k.getLayer(_)?k.queryRenderedFeatures(J.point,{layers:[_]}):[]).length?H=!0:H&&(H=!1,x.call(k,new ki(f,k,J.originalEvent)))},mouseout:function(J){H&&(H=!1,x.call(k,new ki(f,k,J.originalEvent)))}}}}return{layer:_,listener:x,delegates:(w={},w[f]=function(J){var te=k.getLayer(_)?k.queryRenderedFeatures(J.point,{layers:[_]}):[];te.length&&(J.features=te,x.call(k,J),delete J.features)},w)}},u.prototype.on=function(f,_,x){if(x===void 0)return s.prototype.on.call(this,f,_);var w=this._createDelegatedListener(f,_,x);for(var k in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(w),w.delegates)this.on(k,w.delegates[k]);return this},u.prototype.once=function(f,_,x){if(x===void 0)return s.prototype.once.call(this,f,_);var w=this._createDelegatedListener(f,_,x);for(var k in w.delegates)this.once(k,w.delegates[k]);return this},u.prototype.off=function(f,_,x){var w=this;return x===void 0?s.prototype.off.call(this,f,_):(this._delegatedListeners&&this._delegatedListeners[f]&&function(k){for(var D=k[f],H=0;H<D.length;H++){var J=D[H];if(J.layer===_&&J.listener===x){for(var te in J.delegates)w.off(te,J.delegates[te]);return D.splice(H,1),w}}}(this._delegatedListeners),this)},u.prototype.queryRenderedFeatures=function(f,_){if(!this.style)return[];var x;if(_!==void 0||f===void 0||f instanceof o.Point||Array.isArray(f)||(_=f,f=void 0),_=_||{},(f=f||[[0,0],[this.transform.width,this.transform.height]])instanceof o.Point||typeof f[0]=="number")x=[o.Point.convert(f)];else{var w=o.Point.convert(f[0]),k=o.Point.convert(f[1]);x=[w,new o.Point(k.x,w.y),k,new o.Point(w.x,k.y),w]}return this.style.queryRenderedFeatures(x,_,this.transform)},u.prototype.querySourceFeatures=function(f,_){return this.style.querySourceFeatures(f,_)},u.prototype.setStyle=function(f,_){return(_=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},_)).diff!==!1&&_.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&f?(this._diffStyle(f,_),this):(this._localIdeographFontFamily=_.localIdeographFontFamily,this._updateStyle(f,_))},u.prototype._getUIString=function(f){var _=this._locale[f];if(_==null)throw new Error("Missing UI string '"+f+"'");return _},u.prototype._updateStyle=function(f,_){return this.style&&(this.style.setEventedParent(null),this.style._remove()),f?(this.style=new dr(this,_||{}),this.style.setEventedParent(this,{style:this.style}),typeof f=="string"?this.style.loadURL(f):this.style.loadJSON(f),this):(delete this.style,this)},u.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new dr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},u.prototype._diffStyle=function(f,_){var x=this;if(typeof f=="string"){var w=this._requestManager.normalizeStyleURL(f),k=this._requestManager.transformRequest(w,o.ResourceType.Style);o.getJSON(k,function(D,H){D?x.fire(new o.ErrorEvent(D)):H&&x._updateDiff(H,_)})}else typeof f=="object"&&this._updateDiff(f,_)},u.prototype._updateDiff=function(f,_){try{this.style.setState(f)&&this._update(!0)}catch(x){o.warnOnce("Unable to perform style diff: "+(x.message||x.error||x)+".  Rebuilding the style from scratch."),this._updateStyle(f,_)}},u.prototype.getStyle=function(){if(this.style)return this.style.serialize()},u.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},u.prototype.addSource=function(f,_){return this._lazyInitEmptyStyle(),this.style.addSource(f,_),this._update(!0)},u.prototype.isSourceLoaded=function(f){var _=this.style&&this.style.sourceCaches[f];if(_!==void 0)return _.loaded();this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+f+"'")))},u.prototype.areTilesLoaded=function(){var f=this.style&&this.style.sourceCaches;for(var _ in f){var x=f[_]._tiles;for(var w in x){var k=x[w];if(k.state!=="loaded"&&k.state!=="errored")return!1}}return!0},u.prototype.addSourceType=function(f,_,x){return this._lazyInitEmptyStyle(),this.style.addSourceType(f,_,x)},u.prototype.removeSource=function(f){return this.style.removeSource(f),this._update(!0)},u.prototype.getSource=function(f){return this.style.getSource(f)},u.prototype.addImage=function(f,_,x){x===void 0&&(x={});var w=x.pixelRatio;w===void 0&&(w=1);var k=x.sdf;k===void 0&&(k=!1);var D=x.stretchX,H=x.stretchY,J=x.content;if(this._lazyInitEmptyStyle(),_ instanceof tf||vn&&_ instanceof vn){var te=o.browser.getImageData(_);this.style.addImage(f,{data:new o.RGBAImage({width:te.width,height:te.height},te.data),pixelRatio:w,stretchX:D,stretchY:H,content:J,sdf:k,version:0})}else{if(_.width===void 0||_.height===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ie=_;this.style.addImage(f,{data:new o.RGBAImage({width:_.width,height:_.height},new Uint8Array(_.data)),pixelRatio:w,stretchX:D,stretchY:H,content:J,sdf:k,version:0,userImage:ie}),ie.onAdd&&ie.onAdd(this,f)}},u.prototype.updateImage=function(f,_){var x=this.style.getImage(f);if(!x)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var w=_ instanceof tf||vn&&_ instanceof vn?o.browser.getImageData(_):_,k=w.width,D=w.height,H=w.data;return k===void 0||D===void 0?this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):k!==x.data.width||D!==x.data.height?this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(x.data.replace(H,!(_ instanceof tf||vn&&_ instanceof vn)),void this.style.updateImage(f,x))},u.prototype.hasImage=function(f){return f?!!this.style.getImage(f):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},u.prototype.removeImage=function(f){this.style.removeImage(f)},u.prototype.loadImage=function(f,_){o.getImage(this._requestManager.transformRequest(f,o.ResourceType.Image),_)},u.prototype.listImages=function(){return this.style.listImages()},u.prototype.addLayer=function(f,_){return this._lazyInitEmptyStyle(),this.style.addLayer(f,_),this._update(!0)},u.prototype.moveLayer=function(f,_){return this.style.moveLayer(f,_),this._update(!0)},u.prototype.removeLayer=function(f){return this.style.removeLayer(f),this._update(!0)},u.prototype.getLayer=function(f){return this.style.getLayer(f)},u.prototype.setLayerZoomRange=function(f,_,x){return this.style.setLayerZoomRange(f,_,x),this._update(!0)},u.prototype.setFilter=function(f,_,x){return x===void 0&&(x={}),this.style.setFilter(f,_,x),this._update(!0)},u.prototype.getFilter=function(f){return this.style.getFilter(f)},u.prototype.setPaintProperty=function(f,_,x,w){return w===void 0&&(w={}),this.style.setPaintProperty(f,_,x,w),this._update(!0)},u.prototype.getPaintProperty=function(f,_){return this.style.getPaintProperty(f,_)},u.prototype.setLayoutProperty=function(f,_,x,w){return w===void 0&&(w={}),this.style.setLayoutProperty(f,_,x,w),this._update(!0)},u.prototype.getLayoutProperty=function(f,_){return this.style.getLayoutProperty(f,_)},u.prototype.setLight=function(f,_){return _===void 0&&(_={}),this._lazyInitEmptyStyle(),this.style.setLight(f,_),this._update(!0)},u.prototype.getLight=function(){return this.style.getLight()},u.prototype.setFeatureState=function(f,_){return this.style.setFeatureState(f,_),this._update()},u.prototype.removeFeatureState=function(f,_){return this.style.removeFeatureState(f,_),this._update()},u.prototype.getFeatureState=function(f){return this.style.getFeatureState(f)},u.prototype.getContainer=function(){return this._container},u.prototype.getCanvasContainer=function(){return this._canvasContainer},u.prototype.getCanvas=function(){return this._canvas},u.prototype._containerDimensions=function(){var f=0,_=0;return this._container&&(f=this._container.clientWidth||400,_=this._container.clientHeight||300),[f,_]},u.prototype._detectMissingCSS=function(){o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},u.prototype._setupContainer=function(){var f=this._container;f.classList.add("mapboxgl-map"),(this._missingCSSCanary=E.create("div","mapboxgl-canary",f)).style.visibility="hidden",this._detectMissingCSS();var _=this._canvasContainer=E.create("div","mapboxgl-canvas-container",f);this._interactive&&_.classList.add("mapboxgl-interactive"),this._canvas=E.create("canvas","mapboxgl-canvas",_),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var x=this._containerDimensions();this._resizeCanvas(x[0],x[1]);var w=this._controlContainer=E.create("div","mapboxgl-control-container",f),k=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(D){k[D]=E.create("div","mapboxgl-ctrl-"+D,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},u.prototype._resizeCanvas=function(f,_){var x=o.browser.devicePixelRatio||1;this._canvas.width=x*f,this._canvas.height=x*_,this._canvas.style.width=f+"px",this._canvas.style.height=_+"px"},u.prototype._setupPainter=function(){var f=o.extend({},T.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),_=this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);_?(this.painter=new Nt(_,this.transform),o.webpSupported.testSupport(_)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))},u.prototype._contextLost=function(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:f}))},u.prototype._contextRestored=function(f){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:f}))},u.prototype._onMapScroll=function(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},u.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},u.prototype._update=function(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this},u.prototype._requestRenderFrame=function(f){return this._update(),this._renderTaskQueue.add(f)},u.prototype._cancelRenderFrame=function(f){this._renderTaskQueue.remove(f)},u.prototype._render=function(f){var _,x=this,w=0,k=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(_=k.createQueryEXT(),k.beginQueryEXT(k.TIME_ELAPSED_EXT,_),w=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(f),!this._removed){var D=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var H=this.transform.zoom,J=o.browser.now();this.style.zoomHistory.update(H,J);var te=new o.EvaluationParameters(H,{now:J,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ie=te.crossFadingFactor();ie===1&&ie===this._crossFadingFactor||(D=!0,this._crossFadingFactor=ie),this.style.update(te)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||D)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var ve=o.browser.now()-w;k.endQueryEXT(k.TIME_ELAPSED_EXT,_),setTimeout(function(){var he=k.getQueryObjectEXT(_,k.QUERY_RESULT_EXT)/1e6;k.deleteQueryEXT(_),x.fire(new o.Event("gpu-timing-frame",{cpuTime:ve,gpuTime:he}))},50)}if(this.listens("gpu-timing-layer")){var ye=this.painter.collectGpuTimers();setTimeout(function(){var he=x.painter.queryGpuTimers(ye);x.fire(new o.Event("gpu-timing-layer",{layerTimes:he}))},50)}var Ie=this._sourcesDirty||this._styleDirty||this._placementDirty;return Ie||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.Event("idle")),!this._loaded||this._fullyLoaded||Ie||(this._fullyLoaded=!0),this}},u.prototype.remove=function(){this._hash&&this._hash.remove();for(var f=0,_=this._controls;f<_.length;f+=1)_[f].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),o.window!==void 0&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var x=this.painter.context.gl.getExtension("WEBGL_lose_context");x&&x.loseContext(),Ll(this._canvasContainer),Ll(this._controlContainer),Ll(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},u.prototype.triggerRepaint=function(){var f=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(_){f._frame=null,f._render(_)}))},u.prototype._onWindowOnline=function(){this._update()},u.prototype._onWindowResize=function(f){this._trackResize&&this.resize({originalEvent:f})._update()},l.showTileBoundaries.get=function(){return!!this._showTileBoundaries},l.showTileBoundaries.set=function(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())},l.showPadding.get=function(){return!!this._showPadding},l.showPadding.set=function(f){this._showPadding!==f&&(this._showPadding=f,this._update())},l.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},l.showCollisionBoxes.set=function(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())},l.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},l.showOverdrawInspector.set=function(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())},l.repaint.get=function(){return!!this._repaint},l.repaint.set=function(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())},l.vertices.get=function(){return!!this._vertices},l.vertices.set=function(f){this._vertices=f,this._update()},u.prototype._setCacheLimits=function(f,_){o.setCacheLimits(f,_)},l.version.get=function(){return o.version},Object.defineProperties(u.prototype,l),u}(Fc);function Ll(s){s.parentNode&&s.parentNode.removeChild(s)}var rf={showCompass:!0,showZoom:!0,visualizePitch:!1},Os=function(s){var u=this;this.options=o.extend({},rf,s),this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(l){return l.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(l){return u._map.zoomIn({},{originalEvent:l})}),E.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(l){return u._map.zoomOut({},{originalEvent:l})}),E.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(l){u.options.visualizePitch?u._map.resetNorthPitch({},{originalEvent:l}):u._map.resetNorth({},{originalEvent:l})}),this._compassIcon=E.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Os.prototype._updateZoomButtons=function(){var s=this._map.getZoom(),u=s===this._map.getMaxZoom(),l=s===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=l,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",l.toString())},Os.prototype._rotateCompassArrow=function(){var s=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=s},Os.prototype.onAdd=function(s){return this._map=s,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Qo(this._map,this._compass,this.options.visualizePitch)),this._container},Os.prototype.onRemove=function(){E.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Os.prototype._createButton=function(s,u){var l=E.create("button",s,this._container);return l.type="button",l.addEventListener("click",u),l},Os.prototype._setButtonTitle=function(s,u){var l=this._map._getUIString("NavigationControl."+u);s.title=l,s.setAttribute("aria-label",l)};var Qo=function(s,u,l){l===void 0&&(l=!1),this._clickTolerance=10,this.element=u,this.mouseRotate=new Dc({clickTolerance:s.dragRotate._mouseRotate._clickTolerance}),this.map=s,l&&(this.mousePitch=new Jh({clickTolerance:s.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),E.addEventListener(u,"mousedown",this.mousedown),E.addEventListener(u,"touchstart",this.touchstart,{passive:!1}),E.addEventListener(u,"touchmove",this.touchmove),E.addEventListener(u,"touchend",this.touchend),E.addEventListener(u,"touchcancel",this.reset)};function cu(s,u,l){if(s=new o.LngLat(s.lng,s.lat),u){var f=new o.LngLat(s.lng-360,s.lat),_=new o.LngLat(s.lng+360,s.lat),x=l.locationPoint(s).distSqr(u);l.locationPoint(f).distSqr(u)<x?s=f:l.locationPoint(_).distSqr(u)<x&&(s=_)}for(;Math.abs(s.lng-l.center.lng)>180;){var w=l.locationPoint(s);if(w.x>=0&&w.y>=0&&w.x<=l.width&&w.y<=l.height)break;s.lng>l.center.lng?s.lng-=360:s.lng+=360}return s}Qo.prototype.down=function(s,u){this.mouseRotate.mousedown(s,u),this.mousePitch&&this.mousePitch.mousedown(s,u),E.disableDrag()},Qo.prototype.move=function(s,u){var l=this.map,f=this.mouseRotate.mousemoveWindow(s,u);if(f&&f.bearingDelta&&l.setBearing(l.getBearing()+f.bearingDelta),this.mousePitch){var _=this.mousePitch.mousemoveWindow(s,u);_&&_.pitchDelta&&l.setPitch(l.getPitch()+_.pitchDelta)}},Qo.prototype.off=function(){var s=this.element;E.removeEventListener(s,"mousedown",this.mousedown),E.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),E.removeEventListener(s,"touchmove",this.touchmove),E.removeEventListener(s,"touchend",this.touchend),E.removeEventListener(s,"touchcancel",this.reset),this.offTemp()},Qo.prototype.offTemp=function(){E.enableDrag(),E.removeEventListener(o.window,"mousemove",this.mousemove),E.removeEventListener(o.window,"mouseup",this.mouseup)},Qo.prototype.mousedown=function(s){this.down(o.extend({},s,{ctrlKey:!0,preventDefault:function(){return s.preventDefault()}}),E.mousePos(this.element,s)),E.addEventListener(o.window,"mousemove",this.mousemove),E.addEventListener(o.window,"mouseup",this.mouseup)},Qo.prototype.mousemove=function(s){this.move(s,E.mousePos(this.element,s))},Qo.prototype.mouseup=function(s){this.mouseRotate.mouseupWindow(s),this.mousePitch&&this.mousePitch.mouseupWindow(s),this.offTemp()},Qo.prototype.touchstart=function(s){s.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=E.touchPos(this.element,s.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return s.preventDefault()}},this._startPos))},Qo.prototype.touchmove=function(s){s.targetTouches.length!==1?this.reset():(this._lastPos=E.touchPos(this.element,s.targetTouches)[0],this.move({preventDefault:function(){return s.preventDefault()}},this._lastPos))},Qo.prototype.touchend=function(s){s.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Qo.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var gs={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Uc(s,u,l){var f=s.classList;for(var _ in gs)f.remove("mapboxgl-"+l+"-anchor-"+_);f.add("mapboxgl-"+l+"-anchor-"+u)}var hu,Qu=function(s){function u(l,f){if(s.call(this),(l instanceof o.window.HTMLElement||f)&&(l=o.extend({element:l},f)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,l&&l.element)this._element=l.element,this._offset=o.Point.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=E.create("div"),this._element.setAttribute("aria-label","Map marker");var _=E.createNS("http://www.w3.org/2000/svg","svg");_.setAttributeNS(null,"display","block"),_.setAttributeNS(null,"height","41px"),_.setAttributeNS(null,"width","27px"),_.setAttributeNS(null,"viewBox","0 0 27 41");var x=E.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");var w=E.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"fill-rule","nonzero");var k=E.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(3.0, 29.0)"),k.setAttributeNS(null,"fill","#000000");for(var D=0,H=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];D<H.length;D+=1){var J=H[D],te=E.createNS("http://www.w3.org/2000/svg","ellipse");te.setAttributeNS(null,"opacity","0.04"),te.setAttributeNS(null,"cx","10.5"),te.setAttributeNS(null,"cy","5.80029008"),te.setAttributeNS(null,"rx",J.rx),te.setAttributeNS(null,"ry",J.ry),k.appendChild(te)}var ie=E.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill",this._color);var ve=E.createNS("http://www.w3.org/2000/svg","path");ve.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ie.appendChild(ve);var ye=E.createNS("http://www.w3.org/2000/svg","g");ye.setAttributeNS(null,"opacity","0.25"),ye.setAttributeNS(null,"fill","#000000");var Ie=E.createNS("http://www.w3.org/2000/svg","path");Ie.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ye.appendChild(Ie);var he=E.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(6.0, 7.0)"),he.setAttributeNS(null,"fill","#FFFFFF");var Ae=E.createNS("http://www.w3.org/2000/svg","g");Ae.setAttributeNS(null,"transform","translate(8.0, 8.0)");var De=E.createNS("http://www.w3.org/2000/svg","circle");De.setAttributeNS(null,"fill","#000000"),De.setAttributeNS(null,"opacity","0.25"),De.setAttributeNS(null,"cx","5.5"),De.setAttributeNS(null,"cy","5.5"),De.setAttributeNS(null,"r","5.4999962");var He=E.createNS("http://www.w3.org/2000/svg","circle");He.setAttributeNS(null,"fill","#FFFFFF"),He.setAttributeNS(null,"cx","5.5"),He.setAttributeNS(null,"cy","5.5"),He.setAttributeNS(null,"r","5.4999962"),Ae.appendChild(De),Ae.appendChild(He),w.appendChild(k),w.appendChild(ie),w.appendChild(ye),w.appendChild(he),w.appendChild(Ae),_.appendChild(w),_.setAttributeNS(null,"height",41*this._scale+"px"),_.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(_),this._offset=o.Point.convert(l&&l.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(nt){nt.preventDefault()}),this._element.addEventListener("mousedown",function(nt){nt.preventDefault()}),Uc(this._element,this._anchor,"marker"),this._popup=null}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.addTo=function(l){return this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},u.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),E.remove(this._element),this._popup&&this._popup.remove(),this},u.prototype.getLngLat=function(){return this._lngLat},u.prototype.setLngLat=function(l){return this._lngLat=o.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},u.prototype.getElement=function(){return this._element},u.prototype.setPopup=function(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){var f=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(24.6+f)],"bottom-right":[-f,-1*(24.6+f)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=l,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},u.prototype._onKeyPress=function(l){var f=l.code,_=l.charCode||l.keyCode;f!=="Space"&&f!=="Enter"&&_!==32&&_!==13||this.togglePopup()},u.prototype._onMapClick=function(l){var f=l.originalEvent.target,_=this._element;this._popup&&(f===_||_.contains(f))&&this.togglePopup()},u.prototype.getPopup=function(){return this._popup},u.prototype.togglePopup=function(){var l=this._popup;return l?(l.isOpen()?l.remove():l.addTo(this._map),this):this},u.prototype._update=function(l){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=cu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(f="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var _="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_="rotateX(0deg)":this._pitchAlignment==="map"&&(_="rotateX("+this._map.getPitch()+"deg)"),l&&l.type!=="moveend"||(this._pos=this._pos.round()),E.setTransform(this._element,gs[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+_+" "+f)}},u.prototype.getOffset=function(){return this._offset},u.prototype.setOffset=function(l){return this._offset=o.Point.convert(l),this._update(),this},u.prototype._onMove=function(l){if(!this._isDragging){var f=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag")))},u.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"},u.prototype._addDragHandler=function(l){this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._offset),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},u.prototype.setDraggable=function(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},u.prototype.isDraggable=function(){return this._draggable},u.prototype.setRotation=function(l){return this._rotation=l||0,this._update(),this},u.prototype.getRotation=function(){return this._rotation},u.prototype.setRotationAlignment=function(l){return this._rotationAlignment=l||"auto",this._update(),this},u.prototype.getRotationAlignment=function(){return this._rotationAlignment},u.prototype.setPitchAlignment=function(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this},u.prototype.getPitchAlignment=function(){return this._pitchAlignment},u}(o.Evented),nf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},fu=0,Rl=!1,of=function(s){function u(l){s.call(this),this.options=o.extend({},nf,l),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.onAdd=function(l){var f;return this._map=l,this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),f=this._setupUI,hu!==void 0?f(hu):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(function(_){f(hu=_.state!=="denied")}):f(hu=!!o.window.navigator.geolocation),this._container},u.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),E.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,fu=0,Rl=!1},u.prototype._isOutOfMapMaxBounds=function(l){var f=this._map.getMaxBounds(),_=l.coords;return f&&(_.longitude<f.getWest()||_.longitude>f.getEast()||_.latitude<f.getSouth()||_.latitude>f.getNorth())},u.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},u.prototype._onSuccess=function(l){if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",l)),this._finish()}},u.prototype._updateCamera=function(l){var f=new o.LngLat(l.coords.longitude,l.coords.latitude),_=l.coords.accuracy,x=this._map.getBearing(),w=o.extend({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(f.toBounds(_),w,{geolocateSource:!0})},u.prototype._updateMarker=function(l){if(l){var f=new o.LngLat(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},u.prototype._updateCircleRadius=function(){var l=this._map._container.clientHeight/2,f=this._map.unproject([0,l]),_=this._map.unproject([1,l]),x=f.distanceTo(_),w=Math.ceil(2*this._accuracy/x);this._circleElement.style.width=w+"px",this._circleElement.style.height=w+"px"},u.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},u.prototype._onError=function(l){if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&Rl)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",l)),this._finish()}},u.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},u.prototype._setupUI=function(l){var f=this;if(this._container.addEventListener("contextmenu",function(w){return w.preventDefault()}),this._geolocateButton=E.create("button","mapboxgl-ctrl-geolocate",this._container),E.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",l===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var _=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=_,this._geolocateButton.setAttribute("aria-label",_)}else{var x=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=x,this._geolocateButton.setAttribute("aria-label",x)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=E.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Qu(this._dotElement),this._circleElement=E.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Qu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(w){w.geolocateSource||f._watchState!=="ACTIVE_LOCK"||w.originalEvent&&w.originalEvent.type==="resize"||(f._watchState="BACKGROUND",f._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),f._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),f.fire(new o.Event("trackuserlocationend")))})},u.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":fu--,Rl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var l;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++fu>1?(l={maximumAge:6e5,timeout:0},Rl=!0):(l=this.options.positionOptions,Rl=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,l)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},u.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},u}(o.Evented),rl={maxWidth:100,unit:"metric"},nl=function(s){this.options=o.extend({},rl,s),o.bindAll(["_onMove","setUnit"],this)};function Vc(s,u,l){var f=l&&l.maxWidth||100,_=s._container.clientHeight/2,x=s.unproject([0,_]),w=s.unproject([f,_]),k=x.distanceTo(w);if(l&&l.unit==="imperial"){var D=3.2808*k;D>5280?il(u,f,D/5280,s._getUIString("ScaleControl.Miles")):il(u,f,D,s._getUIString("ScaleControl.Feet"))}else l&&l.unit==="nautical"?il(u,f,k/1852,s._getUIString("ScaleControl.NauticalMiles")):k>=1e3?il(u,f,k/1e3,s._getUIString("ScaleControl.Kilometers")):il(u,f,k,s._getUIString("ScaleControl.Meters"))}function il(s,u,l,f){var _,x,w,k=(_=l,(x=Math.pow(10,(""+Math.floor(_)).length-1))*(w=(w=_/x)>=10?10:w>=5?5:w>=3?3:w>=2?2:w>=1?1:function(D){var H=Math.pow(10,Math.ceil(-Math.log(D)/Math.LN10));return Math.round(D*H)/H}(w)));s.style.width=u*(k/l)+"px",s.innerHTML=k+"&nbsp;"+f}nl.prototype.getDefaultPosition=function(){return"bottom-left"},nl.prototype._onMove=function(){Vc(this._map,this._container,this.options)},nl.prototype.onAdd=function(s){return this._map=s,this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",s.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},nl.prototype.onRemove=function(){E.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},nl.prototype.setUnit=function(s){this.options.unit=s,Vc(this._map,this._container,this.options)};var Pa=function(s){this._fullscreen=!1,s&&s.container&&(s.container instanceof o.window.HTMLElement?this._container=s.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};Pa.prototype.onAdd=function(s){return this._map=s,this._container||(this._container=this._map.getContainer()),this._controlContainer=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Pa.prototype.onRemove=function(){E.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Pa.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},Pa.prototype._setupUI=function(){var s=this._fullscreenButton=E.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);E.create("span","mapboxgl-ctrl-icon",s).setAttribute("aria-hidden",!0),s.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Pa.prototype._updateTitle=function(){var s=this._getTitle();this._fullscreenButton.setAttribute("aria-label",s),this._fullscreenButton.title=s},Pa.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Pa.prototype._isFullscreen=function(){return this._fullscreen},Pa.prototype._changeIcon=function(){(o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Pa.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var af={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ec=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),sf=function(s){function u(l){s.call(this),this.options=o.extend(Object.create(af),l),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return s&&(u.__proto__=s),(u.prototype=Object.create(s&&s.prototype)).constructor=u,u.prototype.addTo=function(l){return this._map&&this.remove(),this._map=l,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},u.prototype.isOpen=function(){return!!this._map},u.prototype.remove=function(){return this._content&&E.remove(this._content),this._container&&(E.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},u.prototype.getLngLat=function(){return this._lngLat},u.prototype.setLngLat=function(l){return this._lngLat=o.LngLat.convert(l),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},u.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},u.prototype.getElement=function(){return this._container},u.prototype.setText=function(l){return this.setDOMContent(o.window.document.createTextNode(l))},u.prototype.setHTML=function(l){var f,_=o.window.document.createDocumentFragment(),x=o.window.document.createElement("body");for(x.innerHTML=l;f=x.firstChild;)_.appendChild(f);return this.setDOMContent(_)},u.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},u.prototype.setMaxWidth=function(l){return this.options.maxWidth=l,this._update(),this},u.prototype.setDOMContent=function(l){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=E.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(l),this._createCloseButton(),this._update(),this._focusFirstElement(),this},u.prototype.addClassName=function(l){this._container&&this._container.classList.add(l)},u.prototype.removeClassName=function(l){this._container&&this._container.classList.remove(l)},u.prototype.setOffset=function(l){return this.options.offset=l,this._update(),this},u.prototype.toggleClassName=function(l){if(this._container)return this._container.classList.toggle(l)},u.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=E.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},u.prototype._onMouseUp=function(l){this._update(l.point)},u.prototype._onMouseMove=function(l){this._update(l.point)},u.prototype._onDrag=function(l){this._update(l.point)},u.prototype._update=function(l){var f=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=E.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=E.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(te){return f._container.classList.add(te)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=cu(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||l)){var _=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat),x=this.options.anchor,w=function te(ie){if(ie){if(typeof ie=="number"){var ve=Math.round(Math.sqrt(.5*Math.pow(ie,2)));return{center:new o.Point(0,0),top:new o.Point(0,ie),"top-left":new o.Point(ve,ve),"top-right":new o.Point(-ve,ve),bottom:new o.Point(0,-ie),"bottom-left":new o.Point(ve,-ve),"bottom-right":new o.Point(-ve,-ve),left:new o.Point(ie,0),right:new o.Point(-ie,0)}}if(ie instanceof o.Point||Array.isArray(ie)){var ye=o.Point.convert(ie);return{center:ye,top:ye,"top-left":ye,"top-right":ye,bottom:ye,"bottom-left":ye,"bottom-right":ye,left:ye,right:ye}}return{center:o.Point.convert(ie.center||[0,0]),top:o.Point.convert(ie.top||[0,0]),"top-left":o.Point.convert(ie["top-left"]||[0,0]),"top-right":o.Point.convert(ie["top-right"]||[0,0]),bottom:o.Point.convert(ie.bottom||[0,0]),"bottom-left":o.Point.convert(ie["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(ie["bottom-right"]||[0,0]),left:o.Point.convert(ie.left||[0,0]),right:o.Point.convert(ie.right||[0,0])}}return te(new o.Point(0,0))}(this.options.offset);if(!x){var k,D=this._container.offsetWidth,H=this._container.offsetHeight;k=_.y+w.bottom.y<H?["top"]:_.y>this._map.transform.height-H?["bottom"]:[],_.x<D/2?k.push("left"):_.x>this._map.transform.width-D/2&&k.push("right"),x=k.length===0?"bottom":k.join("-")}var J=_.add(w[x]).round();E.setTransform(this._container,gs[x]+" translate("+J.x+"px,"+J.y+"px)"),Uc(this._container,x,"popup")}},u.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var l=this._container.querySelector(ec);l&&l.focus()}},u.prototype._onClose=function(){this.remove()},u}(o.Evented),jc={version:o.version,supported:T,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:Ep,NavigationControl:Os,GeolocateControl:of,AttributionControl:Co,ScaleControl:nl,FullscreenControl:Pa,Popup:sf,Marker:Qu,Style:dr,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:function(){it().acquire(rt)},clearPrewarmedResources:function(){var s=Wt;s&&(s.isPreloaded()&&s.numActive()===1?(s.release(rt),Wt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(s){o.config.ACCESS_TOKEN=s},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(s){o.config.API_URL=s},get workerCount(){return _t.workerCount},set workerCount(s){_t.workerCount=s},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(s){o.config.MAX_PARALLEL_IMAGE_REQUESTS=s},clearStorage:function(s){o.clearTileCache(s)},workerUrl:""};return jc}),p})})(jx);var O2=jx.exports;const Wy=jy(O2);window.axios=lo;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";Wy.accessToken="pk.eyJ1Ijoic21hcnRsZWUiLCJhIjoiY20wczI5NjVsMGFmYTJrc2pzcWszcmVicCJ9.K0kdOBzKlZST5PCgH6thsg";Wy.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.3.0/mapbox-gl-rtl-text.js",null,!0);window.mapboxgl=Wy;/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cs(t){const n=Object.create(null);for(const a of t.split(","))n[a]=1;return a=>a in n}const bn={},Eh=[],sa=()=>{},Ff=()=>!1,Pc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$y=t=>t.startsWith("onUpdate:"),xn=Object.assign,Gy=(t,n)=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)},D2=Object.prototype.hasOwnProperty,Fn=(t,n)=>D2.call(t,n),rr=Array.isArray,Ch=t=>Wh(t)==="[object Map]",Lc=t=>Wh(t)==="[object Set]",k0=t=>Wh(t)==="[object Date]",N2=t=>Wh(t)==="[object RegExp]",Mr=t=>typeof t=="function",Gr=t=>typeof t=="string",qa=t=>typeof t=="symbol",Wn=t=>t!==null&&typeof t=="object",Zy=t=>(Wn(t)||Mr(t))&&Mr(t.then)&&Mr(t.catch),qx=Object.prototype.toString,Wh=t=>qx.call(t),z2=t=>Wh(t).slice(8,-1),ym=t=>Wh(t)==="[object Object]",Xy=t=>Gr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Pu=cs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F2=cs("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),_m=t=>{const n=Object.create(null);return a=>n[a]||(n[a]=t(a))},B2=/-(\w)/g,di=_m(t=>t.replace(B2,(n,a)=>a?a.toUpperCase():"")),U2=/\B([A-Z])/g,Ba=_m(t=>t.replace(U2,"-$1").toLowerCase()),Rc=_m(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ah=_m(t=>t?`on${Rc(t)}`:""),_a=(t,n)=>!Object.is(t,n),Ih=(t,...n)=>{for(let a=0;a<t.length;a++)t[a](...n)},Hx=(t,n,a,c=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:c,value:a})},Nd=t=>{const n=parseFloat(t);return isNaN(n)?t:n},zd=t=>{const n=Gr(t)?Number(t):NaN;return isNaN(n)?t:n};let P0;const vm=()=>P0||(P0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function V2(t,n){return t+JSON.stringify(n,(a,c)=>typeof c=="function"?c.toString():c)}const j2="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",q2=cs(j2);function dp(t){if(rr(t)){const n={};for(let a=0;a<t.length;a++){const c=t[a],p=Gr(c)?Wx(c):dp(c);if(p)for(const m in p)n[m]=p[m]}return n}else if(Gr(t)||Wn(t))return t}const H2=/;(?![^(]*\))/g,W2=/:([^]+)/,$2=/\/\*[^]*?\*\//g;function Wx(t){const n={};return t.replace($2,"").split(H2).forEach(a=>{if(a){const c=a.split(W2);c.length>1&&(n[c[0].trim()]=c[1].trim())}}),n}function mp(t){let n="";if(Gr(t))n=t;else if(rr(t))for(let a=0;a<t.length;a++){const c=mp(t[a]);c&&(n+=c+" ")}else if(Wn(t))for(const a in t)t[a]&&(n+=a+" ");return n.trim()}function G2(t){if(!t)return null;let{class:n,style:a}=t;return n&&!Gr(n)&&(t.class=mp(n)),a&&(t.style=dp(a)),t}const Z2="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",X2="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",K2="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Y2="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",J2=cs(Z2),Q2=cs(X2),eA=cs(K2),tA=cs(Y2),rA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nA=cs(rA);function $x(t){return!!t||t===""}function iA(t,n){if(t.length!==n.length)return!1;let a=!0;for(let c=0;a&&c<t.length;c++)a=Du(t[c],n[c]);return a}function Du(t,n){if(t===n)return!0;let a=k0(t),c=k0(n);if(a||c)return a&&c?t.getTime()===n.getTime():!1;if(a=qa(t),c=qa(n),a||c)return t===n;if(a=rr(t),c=rr(n),a||c)return a&&c?iA(t,n):!1;if(a=Wn(t),c=Wn(n),a||c){if(!a||!c)return!1;const p=Object.keys(t).length,m=Object.keys(n).length;if(p!==m)return!1;for(const o in t){const T=t.hasOwnProperty(o),E=n.hasOwnProperty(o);if(T&&!E||!T&&E||!Du(t[o],n[o]))return!1}}return String(t)===String(n)}function bm(t,n){return t.findIndex(a=>Du(a,n))}const Gx=t=>!!(t&&t.__v_isRef===!0),Zx=t=>Gr(t)?t:t==null?"":rr(t)||Wn(t)&&(t.toString===qx||!Mr(t.toString))?Gx(t)?Zx(t.value):JSON.stringify(t,Xx,2):String(t),Xx=(t,n)=>Gx(n)?Xx(t,n.value):Ch(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((a,[c,p],m)=>(a[kg(c,m)+" =>"]=p,a),{})}:Lc(n)?{[`Set(${n.size})`]:[...n.values()].map(a=>kg(a))}:qa(n)?kg(n):Wn(n)&&!rr(n)&&!ym(n)?String(n):n,kg=(t,n="")=>{var a;return qa(t)?`Symbol(${(a=t.description)!=null?a:n})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ya;class Ky{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ya,!n&&ya&&(this.index=(ya.scopes||(ya.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,a;if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].pause();for(n=0,a=this.effects.length;n<a;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,a;if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].resume();for(n=0,a=this.effects.length;n<a;n++)this.effects[n].resume()}}run(n){if(this._active){const a=ya;try{return ya=this,n()}finally{ya=a}}}on(){ya=this}off(){ya=this.parent}stop(n){if(this._active){let a,c;for(a=0,c=this.effects.length;a<c;a++)this.effects[a].stop();for(a=0,c=this.cleanups.length;a<c;a++)this.cleanups[a]();if(this.scopes)for(a=0,c=this.scopes.length;a<c;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!n){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.parent=void 0,this._active=!1}}}function Kx(t){return new Ky(t)}function Yx(){return ya}function oA(t,n=!1){ya&&ya.cleanups.push(t)}let ii;const Pg=new WeakSet;class Kf{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ya&&ya.active&&ya.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pg.has(this)&&(Pg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qx(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,L0(this),e1(this);const n=ii,a=qs;ii=this,qs=!0;try{return this.fn()}finally{t1(this),ii=n,qs=a,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)Qy(n);this.deps=this.depsTail=void 0,L0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ey(this)&&this.run()}get dirty(){return ey(this)}}let Jx=0,Vf,jf;function Qx(t,n=!1){if(t.flags|=8,n){t.next=jf,jf=t;return}t.next=Vf,Vf=t}function Yy(){Jx++}function Jy(){if(--Jx>0)return;if(jf){let n=jf;for(jf=void 0;n;){const a=n.next;n.next=void 0,n.flags&=-9,n=a}}let t;for(;Vf;){let n=Vf;for(Vf=void 0;n;){const a=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(c){t||(t=c)}n=a}}if(t)throw t}function e1(t){for(let n=t.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function t1(t){let n,a=t.depsTail,c=a;for(;c;){const p=c.prevDep;c.version===-1?(c===a&&(a=p),Qy(c),aA(c)):n=c,c.dep.activeLink=c.prevActiveLink,c.prevActiveLink=void 0,c=p}t.deps=n,t.depsTail=a}function ey(t){for(let n=t.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(r1(n.dep.computed)||n.dep.version!==n.version))return!0;return!!t._dirty}function r1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yf))return;t.globalVersion=Yf;const n=t.dep;if(t.flags|=2,n.version>0&&!t.isSSR&&t.deps&&!ey(t)){t.flags&=-3;return}const a=ii,c=qs;ii=t,qs=!0;try{e1(t);const p=t.fn(t._value);(n.version===0||_a(p,t._value))&&(t._value=p,n.version++)}catch(p){throw n.version++,p}finally{ii=a,qs=c,t1(t),t.flags&=-3}}function Qy(t,n=!1){const{dep:a,prevSub:c,nextSub:p}=t;if(c&&(c.nextSub=p,t.prevSub=void 0),p&&(p.prevSub=c,t.nextSub=void 0),a.subs===t&&(a.subs=c,!c&&a.computed)){a.computed.flags&=-5;for(let m=a.computed.deps;m;m=m.nextDep)Qy(m,!0)}!n&&!--a.sc&&a.map&&a.map.delete(a.key)}function aA(t){const{prevDep:n,nextDep:a}=t;n&&(n.nextDep=a,t.prevDep=void 0),a&&(a.prevDep=n,t.nextDep=void 0)}function sA(t,n){t.effect instanceof Kf&&(t=t.effect.fn);const a=new Kf(t);n&&xn(a,n);try{a.run()}catch(p){throw a.stop(),p}const c=a.run.bind(a);return c.effect=a,c}function lA(t){t.effect.stop()}let qs=!0;const n1=[];function Bu(){n1.push(qs),qs=!1}function Uu(){const t=n1.pop();qs=t===void 0?!0:t}function L0(t){const{cleanup:n}=t;if(t.cleanup=void 0,n){const a=ii;ii=void 0;try{n()}finally{ii=a}}}let Yf=0;class uA{constructor(n,a){this.sub=n,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xm{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(n){if(!ii||!qs||ii===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==ii)a=this.activeLink=new uA(ii,this),ii.deps?(a.prevDep=ii.depsTail,ii.depsTail.nextDep=a,ii.depsTail=a):ii.deps=ii.depsTail=a,i1(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const c=a.nextDep;c.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=c),a.prevDep=ii.depsTail,a.nextDep=void 0,ii.depsTail.nextDep=a,ii.depsTail=a,ii.deps===a&&(ii.deps=c)}return a}trigger(n){this.version++,Yf++,this.notify(n)}notify(n){Yy();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{Jy()}}}function i1(t){if(t.dep.sc++,t.sub.flags&4){const n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let c=n.deps;c;c=c.nextDep)i1(c)}const a=t.dep.subs;a!==t&&(t.prevSub=a,a&&(a.nextSub=t)),t.dep.subs=t}}const Fd=new WeakMap,xc=Symbol(""),ty=Symbol(""),Jf=Symbol("");function ia(t,n,a){if(qs&&ii){let c=Fd.get(t);c||Fd.set(t,c=new Map);let p=c.get(a);p||(c.set(a,p=new xm),p.map=c,p.key=a),p.track()}}function Zl(t,n,a,c,p,m){const o=Fd.get(t);if(!o){Yf++;return}const T=E=>{E&&E.trigger()};if(Yy(),n==="clear")o.forEach(T);else{const E=rr(t),M=E&&Xy(a);if(E&&a==="length"){const R=Number(c);o.forEach((B,W)=>{(W==="length"||W===Jf||!qa(W)&&W>=R)&&T(B)})}else switch((a!==void 0||o.has(void 0))&&T(o.get(a)),M&&T(o.get(Jf)),n){case"add":E?M&&T(o.get("length")):(T(o.get(xc)),Ch(t)&&T(o.get(ty)));break;case"delete":E||(T(o.get(xc)),Ch(t)&&T(o.get(ty)));break;case"set":Ch(t)&&T(o.get(xc));break}}Jy()}function cA(t,n){const a=Fd.get(t);return a&&a.get(n)}function yh(t){const n=Pn(t);return n===t?n:(ia(n,"iterate",Jf),ss(t)?n:n.map(oa))}function wm(t){return ia(t=Pn(t),"iterate",Jf),t}const hA={__proto__:null,[Symbol.iterator](){return Lg(this,Symbol.iterator,oa)},concat(...t){return yh(this).concat(...t.map(n=>rr(n)?yh(n):n))},entries(){return Lg(this,"entries",t=>(t[1]=oa(t[1]),t))},every(t,n){return Vl(this,"every",t,n,void 0,arguments)},filter(t,n){return Vl(this,"filter",t,n,a=>a.map(oa),arguments)},find(t,n){return Vl(this,"find",t,n,oa,arguments)},findIndex(t,n){return Vl(this,"findIndex",t,n,void 0,arguments)},findLast(t,n){return Vl(this,"findLast",t,n,oa,arguments)},findLastIndex(t,n){return Vl(this,"findLastIndex",t,n,void 0,arguments)},forEach(t,n){return Vl(this,"forEach",t,n,void 0,arguments)},includes(...t){return Rg(this,"includes",t)},indexOf(...t){return Rg(this,"indexOf",t)},join(t){return yh(this).join(t)},lastIndexOf(...t){return Rg(this,"lastIndexOf",t)},map(t,n){return Vl(this,"map",t,n,void 0,arguments)},pop(){return Of(this,"pop")},push(...t){return Of(this,"push",t)},reduce(t,...n){return R0(this,"reduce",t,n)},reduceRight(t,...n){return R0(this,"reduceRight",t,n)},shift(){return Of(this,"shift")},some(t,n){return Vl(this,"some",t,n,void 0,arguments)},splice(...t){return Of(this,"splice",t)},toReversed(){return yh(this).toReversed()},toSorted(t){return yh(this).toSorted(t)},toSpliced(...t){return yh(this).toSpliced(...t)},unshift(...t){return Of(this,"unshift",t)},values(){return Lg(this,"values",oa)}};function Lg(t,n,a){const c=wm(t),p=c[n]();return c!==t&&!ss(t)&&(p._next=p.next,p.next=()=>{const m=p._next();return m.value&&(m.value=a(m.value)),m}),p}const fA=Array.prototype;function Vl(t,n,a,c,p,m){const o=wm(t),T=o!==t&&!ss(t),E=o[n];if(E!==fA[n]){const B=E.apply(t,m);return T?oa(B):B}let M=a;o!==t&&(T?M=function(B,W){return a.call(this,oa(B),W,t)}:a.length>2&&(M=function(B,W){return a.call(this,B,W,t)}));const R=E.call(o,M,c);return T&&p?p(R):R}function R0(t,n,a,c){const p=wm(t);let m=a;return p!==t&&(ss(t)?a.length>3&&(m=function(o,T,E){return a.call(this,o,T,E,t)}):m=function(o,T,E){return a.call(this,o,oa(T),E,t)}),p[n](m,...c)}function Rg(t,n,a){const c=Pn(t);ia(c,"iterate",Jf);const p=c[n](...a);return(p===-1||p===!1)&&Cm(a[0])?(a[0]=Pn(a[0]),c[n](...a)):p}function Of(t,n,a=[]){Bu(),Yy();const c=Pn(t)[n].apply(t,a);return Jy(),Uu(),c}const pA=cs("__proto__,__v_isRef,__isVue"),o1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qa));function dA(t){qa(t)||(t=String(t));const n=Pn(this);return ia(n,"has",t),n.hasOwnProperty(t)}class a1{constructor(n=!1,a=!1){this._isReadonly=n,this._isShallow=a}get(n,a,c){const p=this._isReadonly,m=this._isShallow;if(a==="__v_isReactive")return!p;if(a==="__v_isReadonly")return p;if(a==="__v_isShallow")return m;if(a==="__v_raw")return c===(p?m?f1:h1:m?c1:u1).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(c)?n:void 0;const o=rr(n);if(!p){let E;if(o&&(E=hA[a]))return E;if(a==="hasOwnProperty")return dA}const T=Reflect.get(n,a,so(n)?n:c);return(qa(a)?o1.has(a):pA(a))||(p||ia(n,"get",a),m)?T:so(T)?o&&Xy(a)?T:T.value:Wn(T)?p?e_(T):Tm(T):T}}class s1 extends a1{constructor(n=!1){super(!1,n)}set(n,a,c,p){let m=n[a];if(!this._isShallow){const E=Nu(m);if(!ss(c)&&!Nu(c)&&(m=Pn(m),c=Pn(c)),!rr(n)&&so(m)&&!so(c))return E?!1:(m.value=c,!0)}const o=rr(n)&&Xy(a)?Number(a)<n.length:Fn(n,a),T=Reflect.set(n,a,c,so(n)?n:p);return n===Pn(p)&&(o?_a(c,m)&&Zl(n,"set",a,c):Zl(n,"add",a,c)),T}deleteProperty(n,a){const c=Fn(n,a);n[a];const p=Reflect.deleteProperty(n,a);return p&&c&&Zl(n,"delete",a,void 0),p}has(n,a){const c=Reflect.has(n,a);return(!qa(a)||!o1.has(a))&&ia(n,"has",a),c}ownKeys(n){return ia(n,"iterate",rr(n)?"length":xc),Reflect.ownKeys(n)}}class l1 extends a1{constructor(n=!1){super(!0,n)}set(n,a){return!0}deleteProperty(n,a){return!0}}const mA=new s1,gA=new l1,yA=new s1(!0),_A=new l1(!0),ry=t=>t,ad=t=>Reflect.getPrototypeOf(t);function vA(t,n,a){return function(...c){const p=this.__v_raw,m=Pn(p),o=Ch(m),T=t==="entries"||t===Symbol.iterator&&o,E=t==="keys"&&o,M=p[t](...c),R=a?ry:n?ny:oa;return!n&&ia(m,"iterate",E?ty:xc),{next(){const{value:B,done:W}=M.next();return W?{value:B,done:W}:{value:T?[R(B[0]),R(B[1])]:R(B),done:W}},[Symbol.iterator](){return this}}}}function sd(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function bA(t,n){const a={get(p){const m=this.__v_raw,o=Pn(m),T=Pn(p);t||(_a(p,T)&&ia(o,"get",p),ia(o,"get",T));const{has:E}=ad(o),M=n?ry:t?ny:oa;if(E.call(o,p))return M(m.get(p));if(E.call(o,T))return M(m.get(T));m!==o&&m.get(p)},get size(){const p=this.__v_raw;return!t&&ia(Pn(p),"iterate",xc),Reflect.get(p,"size",p)},has(p){const m=this.__v_raw,o=Pn(m),T=Pn(p);return t||(_a(p,T)&&ia(o,"has",p),ia(o,"has",T)),p===T?m.has(p):m.has(p)||m.has(T)},forEach(p,m){const o=this,T=o.__v_raw,E=Pn(T),M=n?ry:t?ny:oa;return!t&&ia(E,"iterate",xc),T.forEach((R,B)=>p.call(m,M(R),M(B),o))}};return xn(a,t?{add:sd("add"),set:sd("set"),delete:sd("delete"),clear:sd("clear")}:{add(p){!n&&!ss(p)&&!Nu(p)&&(p=Pn(p));const m=Pn(this);return ad(m).has.call(m,p)||(m.add(p),Zl(m,"add",p,p)),this},set(p,m){!n&&!ss(m)&&!Nu(m)&&(m=Pn(m));const o=Pn(this),{has:T,get:E}=ad(o);let M=T.call(o,p);M||(p=Pn(p),M=T.call(o,p));const R=E.call(o,p);return o.set(p,m),M?_a(m,R)&&Zl(o,"set",p,m):Zl(o,"add",p,m),this},delete(p){const m=Pn(this),{has:o,get:T}=ad(m);let E=o.call(m,p);E||(p=Pn(p),E=o.call(m,p)),T&&T.call(m,p);const M=m.delete(p);return E&&Zl(m,"delete",p,void 0),M},clear(){const p=Pn(this),m=p.size!==0,o=p.clear();return m&&Zl(p,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(p=>{a[p]=vA(p,t,n)}),a}function Sm(t,n){const a=bA(t,n);return(c,p,m)=>p==="__v_isReactive"?!t:p==="__v_isReadonly"?t:p==="__v_raw"?c:Reflect.get(Fn(a,p)&&p in c?a:c,p,m)}const xA={get:Sm(!1,!1)},wA={get:Sm(!1,!0)},SA={get:Sm(!0,!1)},TA={get:Sm(!0,!0)},u1=new WeakMap,c1=new WeakMap,h1=new WeakMap,f1=new WeakMap;function EA(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function CA(t){return t.__v_skip||!Object.isExtensible(t)?0:EA(z2(t))}function Tm(t){return Nu(t)?t:Em(t,!1,mA,xA,u1)}function p1(t){return Em(t,!1,yA,wA,c1)}function e_(t){return Em(t,!0,gA,SA,h1)}function AA(t){return Em(t,!0,_A,TA,f1)}function Em(t,n,a,c,p){if(!Wn(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const m=p.get(t);if(m)return m;const o=CA(t);if(o===0)return t;const T=new Proxy(t,o===2?c:a);return p.set(t,T),T}function Lu(t){return Nu(t)?Lu(t.__v_raw):!!(t&&t.__v_isReactive)}function Nu(t){return!!(t&&t.__v_isReadonly)}function ss(t){return!!(t&&t.__v_isShallow)}function Cm(t){return t?!!t.__v_raw:!1}function Pn(t){const n=t&&t.__v_raw;return n?Pn(n):t}function d1(t){return!Fn(t,"__v_skip")&&Object.isExtensible(t)&&Hx(t,"__v_skip",!0),t}const oa=t=>Wn(t)?Tm(t):t,ny=t=>Wn(t)?e_(t):t;function so(t){return t?t.__v_isRef===!0:!1}function Us(t){return m1(t,!1)}function Am(t){return m1(t,!0)}function m1(t,n){return so(t)?t:new IA(t,n)}class IA{constructor(n,a){this.dep=new xm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?n:Pn(n),this._value=a?n:oa(n),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(n){const a=this._rawValue,c=this.__v_isShallow||ss(n)||Nu(n);n=c?n:Pn(n),_a(n,a)&&(this._rawValue=n,this._value=c?n:oa(n),this.dep.trigger())}}function kA(t){t.dep&&t.dep.trigger()}function Im(t){return so(t)?t.value:t}function PA(t){return Mr(t)?t():Im(t)}const LA={get:(t,n,a)=>n==="__v_raw"?t:Im(Reflect.get(t,n,a)),set:(t,n,a,c)=>{const p=t[n];return so(p)&&!so(a)?(p.value=a,!0):Reflect.set(t,n,a,c)}};function t_(t){return Lu(t)?t:new Proxy(t,LA)}class RA{constructor(n){this.__v_isRef=!0,this._value=void 0;const a=this.dep=new xm,{get:c,set:p}=n(a.track.bind(a),a.trigger.bind(a));this._get=c,this._set=p}get value(){return this._value=this._get()}set value(n){this._set(n)}}function g1(t){return new RA(t)}function MA(t){const n=rr(t)?new Array(t.length):{};for(const a in t)n[a]=y1(t,a);return n}class OA{constructor(n,a,c){this._object=n,this._key=a,this._defaultValue=c,this.__v_isRef=!0,this._value=void 0}get value(){const n=this._object[this._key];return this._value=n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return cA(Pn(this._object),this._key)}}class DA{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function NA(t,n,a){return so(t)?t:Mr(t)?new DA(t):Wn(t)&&arguments.length>1?y1(t,n,a):Us(t)}function y1(t,n,a){const c=t[n];return so(c)?c:new OA(t,n,a)}class zA{constructor(n,a,c){this.fn=n,this.setter=a,this._value=void 0,this.dep=new xm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=c}notify(){if(this.flags|=16,!(this.flags&8)&&ii!==this)return Qx(this,!0),!0}get value(){const n=this.dep.track();return r1(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function FA(t,n,a=!1){let c,p;return Mr(t)?c=t:(c=t.get,p=t.set),new zA(c,p,a)}const BA={GET:"get",HAS:"has",ITERATE:"iterate"},UA={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},ld={},Bd=new WeakMap;let Eu;function VA(){return Eu}function _1(t,n=!1,a=Eu){if(a){let c=Bd.get(a);c||Bd.set(a,c=[]),c.push(t)}}function jA(t,n,a=bn){const{immediate:c,deep:p,once:m,scheduler:o,augmentJob:T,call:E}=a,M=se=>p?se:ss(se)||p===!1||p===0?Xl(se,1):Xl(se);let R,B,W,ae,ee=!1,re=!1;if(so(t)?(B=()=>t.value,ee=ss(t)):Lu(t)?(B=()=>M(t),ee=!0):rr(t)?(re=!0,ee=t.some(se=>Lu(se)||ss(se)),B=()=>t.map(se=>{if(so(se))return se.value;if(Lu(se))return M(se);if(Mr(se))return E?E(se,2):se()})):Mr(t)?n?B=E?()=>E(t,2):t:B=()=>{if(W){Bu();try{W()}finally{Uu()}}const se=Eu;Eu=R;try{return E?E(t,3,[ae]):t(ae)}finally{Eu=se}}:B=sa,n&&p){const se=B,Se=p===!0?1/0:p;B=()=>Xl(se(),Se)}const ue=Yx(),ce=()=>{R.stop(),ue&&Gy(ue.effects,R)};if(m&&n){const se=n;n=(...Se)=>{se(...Se),ce()}}let Pe=re?new Array(t.length).fill(ld):ld;const Y=se=>{if(!(!(R.flags&1)||!R.dirty&&!se))if(n){const Se=R.run();if(p||ee||(re?Se.some((Me,C)=>_a(Me,Pe[C])):_a(Se,Pe))){W&&W();const Me=Eu;Eu=R;try{const C=[Se,Pe===ld?void 0:re&&Pe[0]===ld?[]:Pe,ae];E?E(n,3,C):n(...C),Pe=Se}finally{Eu=Me}}}else R.run()};return T&&T(Y),R=new Kf(B),R.scheduler=o?()=>o(Y,!1):Y,ae=se=>_1(se,!1,R),W=R.onStop=()=>{const se=Bd.get(R);if(se){if(E)E(se,4);else for(const Se of se)Se();Bd.delete(R)}},n?c?Y(!0):Pe=R.run():o?o(Y.bind(null,!0),!0):R.run(),ce.pause=R.pause.bind(R),ce.resume=R.resume.bind(R),ce.stop=ce,ce}function Xl(t,n=1/0,a){if(n<=0||!Wn(t)||t.__v_skip||(a=a||new Set,a.has(t)))return t;if(a.add(t),n--,so(t))Xl(t.value,n,a);else if(rr(t))for(let c=0;c<t.length;c++)Xl(t[c],n,a);else if(Lc(t)||Ch(t))t.forEach(c=>{Xl(c,n,a)});else if(ym(t)){for(const c in t)Xl(t[c],n,a);for(const c of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,c)&&Xl(t[c],n,a)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const v1=[];function qA(t){v1.push(t)}function HA(){v1.pop()}function WA(t,n){}const $A={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},GA={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function $h(t,n,a,c){try{return c?t(...c):t()}catch(p){Mc(p,n,a)}}function Cs(t,n,a,c){if(Mr(t)){const p=$h(t,n,a,c);return p&&Zy(p)&&p.catch(m=>{Mc(m,n,a)}),p}if(rr(t)){const p=[];for(let m=0;m<t.length;m++)p.push(Cs(t[m],n,a,c));return p}}function Mc(t,n,a,c=!0){const p=n?n.vnode:null,{errorHandler:m,throwUnhandledErrorInProduction:o}=n&&n.appContext.config||bn;if(n){let T=n.parent;const E=n.proxy,M=`https://vuejs.org/error-reference/#runtime-${a}`;for(;T;){const R=T.ec;if(R){for(let B=0;B<R.length;B++)if(R[B](t,E,M)===!1)return}T=T.parent}if(m){Bu(),$h(m,null,10,[t,E,M]),Uu();return}}ZA(t,a,p,c,o)}function ZA(t,n,a,c=!0,p=!1){if(p)throw t;console.error(t)}const va=[];let dl=-1;const kh=[];let Cu=null,bh=0;const b1=Promise.resolve();let Ud=null;function km(t){const n=Ud||b1;return t?n.then(this?t.bind(this):t):n}function XA(t){let n=dl+1,a=va.length;for(;n<a;){const c=n+a>>>1,p=va[c],m=Qf(p);m<t||m===t&&p.flags&2?n=c+1:a=c}return n}function r_(t){if(!(t.flags&1)){const n=Qf(t),a=va[va.length-1];!a||!(t.flags&2)&&n>=Qf(a)?va.push(t):va.splice(XA(n),0,t),t.flags|=1,x1()}}function x1(){Ud||(Ud=b1.then(w1))}function Vd(t){rr(t)?kh.push(...t):Cu&&t.id===-1?Cu.splice(bh+1,0,t):t.flags&1||(kh.push(t),t.flags|=1),x1()}function M0(t,n,a=dl+1){for(;a<va.length;a++){const c=va[a];if(c&&c.flags&2){if(t&&c.id!==t.uid)continue;va.splice(a,1),a--,c.flags&4&&(c.flags&=-2),c(),c.flags&4||(c.flags&=-2)}}}function jd(t){if(kh.length){const n=[...new Set(kh)].sort((a,c)=>Qf(a)-Qf(c));if(kh.length=0,Cu){Cu.push(...n);return}for(Cu=n,bh=0;bh<Cu.length;bh++){const a=Cu[bh];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}Cu=null,bh=0}}const Qf=t=>t.id==null?t.flags&2?-1:1/0:t.id;function w1(t){try{for(dl=0;dl<va.length;dl++){const n=va[dl];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),$h(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;dl<va.length;dl++){const n=va[dl];n&&(n.flags&=-2)}dl=-1,va.length=0,jd(),Ud=null,(va.length||kh.length)&&w1()}}let xh,ud=[];function S1(t,n){var a,c;xh=t,xh?(xh.enabled=!0,ud.forEach(({event:p,args:m})=>xh.emit(p,...m)),ud=[]):typeof window<"u"&&window.HTMLElement&&!((c=(a=window.navigator)==null?void 0:a.userAgent)!=null&&c.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(m=>{S1(m,n)}),setTimeout(()=>{xh||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ud=[])},3e3)):ud=[]}let _o=null,Pm=null;function ep(t){const n=_o;return _o=t,Pm=t&&t.type.__scopeId||null,n}function KA(t){Pm=t}function YA(){Pm=null}const JA=t=>n_;function n_(t,n=_o,a){if(!n||t._n)return t;const c=(...p)=>{c._d&&hy(-1);const m=ep(n);let o;try{o=t(...p)}finally{ep(m),c._d&&hy(1)}return o};return c._n=!0,c._c=!0,c._d=!0,c}function QA(t,n){if(_o===null)return t;const a=vp(_o),c=t.dirs||(t.dirs=[]);for(let p=0;p<n.length;p++){let[m,o,T,E=bn]=n[p];m&&(Mr(m)&&(m={mounted:m,updated:m}),m.deep&&Xl(o),c.push({dir:m,instance:a,value:o,oldValue:void 0,arg:T,modifiers:E}))}return t}function ml(t,n,a,c){const p=t.dirs,m=n&&n.dirs;for(let o=0;o<p.length;o++){const T=p[o];m&&(T.oldValue=m[o].value);let E=T.dir[c];E&&(Bu(),Cs(E,a,8,[t.el,T,t,n]),Uu())}}const T1=Symbol("_vte"),E1=t=>t.__isTeleport,qf=t=>t&&(t.disabled||t.disabled===""),eI=t=>t&&(t.defer||t.defer===""),O0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,D0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,iy=(t,n)=>{const a=t&&t.to;return Gr(a)?n?n(a):null:a},tI={name:"Teleport",__isTeleport:!0,process(t,n,a,c,p,m,o,T,E,M){const{mc:R,pc:B,pbc:W,o:{insert:ae,querySelector:ee,createText:re,createComment:ue}}=M,ce=qf(n.props);let{shapeFlag:Pe,children:Y,dynamicChildren:se}=n;if(t==null){const Se=n.el=re(""),Me=n.anchor=re("");ae(Se,a,c),ae(Me,a,c);const C=(we,Xe)=>{Pe&16&&(p&&p.isCE&&(p.ce._teleportTarget=we),R(Y,we,Xe,p,m,o,T,E))},qe=()=>{const we=n.target=iy(n.props,ee),Xe=C1(we,n,re,ae);we&&(o!=="svg"&&O0(we)?o="svg":o!=="mathml"&&D0(we)&&(o="mathml"),ce||(C(we,Xe),wd(n,!1)))};ce&&(C(a,Me),wd(n,!0)),eI(n.props)?Lo(qe,m):qe()}else{n.el=t.el,n.targetStart=t.targetStart;const Se=n.anchor=t.anchor,Me=n.target=t.target,C=n.targetAnchor=t.targetAnchor,qe=qf(t.props),we=qe?a:Me,Xe=qe?Se:C;if(o==="svg"||O0(Me)?o="svg":(o==="mathml"||D0(Me))&&(o="mathml"),se?(W(t.dynamicChildren,se,we,p,m,o,T),f_(t,n,!0)):E||B(t,n,we,Xe,p,m,o,T,!1),ce)qe?n.props&&t.props&&n.props.to!==t.props.to&&(n.props.to=t.props.to):cd(n,a,Se,M,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const xt=n.target=iy(n.props,ee);xt&&cd(n,xt,null,M,0)}else qe&&cd(n,Me,C,M,1);wd(n,ce)}},remove(t,n,a,{um:c,o:{remove:p}},m){const{shapeFlag:o,children:T,anchor:E,targetStart:M,targetAnchor:R,target:B,props:W}=t;if(B&&(p(M),p(R)),m&&p(E),o&16){const ae=m||!qf(W);for(let ee=0;ee<T.length;ee++){const re=T[ee];c(re,n,a,ae,!!re.dynamicChildren)}}},move:cd,hydrate:rI};function cd(t,n,a,{o:{insert:c},m:p},m=2){m===0&&c(t.targetAnchor,n,a);const{el:o,anchor:T,shapeFlag:E,children:M,props:R}=t,B=m===2;if(B&&c(o,n,a),(!B||qf(R))&&E&16)for(let W=0;W<M.length;W++)p(M[W],n,a,2);B&&c(T,n,a)}function rI(t,n,a,c,p,m,{o:{nextSibling:o,parentNode:T,querySelector:E,insert:M,createText:R}},B){const W=n.target=iy(n.props,E);if(W){const ae=qf(n.props),ee=W._lpa||W.firstChild;if(n.shapeFlag&16)if(ae)n.anchor=B(o(t),n,T(t),a,c,p,m),n.targetStart=ee,n.targetAnchor=ee&&o(ee);else{n.anchor=o(t);let re=ee;for(;re;){if(re&&re.nodeType===8){if(re.data==="teleport start anchor")n.targetStart=re;else if(re.data==="teleport anchor"){n.targetAnchor=re,W._lpa=n.targetAnchor&&o(n.targetAnchor);break}}re=o(re)}n.targetAnchor||C1(W,n,R,M),B(ee&&o(ee),n,W,a,c,p,m)}wd(n,ae)}return n.anchor&&o(n.anchor)}const nI=tI;function wd(t,n){const a=t.ctx;if(a&&a.ut){let c,p;for(n?(c=t.el,p=t.anchor):(c=t.targetStart,p=t.targetAnchor);c&&c!==p;)c.nodeType===1&&c.setAttribute("data-v-owner",a.uid),c=c.nextSibling;a.ut()}}function C1(t,n,a,c){const p=n.targetStart=a(""),m=n.targetAnchor=a("");return p[T1]=m,t&&(c(p,t),c(m,t)),m}const Au=Symbol("_leaveCb"),hd=Symbol("_enterCb");function i_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zh(()=>{t.isMounted=!0}),Dm(()=>{t.isUnmounting=!0}),t}const bs=[Function,Array],o_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bs,onEnter:bs,onAfterEnter:bs,onEnterCancelled:bs,onBeforeLeave:bs,onLeave:bs,onAfterLeave:bs,onLeaveCancelled:bs,onBeforeAppear:bs,onAppear:bs,onAfterAppear:bs,onAppearCancelled:bs},A1=t=>{const n=t.subTree;return n.component?A1(n.component):n},iI={name:"BaseTransition",props:o_,setup(t,{slots:n}){const a=Vo(),c=i_();return()=>{const p=n.default&&Lm(n.default(),!0);if(!p||!p.length)return;const m=I1(p),o=Pn(t),{mode:T}=o;if(c.isLeaving)return Mg(m);const E=N0(m);if(!E)return Mg(m);let M=Rh(E,o,c,a,W=>M=W);E.type!==ao&&eu(E,M);const R=a.subTree,B=R&&N0(R);if(B&&B.type!==ao&&!Vs(E,B)&&A1(a).type!==ao){const W=Rh(B,o,c,a);if(eu(B,W),T==="out-in"&&E.type!==ao)return c.isLeaving=!0,W.afterLeave=()=>{c.isLeaving=!1,a.job.flags&8||a.update(),delete W.afterLeave},Mg(m);T==="in-out"&&E.type!==ao&&(W.delayLeave=(ae,ee,re)=>{const ue=P1(c,B);ue[String(B.key)]=B,ae[Au]=()=>{ee(),ae[Au]=void 0,delete M.delayedLeave},M.delayedLeave=re})}return m}}};function I1(t){let n=t[0];if(t.length>1){for(const a of t)if(a.type!==ao){n=a;break}}return n}const k1=iI;function P1(t,n){const{leavingVNodes:a}=t;let c=a.get(n.type);return c||(c=Object.create(null),a.set(n.type,c)),c}function Rh(t,n,a,c,p){const{appear:m,mode:o,persisted:T=!1,onBeforeEnter:E,onEnter:M,onAfterEnter:R,onEnterCancelled:B,onBeforeLeave:W,onLeave:ae,onAfterLeave:ee,onLeaveCancelled:re,onBeforeAppear:ue,onAppear:ce,onAfterAppear:Pe,onAppearCancelled:Y}=n,se=String(t.key),Se=P1(a,t),Me=(we,Xe)=>{we&&Cs(we,c,9,Xe)},C=(we,Xe)=>{const xt=Xe[1];Me(we,Xe),rr(we)?we.every(Ge=>Ge.length<=1)&&xt():we.length<=1&&xt()},qe={mode:o,persisted:T,beforeEnter(we){let Xe=E;if(!a.isMounted)if(m)Xe=ue||E;else return;we[Au]&&we[Au](!0);const xt=Se[se];xt&&Vs(t,xt)&&xt.el[Au]&&xt.el[Au](),Me(Xe,[we])},enter(we){let Xe=M,xt=R,Ge=B;if(!a.isMounted)if(m)Xe=ce||M,xt=Pe||R,Ge=Y||B;else return;let tt=!1;const Ht=we[hd]=fr=>{tt||(tt=!0,fr?Me(Ge,[we]):Me(xt,[we]),qe.delayedLeave&&qe.delayedLeave(),we[hd]=void 0)};Xe?C(Xe,[we,Ht]):Ht()},leave(we,Xe){const xt=String(t.key);if(we[hd]&&we[hd](!0),a.isUnmounting)return Xe();Me(W,[we]);let Ge=!1;const tt=we[Au]=Ht=>{Ge||(Ge=!0,Xe(),Ht?Me(re,[we]):Me(ee,[we]),we[Au]=void 0,Se[xt]===t&&delete Se[xt])};Se[xt]=t,ae?C(ae,[we,tt]):tt()},clone(we){const Xe=Rh(we,n,a,c,p);return p&&p(Xe),Xe}};return qe}function Mg(t){if(gp(t))return t=yl(t),t.children=null,t}function N0(t){if(!gp(t))return E1(t.type)&&t.children?I1(t.children):t;const{shapeFlag:n,children:a}=t;if(a){if(n&16)return a[0];if(n&32&&Mr(a.default))return a.default()}}function eu(t,n){t.shapeFlag&6&&t.component?(t.transition=n,eu(t.component.subTree,n)):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function Lm(t,n=!1,a){let c=[],p=0;for(let m=0;m<t.length;m++){let o=t[m];const T=a==null?o.key:String(a)+String(o.key!=null?o.key:m);o.type===oo?(o.patchFlag&128&&p++,c=c.concat(Lm(o.children,n,T))):(n||o.type!==ao)&&c.push(T!=null?yl(o,{key:T}):o)}if(p>1)for(let m=0;m<c.length;m++)c[m].patchFlag=-2;return c}/*! #__NO_SIDE_EFFECTS__ */function Gh(t,n){return Mr(t)?xn({name:t.name},n,{setup:t}):t}function oI(){const t=Vo();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function a_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function aI(t){const n=Vo(),a=Am(null);if(n){const p=n.refs===bn?n.refs={}:n.refs;Object.defineProperty(p,t,{enumerable:!0,get:()=>a.value,set:m=>a.value=m})}return a}function qd(t,n,a,c,p=!1){if(rr(t)){t.forEach((ee,re)=>qd(ee,n&&(rr(n)?n[re]:n),a,c,p));return}if(Ru(c)&&!p)return;const m=c.shapeFlag&4?vp(c.component):c.el,o=p?null:m,{i:T,r:E}=t,M=n&&n.r,R=T.refs===bn?T.refs={}:T.refs,B=T.setupState,W=Pn(B),ae=B===bn?()=>!1:ee=>Fn(W,ee);if(M!=null&&M!==E&&(Gr(M)?(R[M]=null,ae(M)&&(B[M]=null)):so(M)&&(M.value=null)),Mr(E))$h(E,T,12,[o,R]);else{const ee=Gr(E),re=so(E);if(ee||re){const ue=()=>{if(t.f){const ce=ee?ae(E)?B[E]:R[E]:E.value;p?rr(ce)&&Gy(ce,m):rr(ce)?ce.includes(m)||ce.push(m):ee?(R[E]=[m],ae(E)&&(B[E]=R[E])):(E.value=[m],t.k&&(R[t.k]=E.value))}else ee?(R[E]=o,ae(E)&&(B[E]=o)):re&&(E.value=o,t.k&&(R[t.k]=o))};o?(ue.id=-1,Lo(ue,a)):ue()}}}let z0=!1;const _h=()=>{z0||(console.error("Hydration completed but contains mismatches."),z0=!0)},sI=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",lI=t=>t.namespaceURI.includes("MathML"),fd=t=>{if(t.nodeType===1){if(sI(t))return"svg";if(lI(t))return"mathml"}},Sh=t=>t.nodeType===8;function uI(t){const{mt:n,p:a,o:{patchProp:c,createText:p,nextSibling:m,parentNode:o,remove:T,insert:E,createComment:M}}=t,R=(Y,se)=>{if(!se.hasChildNodes()){a(null,Y,se),jd(),se._vnode=Y;return}B(se.firstChild,Y,null,null,null),jd(),se._vnode=Y},B=(Y,se,Se,Me,C,qe=!1)=>{qe=qe||!!se.dynamicChildren;const we=Sh(Y)&&Y.data==="[",Xe=()=>re(Y,se,Se,Me,C,we),{type:xt,ref:Ge,shapeFlag:tt,patchFlag:Ht}=se;let fr=Y.nodeType;se.el=Y,Ht===-2&&(qe=!1,se.dynamicChildren=null);let Lt=null;switch(xt){case Jl:fr!==3?se.children===""?(E(se.el=p(""),o(Y),Y),Lt=Y):Lt=Xe():(Y.data!==se.children&&(_h(),Y.data=se.children),Lt=m(Y));break;case ao:Pe(Y)?(Lt=m(Y),ce(se.el=Y.content.firstChild,Y,Se)):fr!==8||we?Lt=Xe():Lt=m(Y);break;case Sc:if(we&&(Y=m(Y),fr=Y.nodeType),fr===1||fr===3){Lt=Y;const Jt=!se.children.length;for(let Zt=0;Zt<se.staticCount;Zt++)Jt&&(se.children+=Lt.nodeType===1?Lt.outerHTML:Lt.data),Zt===se.staticCount-1&&(se.anchor=Lt),Lt=m(Lt);return we?m(Lt):Lt}else Xe();break;case oo:we?Lt=ee(Y,se,Se,Me,C,qe):Lt=Xe();break;default:if(tt&1)(fr!==1||se.type.toLowerCase()!==Y.tagName.toLowerCase())&&!Pe(Y)?Lt=Xe():Lt=W(Y,se,Se,Me,C,qe);else if(tt&6){se.slotScopeIds=C;const Jt=o(Y);if(we?Lt=ue(Y):Sh(Y)&&Y.data==="teleport start"?Lt=ue(Y,Y.data,"teleport end"):Lt=m(Y),n(se,Jt,null,Se,Me,fd(Jt),qe),Ru(se)){let Zt;we?(Zt=ai(oo),Zt.anchor=Lt?Lt.previousSibling:Jt.lastChild):Zt=Y.nodeType===3?m_(""):ai("div"),Zt.el=Y,se.component.subTree=Zt}}else tt&64?fr!==8?Lt=Xe():Lt=se.type.hydrate(Y,se,Se,Me,C,qe,t,ae):tt&128&&(Lt=se.type.hydrate(Y,se,Se,Me,fd(o(Y)),C,qe,t,B))}return Ge!=null&&qd(Ge,null,Me,se),Lt},W=(Y,se,Se,Me,C,qe)=>{qe=qe||!!se.dynamicChildren;const{type:we,props:Xe,patchFlag:xt,shapeFlag:Ge,dirs:tt,transition:Ht}=se,fr=we==="input"||we==="option";if(fr||xt!==-1){tt&&ml(se,null,Se,"created");let Lt=!1;if(Pe(Y)){Lt=rw(null,Ht)&&Se&&Se.vnode.props&&Se.vnode.props.appear;const Zt=Y.content.firstChild;Lt&&Ht.beforeEnter(Zt),ce(Zt,Y,Se),se.el=Y=Zt}if(Ge&16&&!(Xe&&(Xe.innerHTML||Xe.textContent))){let Zt=ae(Y.firstChild,se,Y,Se,Me,C,qe);for(;Zt;){pd(Y,1)||_h();const Zr=Zt;Zt=Zt.nextSibling,T(Zr)}}else if(Ge&8){let Zt=se.children;Zt[0]===`
`&&(Y.tagName==="PRE"||Y.tagName==="TEXTAREA")&&(Zt=Zt.slice(1)),Y.textContent!==Zt&&(pd(Y,0)||_h(),Y.textContent=se.children)}if(Xe){if(fr||!qe||xt&48){const Zt=Y.tagName.includes("-");for(const Zr in Xe)(fr&&(Zr.endsWith("value")||Zr==="indeterminate")||Pc(Zr)&&!Pu(Zr)||Zr[0]==="."||Zt)&&c(Y,Zr,null,Xe[Zr],void 0,Se)}else if(Xe.onClick)c(Y,"onClick",null,Xe.onClick,void 0,Se);else if(xt&4&&Lu(Xe.style))for(const Zt in Xe.style)Xe.style[Zt]}let Jt;(Jt=Xe&&Xe.onVnodeBeforeMount)&&za(Jt,Se,se),tt&&ml(se,null,Se,"beforeMount"),((Jt=Xe&&Xe.onVnodeMounted)||tt||Lt)&&fw(()=>{Jt&&za(Jt,Se,se),Lt&&Ht.enter(Y),tt&&ml(se,null,Se,"mounted")},Me)}return Y.nextSibling},ae=(Y,se,Se,Me,C,qe,we)=>{we=we||!!se.dynamicChildren;const Xe=se.children,xt=Xe.length;for(let Ge=0;Ge<xt;Ge++){const tt=we?Xe[Ge]:Xe[Ge]=Fa(Xe[Ge]),Ht=tt.type===Jl;Y?(Ht&&!we&&Ge+1<xt&&Fa(Xe[Ge+1]).type===Jl&&(E(p(Y.data.slice(tt.children.length)),Se,m(Y)),Y.data=tt.children),Y=B(Y,tt,Me,C,qe,we)):Ht&&!tt.children?E(tt.el=p(""),Se):(pd(Se,1)||_h(),a(null,tt,Se,null,Me,C,fd(Se),qe))}return Y},ee=(Y,se,Se,Me,C,qe)=>{const{slotScopeIds:we}=se;we&&(C=C?C.concat(we):we);const Xe=o(Y),xt=ae(m(Y),se,Xe,Se,Me,C,qe);return xt&&Sh(xt)&&xt.data==="]"?m(se.anchor=xt):(_h(),E(se.anchor=M("]"),Xe,xt),xt)},re=(Y,se,Se,Me,C,qe)=>{if(pd(Y.parentElement,1)||_h(),se.el=null,qe){const xt=ue(Y);for(;;){const Ge=m(Y);if(Ge&&Ge!==xt)T(Ge);else break}}const we=m(Y),Xe=o(Y);return T(Y),a(null,se,Xe,we,Se,Me,fd(Xe),C),we},ue=(Y,se="[",Se="]")=>{let Me=0;for(;Y;)if(Y=m(Y),Y&&Sh(Y)&&(Y.data===se&&Me++,Y.data===Se)){if(Me===0)return m(Y);Me--}return Y},ce=(Y,se,Se)=>{const Me=se.parentNode;Me&&Me.replaceChild(Y,se);let C=Se;for(;C;)C.vnode.el===se&&(C.vnode.el=C.subTree.el=Y),C=C.parent},Pe=Y=>Y.nodeType===1&&Y.tagName==="TEMPLATE";return[R,B]}const F0="data-allow-mismatch",cI={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function pd(t,n){if(n===0||n===1)for(;t&&!t.hasAttribute(F0);)t=t.parentElement;const a=t&&t.getAttribute(F0);if(a==null)return!1;if(a==="")return!0;{const c=a.split(",");return n===0&&c.includes("children")?!0:a.split(",").includes(cI[n])}}const hI=vm().requestIdleCallback||(t=>setTimeout(t,1)),fI=vm().cancelIdleCallback||(t=>clearTimeout(t)),pI=(t=1e4)=>n=>{const a=hI(n,{timeout:t});return()=>fI(a)};function dI(t){const{top:n,left:a,bottom:c,right:p}=t.getBoundingClientRect(),{innerHeight:m,innerWidth:o}=window;return(n>0&&n<m||c>0&&c<m)&&(a>0&&a<o||p>0&&p<o)}const mI=t=>(n,a)=>{const c=new IntersectionObserver(p=>{for(const m of p)if(m.isIntersecting){c.disconnect(),n();break}},t);return a(p=>{if(p instanceof Element){if(dI(p))return n(),c.disconnect(),!1;c.observe(p)}}),()=>c.disconnect()},gI=t=>n=>{if(t){const a=matchMedia(t);if(a.matches)n();else return a.addEventListener("change",n,{once:!0}),()=>a.removeEventListener("change",n)}},yI=(t=[])=>(n,a)=>{Gr(t)&&(t=[t]);let c=!1;const p=o=>{c||(c=!0,m(),n(),o.target.dispatchEvent(new o.constructor(o.type,o)))},m=()=>{a(o=>{for(const T of t)o.removeEventListener(T,p)})};return a(o=>{for(const T of t)o.addEventListener(T,p,{once:!0})}),m};function _I(t,n){if(Sh(t)&&t.data==="["){let a=1,c=t.nextSibling;for(;c;){if(c.nodeType===1){if(n(c)===!1)break}else if(Sh(c))if(c.data==="]"){if(--a===0)break}else c.data==="["&&a++;c=c.nextSibling}}else n(t)}const Ru=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function vI(t){Mr(t)&&(t={loader:t});const{loader:n,loadingComponent:a,errorComponent:c,delay:p=200,hydrate:m,timeout:o,suspensible:T=!0,onError:E}=t;let M=null,R,B=0;const W=()=>(B++,M=null,ae()),ae=()=>{let ee;return M||(ee=M=n().catch(re=>{if(re=re instanceof Error?re:new Error(String(re)),E)return new Promise((ue,ce)=>{E(re,()=>ue(W()),()=>ce(re),B+1)});throw re}).then(re=>ee!==M&&M?M:(re&&(re.__esModule||re[Symbol.toStringTag]==="Module")&&(re=re.default),R=re,re)))};return Gh({name:"AsyncComponentWrapper",__asyncLoader:ae,__asyncHydrate(ee,re,ue){const ce=m?()=>{const Pe=m(ue,Y=>_I(ee,Y));Pe&&(re.bum||(re.bum=[])).push(Pe)}:ue;R?ce():ae().then(()=>!re.isUnmounted&&ce())},get __asyncResolved(){return R},setup(){const ee=go;if(a_(ee),R)return()=>Og(R,ee);const re=Y=>{M=null,Mc(Y,ee,13,!c)};if(T&&ee.suspense||Mh)return ae().then(Y=>()=>Og(Y,ee)).catch(Y=>(re(Y),()=>c?ai(c,{error:Y}):null));const ue=Us(!1),ce=Us(),Pe=Us(!!p);return p&&setTimeout(()=>{Pe.value=!1},p),o!=null&&setTimeout(()=>{if(!ue.value&&!ce.value){const Y=new Error(`Async component timed out after ${o}ms.`);re(Y),ce.value=Y}},o),ae().then(()=>{ue.value=!0,ee.parent&&gp(ee.parent.vnode)&&ee.parent.update()}).catch(Y=>{re(Y),ce.value=Y}),()=>{if(ue.value&&R)return Og(R,ee);if(ce.value&&c)return ai(c,{error:ce.value});if(a&&!Pe.value)return ai(a)}}})}function Og(t,n){const{ref:a,props:c,children:p,ce:m}=n.vnode,o=ai(t,c,p);return o.ref=a,o.ce=m,delete n.vnode.ce,o}const gp=t=>t.type.__isKeepAlive,bI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:n}){const a=Vo(),c=a.ctx;if(!c.renderer)return()=>{const Pe=n.default&&n.default();return Pe&&Pe.length===1?Pe[0]:Pe};const p=new Map,m=new Set;let o=null;const T=a.suspense,{renderer:{p:E,m:M,um:R,o:{createElement:B}}}=c,W=B("div");c.activate=(Pe,Y,se,Se,Me)=>{const C=Pe.component;M(Pe,Y,se,0,T),E(C.vnode,Pe,Y,se,C,T,Se,Pe.slotScopeIds,Me),Lo(()=>{C.isDeactivated=!1,C.a&&Ih(C.a);const qe=Pe.props&&Pe.props.onVnodeMounted;qe&&za(qe,C.parent,Pe)},T)},c.deactivate=Pe=>{const Y=Pe.component;Wd(Y.m),Wd(Y.a),M(Pe,W,null,1,T),Lo(()=>{Y.da&&Ih(Y.da);const se=Pe.props&&Pe.props.onVnodeUnmounted;se&&za(se,Y.parent,Pe),Y.isDeactivated=!0},T)};function ae(Pe){Dg(Pe),R(Pe,a,T,!0)}function ee(Pe){p.forEach((Y,se)=>{const Se=gy(Y.type);Se&&!Pe(Se)&&re(se)})}function re(Pe){const Y=p.get(Pe);Y&&(!o||!Vs(Y,o))?ae(Y):o&&Dg(o),p.delete(Pe),m.delete(Pe)}Mu(()=>[t.include,t.exclude],([Pe,Y])=>{Pe&&ee(se=>Bf(Pe,se)),Y&&ee(se=>!Bf(Y,se))},{flush:"post",deep:!0});let ue=null;const ce=()=>{ue!=null&&($d(a.subTree.type)?Lo(()=>{p.set(ue,dd(a.subTree))},a.subTree.suspense):p.set(ue,dd(a.subTree)))};return Zh(ce),Om(ce),Dm(()=>{p.forEach(Pe=>{const{subTree:Y,suspense:se}=a,Se=dd(Y);if(Pe.type===Se.type&&Pe.key===Se.key){Dg(Se);const Me=Se.component.da;Me&&Lo(Me,se);return}ae(Pe)})}),()=>{if(ue=null,!n.default)return o=null;const Pe=n.default(),Y=Pe[0];if(Pe.length>1)return o=null,Pe;if(!tu(Y)||!(Y.shapeFlag&4)&&!(Y.shapeFlag&128))return o=null,Y;let se=dd(Y);if(se.type===ao)return o=null,se;const Se=se.type,Me=gy(Ru(se)?se.type.__asyncResolved||{}:Se),{include:C,exclude:qe,max:we}=t;if(C&&(!Me||!Bf(C,Me))||qe&&Me&&Bf(qe,Me))return se.shapeFlag&=-257,o=se,Y;const Xe=se.key==null?Se:se.key,xt=p.get(Xe);return se.el&&(se=yl(se),Y.shapeFlag&128&&(Y.ssContent=se)),ue=Xe,xt?(se.el=xt.el,se.component=xt.component,se.transition&&eu(se,se.transition),se.shapeFlag|=512,m.delete(Xe),m.add(Xe)):(m.add(Xe),we&&m.size>parseInt(we,10)&&re(m.values().next().value)),se.shapeFlag|=256,o=se,$d(Y.type)?Y:se}}},xI=bI;function Bf(t,n){return rr(t)?t.some(a=>Bf(a,n)):Gr(t)?t.split(",").includes(n):N2(t)?(t.lastIndex=0,t.test(n)):!1}function L1(t,n){M1(t,"a",n)}function R1(t,n){M1(t,"da",n)}function M1(t,n,a=go){const c=t.__wdc||(t.__wdc=()=>{let p=a;for(;p;){if(p.isDeactivated)return;p=p.parent}return t()});if(Rm(n,c,a),a){let p=a.parent;for(;p&&p.parent;)gp(p.parent.vnode)&&wI(c,n,a,p),p=p.parent}}function wI(t,n,a,c){const p=Rm(n,t,c,!0);yp(()=>{Gy(c[n],p)},a)}function Dg(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function dd(t){return t.shapeFlag&128?t.ssContent:t}function Rm(t,n,a=go,c=!1){if(a){const p=a[t]||(a[t]=[]),m=n.__weh||(n.__weh=(...o)=>{Bu();const T=Ic(a),E=Cs(n,a,t,o);return T(),Uu(),E});return c?p.unshift(m):p.push(m),m}}const ru=t=>(n,a=go)=>{(!Mh||t==="sp")&&Rm(t,(...c)=>n(...c),a)},Mm=ru("bm"),Zh=ru("m"),O1=ru("bu"),Om=ru("u"),Dm=ru("bum"),yp=ru("um"),D1=ru("sp"),N1=ru("rtg"),z1=ru("rtc");function F1(t,n=go){Rm("ec",t,n)}const s_="components",SI="directives";function TI(t,n){return l_(s_,t,!0,n)||t}const B1=Symbol.for("v-ndc");function EI(t){return Gr(t)?l_(s_,t,!1)||t:t||B1}function CI(t){return l_(SI,t)}function l_(t,n,a=!0,c=!1){const p=_o||go;if(p){const m=p.type;if(t===s_){const T=gy(m,!1);if(T&&(T===n||T===di(n)||T===Rc(di(n))))return m}const o=B0(p[t]||m[t],n)||B0(p.appContext[t],n);return!o&&c?m:o}}function B0(t,n){return t&&(t[n]||t[di(n)]||t[Rc(di(n))])}function AI(t,n,a,c){let p;const m=a&&a[c],o=rr(t);if(o||Gr(t)){const T=o&&Lu(t);let E=!1;T&&(E=!ss(t),t=wm(t)),p=new Array(t.length);for(let M=0,R=t.length;M<R;M++)p[M]=n(E?oa(t[M]):t[M],M,void 0,m&&m[M])}else if(typeof t=="number"){p=new Array(t);for(let T=0;T<t;T++)p[T]=n(T+1,T,void 0,m&&m[T])}else if(Wn(t))if(t[Symbol.iterator])p=Array.from(t,(T,E)=>n(T,E,void 0,m&&m[E]));else{const T=Object.keys(t);p=new Array(T.length);for(let E=0,M=T.length;E<M;E++){const R=T[E];p[E]=n(t[R],R,E,m&&m[E])}}else p=[];return a&&(a[c]=p),p}function II(t,n){for(let a=0;a<n.length;a++){const c=n[a];if(rr(c))for(let p=0;p<c.length;p++)t[c[p].name]=c[p].fn;else c&&(t[c.name]=c.key?(...p)=>{const m=c.fn(...p);return m&&(m.key=c.key),m}:c.fn)}return t}function kI(t,n,a={},c,p){if(_o.ce||_o.parent&&Ru(_o.parent)&&_o.parent.ce)return n!=="default"&&(a.name=n),np(),Gd(oo,null,[ai("slot",a,c&&c())],64);let m=t[n];m&&m._c&&(m._d=!1),np();const o=m&&u_(m(a)),T=a.key||o&&o.key,E=Gd(oo,{key:(T&&!qa(T)?T:`_${n}`)+(!o&&c?"_fb":"")},o||(c?c():[]),o&&t._===1?64:-2);return!p&&E.scopeId&&(E.slotScopeIds=[E.scopeId+"-s"]),m&&m._c&&(m._d=!0),E}function u_(t){return t.some(n=>tu(n)?!(n.type===ao||n.type===oo&&!u_(n.children)):!0)?t:null}function PI(t,n){const a={};for(const c in t)a[n&&/[A-Z]/.test(c)?`on:${c}`:Ah(c)]=t[c];return a}const oy=t=>t?vw(t)?vp(t):oy(t.parent):null,Hf=xn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>oy(t.parent),$root:t=>oy(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>c_(t),$forceUpdate:t=>t.f||(t.f=()=>{r_(t.update)}),$nextTick:t=>t.n||(t.n=km.bind(t.proxy)),$watch:t=>sk.bind(t)}),Ng=(t,n)=>t!==bn&&!t.__isScriptSetup&&Fn(t,n),ay={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:a,setupState:c,data:p,props:m,accessCache:o,type:T,appContext:E}=t;let M;if(n[0]!=="$"){const ae=o[n];if(ae!==void 0)switch(ae){case 1:return c[n];case 2:return p[n];case 4:return a[n];case 3:return m[n]}else{if(Ng(c,n))return o[n]=1,c[n];if(p!==bn&&Fn(p,n))return o[n]=2,p[n];if((M=t.propsOptions[0])&&Fn(M,n))return o[n]=3,m[n];if(a!==bn&&Fn(a,n))return o[n]=4,a[n];sy&&(o[n]=0)}}const R=Hf[n];let B,W;if(R)return n==="$attrs"&&ia(t.attrs,"get",""),R(t);if((B=T.__cssModules)&&(B=B[n]))return B;if(a!==bn&&Fn(a,n))return o[n]=4,a[n];if(W=E.config.globalProperties,Fn(W,n))return W[n]},set({_:t},n,a){const{data:c,setupState:p,ctx:m}=t;return Ng(p,n)?(p[n]=a,!0):c!==bn&&Fn(c,n)?(c[n]=a,!0):Fn(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(m[n]=a,!0)},has({_:{data:t,setupState:n,accessCache:a,ctx:c,appContext:p,propsOptions:m}},o){let T;return!!a[o]||t!==bn&&Fn(t,o)||Ng(n,o)||(T=m[0])&&Fn(T,o)||Fn(c,o)||Fn(Hf,o)||Fn(p.config.globalProperties,o)},defineProperty(t,n,a){return a.get!=null?t._.accessCache[n]=0:Fn(a,"value")&&this.set(t,n,a.value,null),Reflect.defineProperty(t,n,a)}},LI=xn({},ay,{get(t,n){if(n!==Symbol.unscopables)return ay.get(t,n,t)},has(t,n){return n[0]!=="_"&&!q2(n)}});function RI(){return null}function MI(){return null}function OI(t){}function DI(t){}function NI(){return null}function zI(){}function FI(t,n){return null}function BI(){return U1().slots}function UI(){return U1().attrs}function U1(){const t=Vo();return t.setupContext||(t.setupContext=Sw(t))}function tp(t){return rr(t)?t.reduce((n,a)=>(n[a]=null,n),{}):t}function VI(t,n){const a=tp(t);for(const c in n){if(c.startsWith("__skip"))continue;let p=a[c];p?rr(p)||Mr(p)?p=a[c]={type:p,default:n[c]}:p.default=n[c]:p===null&&(p=a[c]={default:n[c]}),p&&n[`__skip_${c}`]&&(p.skipFactory=!0)}return a}function jI(t,n){return!t||!n?t||n:rr(t)&&rr(n)?t.concat(n):xn({},tp(t),tp(n))}function qI(t,n){const a={};for(const c in t)n.includes(c)||Object.defineProperty(a,c,{enumerable:!0,get:()=>t[c]});return a}function HI(t){const n=Vo();let a=t();return py(),Zy(a)&&(a=a.catch(c=>{throw Ic(n),c})),[a,()=>Ic(n)]}let sy=!0;function WI(t){const n=c_(t),a=t.proxy,c=t.ctx;sy=!1,n.beforeCreate&&U0(n.beforeCreate,t,"bc");const{data:p,computed:m,methods:o,watch:T,provide:E,inject:M,created:R,beforeMount:B,mounted:W,beforeUpdate:ae,updated:ee,activated:re,deactivated:ue,beforeDestroy:ce,beforeUnmount:Pe,destroyed:Y,unmounted:se,render:Se,renderTracked:Me,renderTriggered:C,errorCaptured:qe,serverPrefetch:we,expose:Xe,inheritAttrs:xt,components:Ge,directives:tt,filters:Ht}=n;if(M&&$I(M,c,null),o)for(const Jt in o){const Zt=o[Jt];Mr(Zt)&&(c[Jt]=Zt.bind(a))}if(p){const Jt=p.call(a,a);Wn(Jt)&&(t.data=Tm(Jt))}if(sy=!0,m)for(const Jt in m){const Zt=m[Jt],Zr=Mr(Zt)?Zt.bind(a,a):Mr(Zt.get)?Zt.get.bind(a,a):sa,Mn=!Mr(Zt)&&Mr(Zt.set)?Zt.set.bind(a):sa,Kr=Ss({get:Zr,set:Mn});Object.defineProperty(c,Jt,{enumerable:!0,configurable:!0,get:()=>Kr.value,set:Yr=>Kr.value=Yr})}if(T)for(const Jt in T)V1(T[Jt],c,a,Jt);if(E){const Jt=Mr(E)?E.call(a):E;Reflect.ownKeys(Jt).forEach(Zt=>{q1(Zt,Jt[Zt])})}R&&U0(R,t,"c");function Lt(Jt,Zt){rr(Zt)?Zt.forEach(Zr=>Jt(Zr.bind(a))):Zt&&Jt(Zt.bind(a))}if(Lt(Mm,B),Lt(Zh,W),Lt(O1,ae),Lt(Om,ee),Lt(L1,re),Lt(R1,ue),Lt(F1,qe),Lt(z1,Me),Lt(N1,C),Lt(Dm,Pe),Lt(yp,se),Lt(D1,we),rr(Xe))if(Xe.length){const Jt=t.exposed||(t.exposed={});Xe.forEach(Zt=>{Object.defineProperty(Jt,Zt,{get:()=>a[Zt],set:Zr=>a[Zt]=Zr})})}else t.exposed||(t.exposed={});Se&&t.render===sa&&(t.render=Se),xt!=null&&(t.inheritAttrs=xt),Ge&&(t.components=Ge),tt&&(t.directives=tt),we&&a_(t)}function $I(t,n,a=sa){rr(t)&&(t=ly(t));for(const c in t){const p=t[c];let m;Wn(p)?"default"in p?m=Ph(p.from||c,p.default,!0):m=Ph(p.from||c):m=Ph(p),so(m)?Object.defineProperty(n,c,{enumerable:!0,configurable:!0,get:()=>m.value,set:o=>m.value=o}):n[c]=m}}function U0(t,n,a){Cs(rr(t)?t.map(c=>c.bind(n.proxy)):t.bind(n.proxy),n,a)}function V1(t,n,a,c){let p=c.includes(".")?lw(a,c):()=>a[c];if(Gr(t)){const m=n[t];Mr(m)&&Mu(p,m)}else if(Mr(t))Mu(p,t.bind(a));else if(Wn(t))if(rr(t))t.forEach(m=>V1(m,n,a,c));else{const m=Mr(t.handler)?t.handler.bind(a):n[t.handler];Mr(m)&&Mu(p,m,t)}}function c_(t){const n=t.type,{mixins:a,extends:c}=n,{mixins:p,optionsCache:m,config:{optionMergeStrategies:o}}=t.appContext,T=m.get(n);let E;return T?E=T:!p.length&&!a&&!c?E=n:(E={},p.length&&p.forEach(M=>Hd(E,M,o,!0)),Hd(E,n,o)),Wn(n)&&m.set(n,E),E}function Hd(t,n,a,c=!1){const{mixins:p,extends:m}=n;m&&Hd(t,m,a,!0),p&&p.forEach(o=>Hd(t,o,a,!0));for(const o in n)if(!(c&&o==="expose")){const T=GI[o]||a&&a[o];t[o]=T?T(t[o],n[o]):n[o]}return t}const GI={data:V0,props:j0,emits:j0,methods:Uf,computed:Uf,beforeCreate:ma,created:ma,beforeMount:ma,mounted:ma,beforeUpdate:ma,updated:ma,beforeDestroy:ma,beforeUnmount:ma,destroyed:ma,unmounted:ma,activated:ma,deactivated:ma,errorCaptured:ma,serverPrefetch:ma,components:Uf,directives:Uf,watch:XI,provide:V0,inject:ZI};function V0(t,n){return n?t?function(){return xn(Mr(t)?t.call(this,this):t,Mr(n)?n.call(this,this):n)}:n:t}function ZI(t,n){return Uf(ly(t),ly(n))}function ly(t){if(rr(t)){const n={};for(let a=0;a<t.length;a++)n[t[a]]=t[a];return n}return t}function ma(t,n){return t?[...new Set([].concat(t,n))]:n}function Uf(t,n){return t?xn(Object.create(null),t,n):n}function j0(t,n){return t?rr(t)&&rr(n)?[...new Set([...t,...n])]:xn(Object.create(null),tp(t),tp(n??{})):n}function XI(t,n){if(!t)return n;if(!n)return t;const a=xn(Object.create(null),t);for(const c in n)a[c]=ma(t[c],n[c]);return a}function j1(){return{app:null,config:{isNativeTag:Ff,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KI=0;function YI(t,n){return function(c,p=null){Mr(c)||(c=xn({},c)),p!=null&&!Wn(p)&&(p=null);const m=j1(),o=new WeakSet,T=[];let E=!1;const M=m.app={_uid:KI++,_component:c,_props:p,_container:null,_context:m,_instance:null,version:Ew,get config(){return m.config},set config(R){},use(R,...B){return o.has(R)||(R&&Mr(R.install)?(o.add(R),R.install(M,...B)):Mr(R)&&(o.add(R),R(M,...B))),M},mixin(R){return m.mixins.includes(R)||m.mixins.push(R),M},component(R,B){return B?(m.components[R]=B,M):m.components[R]},directive(R,B){return B?(m.directives[R]=B,M):m.directives[R]},mount(R,B,W){if(!E){const ae=M._ceVNode||ai(c,p);return ae.appContext=m,W===!0?W="svg":W===!1&&(W=void 0),B&&n?n(ae,R):t(ae,R,W),E=!0,M._container=R,R.__vue_app__=M,vp(ae.component)}},onUnmount(R){T.push(R)},unmount(){E&&(Cs(T,M._instance,16),t(null,M._container),delete M._container.__vue_app__)},provide(R,B){return m.provides[R]=B,M},runWithContext(R){const B=wc;wc=M;try{return R()}finally{wc=B}}};return M}}let wc=null;function q1(t,n){if(go){let a=go.provides;const c=go.parent&&go.parent.provides;c===a&&(a=go.provides=Object.create(c)),a[t]=n}}function Ph(t,n,a=!1){const c=go||_o;if(c||wc){const p=wc?wc._context.provides:c?c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:void 0;if(p&&t in p)return p[t];if(arguments.length>1)return a&&Mr(n)?n.call(c&&c.proxy):n}}function JI(){return!!(go||_o||wc)}const H1={},W1=()=>Object.create(H1),$1=t=>Object.getPrototypeOf(t)===H1;function QI(t,n,a,c=!1){const p={},m=W1();t.propsDefaults=Object.create(null),G1(t,n,p,m);for(const o in t.propsOptions[0])o in p||(p[o]=void 0);a?t.props=c?p:p1(p):t.type.props?t.props=p:t.props=m,t.attrs=m}function ek(t,n,a,c){const{props:p,attrs:m,vnode:{patchFlag:o}}=t,T=Pn(p),[E]=t.propsOptions;let M=!1;if((c||o>0)&&!(o&16)){if(o&8){const R=t.vnode.dynamicProps;for(let B=0;B<R.length;B++){let W=R[B];if(Nm(t.emitsOptions,W))continue;const ae=n[W];if(E)if(Fn(m,W))ae!==m[W]&&(m[W]=ae,M=!0);else{const ee=di(W);p[ee]=uy(E,T,ee,ae,t,!1)}else ae!==m[W]&&(m[W]=ae,M=!0)}}}else{G1(t,n,p,m)&&(M=!0);let R;for(const B in T)(!n||!Fn(n,B)&&((R=Ba(B))===B||!Fn(n,R)))&&(E?a&&(a[B]!==void 0||a[R]!==void 0)&&(p[B]=uy(E,T,B,void 0,t,!0)):delete p[B]);if(m!==T)for(const B in m)(!n||!Fn(n,B))&&(delete m[B],M=!0)}M&&Zl(t.attrs,"set","")}function G1(t,n,a,c){const[p,m]=t.propsOptions;let o=!1,T;if(n)for(let E in n){if(Pu(E))continue;const M=n[E];let R;p&&Fn(p,R=di(E))?!m||!m.includes(R)?a[R]=M:(T||(T={}))[R]=M:Nm(t.emitsOptions,E)||(!(E in c)||M!==c[E])&&(c[E]=M,o=!0)}if(m){const E=Pn(a),M=T||bn;for(let R=0;R<m.length;R++){const B=m[R];a[B]=uy(p,E,B,M[B],t,!Fn(M,B))}}return o}function uy(t,n,a,c,p,m){const o=t[a];if(o!=null){const T=Fn(o,"default");if(T&&c===void 0){const E=o.default;if(o.type!==Function&&!o.skipFactory&&Mr(E)){const{propsDefaults:M}=p;if(a in M)c=M[a];else{const R=Ic(p);c=M[a]=E.call(null,n),R()}}else c=E;p.ce&&p.ce._setProp(a,c)}o[0]&&(m&&!T?c=!1:o[1]&&(c===""||c===Ba(a))&&(c=!0))}return c}const tk=new WeakMap;function Z1(t,n,a=!1){const c=a?tk:n.propsCache,p=c.get(t);if(p)return p;const m=t.props,o={},T=[];let E=!1;if(!Mr(t)){const R=B=>{E=!0;const[W,ae]=Z1(B,n,!0);xn(o,W),ae&&T.push(...ae)};!a&&n.mixins.length&&n.mixins.forEach(R),t.extends&&R(t.extends),t.mixins&&t.mixins.forEach(R)}if(!m&&!E)return Wn(t)&&c.set(t,Eh),Eh;if(rr(m))for(let R=0;R<m.length;R++){const B=di(m[R]);q0(B)&&(o[B]=bn)}else if(m)for(const R in m){const B=di(R);if(q0(B)){const W=m[R],ae=o[B]=rr(W)||Mr(W)?{type:W}:xn({},W),ee=ae.type;let re=!1,ue=!0;if(rr(ee))for(let ce=0;ce<ee.length;++ce){const Pe=ee[ce],Y=Mr(Pe)&&Pe.name;if(Y==="Boolean"){re=!0;break}else Y==="String"&&(ue=!1)}else re=Mr(ee)&&ee.name==="Boolean";ae[0]=re,ae[1]=ue,(re||Fn(ae,"default"))&&T.push(B)}}const M=[o,T];return Wn(t)&&c.set(t,M),M}function q0(t){return t[0]!=="$"&&!Pu(t)}const X1=t=>t[0]==="_"||t==="$stable",h_=t=>rr(t)?t.map(Fa):[Fa(t)],rk=(t,n,a)=>{if(n._n)return n;const c=n_((...p)=>h_(n(...p)),a);return c._c=!1,c},K1=(t,n,a)=>{const c=t._ctx;for(const p in t){if(X1(p))continue;const m=t[p];if(Mr(m))n[p]=rk(p,m,c);else if(m!=null){const o=h_(m);n[p]=()=>o}}},Y1=(t,n)=>{const a=h_(n);t.slots.default=()=>a},J1=(t,n,a)=>{for(const c in n)(a||c!=="_")&&(t[c]=n[c])},nk=(t,n,a)=>{const c=t.slots=W1();if(t.vnode.shapeFlag&32){const p=n._;p?(J1(c,n,a),a&&Hx(c,"_",p,!0)):K1(n,c)}else n&&Y1(t,n)},ik=(t,n,a)=>{const{vnode:c,slots:p}=t;let m=!0,o=bn;if(c.shapeFlag&32){const T=n._;T?a&&T===1?m=!1:J1(p,n,a):(m=!n.$stable,K1(n,p)),o=n}else n&&(Y1(t,n),o={default:1});if(m)for(const T in p)!X1(T)&&o[T]==null&&delete p[T]},Lo=fw;function Q1(t){return tw(t)}function ew(t){return tw(t,uI)}function tw(t,n){const a=vm();a.__VUE__=!0;const{insert:c,remove:p,patchProp:m,createElement:o,createText:T,createComment:E,setText:M,setElementText:R,parentNode:B,nextSibling:W,setScopeId:ae=sa,insertStaticContent:ee}=t,re=(xe,de,$e,vt=null,bt=null,dt=null,Ft=void 0,le=null,pe=!!de.dynamicChildren)=>{if(xe===de)return;xe&&!Vs(xe,de)&&(vt=On(xe),Yr(xe,bt,dt,!0),xe=null),de.patchFlag===-2&&(pe=!1,de.dynamicChildren=null);const{type:Ne,ref:ht,shapeFlag:wt}=de;switch(Ne){case Jl:ue(xe,de,$e,vt);break;case ao:ce(xe,de,$e,vt);break;case Sc:xe==null&&Pe(de,$e,vt,Ft);break;case oo:Ge(xe,de,$e,vt,bt,dt,Ft,le,pe);break;default:wt&1?Se(xe,de,$e,vt,bt,dt,Ft,le,pe):wt&6?tt(xe,de,$e,vt,bt,dt,Ft,le,pe):(wt&64||wt&128)&&Ne.process(xe,de,$e,vt,bt,dt,Ft,le,pe,sn)}ht!=null&&bt&&qd(ht,xe&&xe.ref,dt,de||xe,!de)},ue=(xe,de,$e,vt)=>{if(xe==null)c(de.el=T(de.children),$e,vt);else{const bt=de.el=xe.el;de.children!==xe.children&&M(bt,de.children)}},ce=(xe,de,$e,vt)=>{xe==null?c(de.el=E(de.children||""),$e,vt):de.el=xe.el},Pe=(xe,de,$e,vt)=>{[xe.el,xe.anchor]=ee(xe.children,de,$e,vt,xe.el,xe.anchor)},Y=({el:xe,anchor:de},$e,vt)=>{let bt;for(;xe&&xe!==de;)bt=W(xe),c(xe,$e,vt),xe=bt;c(de,$e,vt)},se=({el:xe,anchor:de})=>{let $e;for(;xe&&xe!==de;)$e=W(xe),p(xe),xe=$e;p(de)},Se=(xe,de,$e,vt,bt,dt,Ft,le,pe)=>{de.type==="svg"?Ft="svg":de.type==="math"&&(Ft="mathml"),xe==null?Me(de,$e,vt,bt,dt,Ft,le,pe):we(xe,de,bt,dt,Ft,le,pe)},Me=(xe,de,$e,vt,bt,dt,Ft,le)=>{let pe,Ne;const{props:ht,shapeFlag:wt,transition:Ve,dirs:Be}=xe;if(pe=xe.el=o(xe.type,dt,ht&&ht.is,ht),wt&8?R(pe,xe.children):wt&16&&qe(xe.children,pe,null,vt,bt,zg(xe,dt),Ft,le),Be&&ml(xe,null,vt,"created"),C(pe,xe,xe.scopeId,Ft,vt),ht){for(const hr in ht)hr!=="value"&&!Pu(hr)&&m(pe,hr,null,ht[hr],dt,vt);"value"in ht&&m(pe,"value",null,ht.value,dt),(Ne=ht.onVnodeBeforeMount)&&za(Ne,vt,xe)}Be&&ml(xe,null,vt,"beforeMount");const lt=rw(bt,Ve);lt&&Ve.beforeEnter(pe),c(pe,de,$e),((Ne=ht&&ht.onVnodeMounted)||lt||Be)&&Lo(()=>{Ne&&za(Ne,vt,xe),lt&&Ve.enter(pe),Be&&ml(xe,null,vt,"mounted")},bt)},C=(xe,de,$e,vt,bt)=>{if($e&&ae(xe,$e),vt)for(let dt=0;dt<vt.length;dt++)ae(xe,vt[dt]);if(bt){let dt=bt.subTree;if(de===dt||$d(dt.type)&&(dt.ssContent===de||dt.ssFallback===de)){const Ft=bt.vnode;C(xe,Ft,Ft.scopeId,Ft.slotScopeIds,bt.parent)}}},qe=(xe,de,$e,vt,bt,dt,Ft,le,pe=0)=>{for(let Ne=pe;Ne<xe.length;Ne++){const ht=xe[Ne]=le?Iu(xe[Ne]):Fa(xe[Ne]);re(null,ht,de,$e,vt,bt,dt,Ft,le)}},we=(xe,de,$e,vt,bt,dt,Ft)=>{const le=de.el=xe.el;let{patchFlag:pe,dynamicChildren:Ne,dirs:ht}=de;pe|=xe.patchFlag&16;const wt=xe.props||bn,Ve=de.props||bn;let Be;if($e&&fc($e,!1),(Be=Ve.onVnodeBeforeUpdate)&&za(Be,$e,de,xe),ht&&ml(de,xe,$e,"beforeUpdate"),$e&&fc($e,!0),(wt.innerHTML&&Ve.innerHTML==null||wt.textContent&&Ve.textContent==null)&&R(le,""),Ne?Xe(xe.dynamicChildren,Ne,le,$e,vt,zg(de,bt),dt):Ft||Zt(xe,de,le,null,$e,vt,zg(de,bt),dt,!1),pe>0){if(pe&16)xt(le,wt,Ve,$e,bt);else if(pe&2&&wt.class!==Ve.class&&m(le,"class",null,Ve.class,bt),pe&4&&m(le,"style",wt.style,Ve.style,bt),pe&8){const lt=de.dynamicProps;for(let hr=0;hr<lt.length;hr++){const pr=lt[hr],wn=wt[pr],Sn=Ve[pr];(Sn!==wn||pr==="value")&&m(le,pr,wn,Sn,bt,$e)}}pe&1&&xe.children!==de.children&&R(le,de.children)}else!Ft&&Ne==null&&xt(le,wt,Ve,$e,bt);((Be=Ve.onVnodeUpdated)||ht)&&Lo(()=>{Be&&za(Be,$e,de,xe),ht&&ml(de,xe,$e,"updated")},vt)},Xe=(xe,de,$e,vt,bt,dt,Ft)=>{for(let le=0;le<de.length;le++){const pe=xe[le],Ne=de[le],ht=pe.el&&(pe.type===oo||!Vs(pe,Ne)||pe.shapeFlag&70)?B(pe.el):$e;re(pe,Ne,ht,null,vt,bt,dt,Ft,!0)}},xt=(xe,de,$e,vt,bt)=>{if(de!==$e){if(de!==bn)for(const dt in de)!Pu(dt)&&!(dt in $e)&&m(xe,dt,de[dt],null,bt,vt);for(const dt in $e){if(Pu(dt))continue;const Ft=$e[dt],le=de[dt];Ft!==le&&dt!=="value"&&m(xe,dt,le,Ft,bt,vt)}"value"in $e&&m(xe,"value",de.value,$e.value,bt)}},Ge=(xe,de,$e,vt,bt,dt,Ft,le,pe)=>{const Ne=de.el=xe?xe.el:T(""),ht=de.anchor=xe?xe.anchor:T("");let{patchFlag:wt,dynamicChildren:Ve,slotScopeIds:Be}=de;Be&&(le=le?le.concat(Be):Be),xe==null?(c(Ne,$e,vt),c(ht,$e,vt),qe(de.children||[],$e,ht,bt,dt,Ft,le,pe)):wt>0&&wt&64&&Ve&&xe.dynamicChildren?(Xe(xe.dynamicChildren,Ve,$e,bt,dt,Ft,le),(de.key!=null||bt&&de===bt.subTree)&&f_(xe,de,!0)):Zt(xe,de,$e,ht,bt,dt,Ft,le,pe)},tt=(xe,de,$e,vt,bt,dt,Ft,le,pe)=>{de.slotScopeIds=le,xe==null?de.shapeFlag&512?bt.ctx.activate(de,$e,vt,Ft,pe):Ht(de,$e,vt,bt,dt,Ft,pe):fr(xe,de,pe)},Ht=(xe,de,$e,vt,bt,dt,Ft)=>{const le=xe.component=_w(xe,vt,bt);if(gp(xe)&&(le.ctx.renderer=sn),bw(le,!1,Ft),le.asyncDep){if(bt&&bt.registerDep(le,Lt,Ft),!xe.el){const pe=le.subTree=ai(ao);ce(null,pe,de,$e)}}else Lt(le,xe,de,$e,bt,dt,Ft)},fr=(xe,de,$e)=>{const vt=de.component=xe.component;if(pk(xe,de,$e))if(vt.asyncDep&&!vt.asyncResolved){Jt(vt,de,$e);return}else vt.next=de,vt.update();else de.el=xe.el,vt.vnode=de},Lt=(xe,de,$e,vt,bt,dt,Ft)=>{const le=()=>{if(xe.isMounted){let{next:wt,bu:Ve,u:Be,parent:lt,vnode:hr}=xe;{const pn=nw(xe);if(pn){wt&&(wt.el=hr.el,Jt(xe,wt,Ft)),pn.asyncDep.then(()=>{xe.isUnmounted||le()});return}}let pr=wt,wn;fc(xe,!1),wt?(wt.el=hr.el,Jt(xe,wt,Ft)):wt=hr,Ve&&Ih(Ve),(wn=wt.props&&wt.props.onVnodeBeforeUpdate)&&za(wn,lt,wt,hr),fc(xe,!0);const Sn=Sd(xe),Ln=xe.subTree;xe.subTree=Sn,re(Ln,Sn,B(Ln.el),On(Ln),xe,bt,dt),wt.el=Sn.el,pr===null&&p_(xe,Sn.el),Be&&Lo(Be,bt),(wn=wt.props&&wt.props.onVnodeUpdated)&&Lo(()=>za(wn,lt,wt,hr),bt)}else{let wt;const{el:Ve,props:Be}=de,{bm:lt,m:hr,parent:pr,root:wn,type:Sn}=xe,Ln=Ru(de);if(fc(xe,!1),lt&&Ih(lt),!Ln&&(wt=Be&&Be.onVnodeBeforeMount)&&za(wt,pr,de),fc(xe,!0),Ve&&_n){const pn=()=>{xe.subTree=Sd(xe),_n(Ve,xe.subTree,xe,bt,null)};Ln&&Sn.__asyncHydrate?Sn.__asyncHydrate(Ve,xe,pn):pn()}else{wn.ce&&wn.ce._injectChildStyle(Sn);const pn=xe.subTree=Sd(xe);re(null,pn,$e,vt,xe,bt,dt),de.el=pn.el}if(hr&&Lo(hr,bt),!Ln&&(wt=Be&&Be.onVnodeMounted)){const pn=de;Lo(()=>za(wt,pr,pn),bt)}(de.shapeFlag&256||pr&&Ru(pr.vnode)&&pr.vnode.shapeFlag&256)&&xe.a&&Lo(xe.a,bt),xe.isMounted=!0,de=$e=vt=null}};xe.scope.on();const pe=xe.effect=new Kf(le);xe.scope.off();const Ne=xe.update=pe.run.bind(pe),ht=xe.job=pe.runIfDirty.bind(pe);ht.i=xe,ht.id=xe.uid,pe.scheduler=()=>r_(ht),fc(xe,!0),Ne()},Jt=(xe,de,$e)=>{de.component=xe;const vt=xe.vnode.props;xe.vnode=de,xe.next=null,ek(xe,de.props,vt,$e),ik(xe,de.children,$e),Bu(),M0(xe),Uu()},Zt=(xe,de,$e,vt,bt,dt,Ft,le,pe=!1)=>{const Ne=xe&&xe.children,ht=xe?xe.shapeFlag:0,wt=de.children,{patchFlag:Ve,shapeFlag:Be}=de;if(Ve>0){if(Ve&128){Mn(Ne,wt,$e,vt,bt,dt,Ft,le,pe);return}else if(Ve&256){Zr(Ne,wt,$e,vt,bt,dt,Ft,le,pe);return}}Be&8?(ht&16&&En(Ne,bt,dt),wt!==Ne&&R($e,wt)):ht&16?Be&16?Mn(Ne,wt,$e,vt,bt,dt,Ft,le,pe):En(Ne,bt,dt,!0):(ht&8&&R($e,""),Be&16&&qe(wt,$e,vt,bt,dt,Ft,le,pe))},Zr=(xe,de,$e,vt,bt,dt,Ft,le,pe)=>{xe=xe||Eh,de=de||Eh;const Ne=xe.length,ht=de.length,wt=Math.min(Ne,ht);let Ve;for(Ve=0;Ve<wt;Ve++){const Be=de[Ve]=pe?Iu(de[Ve]):Fa(de[Ve]);re(xe[Ve],Be,$e,null,bt,dt,Ft,le,pe)}Ne>ht?En(xe,bt,dt,!0,!1,wt):qe(de,$e,vt,bt,dt,Ft,le,pe,wt)},Mn=(xe,de,$e,vt,bt,dt,Ft,le,pe)=>{let Ne=0;const ht=de.length;let wt=xe.length-1,Ve=ht-1;for(;Ne<=wt&&Ne<=Ve;){const Be=xe[Ne],lt=de[Ne]=pe?Iu(de[Ne]):Fa(de[Ne]);if(Vs(Be,lt))re(Be,lt,$e,null,bt,dt,Ft,le,pe);else break;Ne++}for(;Ne<=wt&&Ne<=Ve;){const Be=xe[wt],lt=de[Ve]=pe?Iu(de[Ve]):Fa(de[Ve]);if(Vs(Be,lt))re(Be,lt,$e,null,bt,dt,Ft,le,pe);else break;wt--,Ve--}if(Ne>wt){if(Ne<=Ve){const Be=Ve+1,lt=Be<ht?de[Be].el:vt;for(;Ne<=Ve;)re(null,de[Ne]=pe?Iu(de[Ne]):Fa(de[Ne]),$e,lt,bt,dt,Ft,le,pe),Ne++}}else if(Ne>Ve)for(;Ne<=wt;)Yr(xe[Ne],bt,dt,!0),Ne++;else{const Be=Ne,lt=Ne,hr=new Map;for(Ne=lt;Ne<=Ve;Ne++){const si=de[Ne]=pe?Iu(de[Ne]):Fa(de[Ne]);si.key!=null&&hr.set(si.key,Ne)}let pr,wn=0;const Sn=Ve-lt+1;let Ln=!1,pn=0;const ei=new Array(Sn);for(Ne=0;Ne<Sn;Ne++)ei[Ne]=0;for(Ne=Be;Ne<=wt;Ne++){const si=xe[Ne];if(wn>=Sn){Yr(si,bt,dt,!0);continue}let li;if(si.key!=null)li=hr.get(si.key);else for(pr=lt;pr<=Ve;pr++)if(ei[pr-lt]===0&&Vs(si,de[pr])){li=pr;break}li===void 0?Yr(si,bt,dt,!0):(ei[li-lt]=Ne+1,li>=pn?pn=li:Ln=!0,re(si,de[li],$e,null,bt,dt,Ft,le,pe),wn++)}const Hi=Ln?ok(ei):Eh;for(pr=Hi.length-1,Ne=Sn-1;Ne>=0;Ne--){const si=lt+Ne,li=de[si],ba=si+1<ht?de[si+1].el:vt;ei[Ne]===0?re(null,li,$e,ba,bt,dt,Ft,le,pe):Ln&&(pr<0||Ne!==Hi[pr]?Kr(li,$e,ba,2):pr--)}}},Kr=(xe,de,$e,vt,bt=null)=>{const{el:dt,type:Ft,transition:le,children:pe,shapeFlag:Ne}=xe;if(Ne&6){Kr(xe.component.subTree,de,$e,vt);return}if(Ne&128){xe.suspense.move(de,$e,vt);return}if(Ne&64){Ft.move(xe,de,$e,sn);return}if(Ft===oo){c(dt,de,$e);for(let wt=0;wt<pe.length;wt++)Kr(pe[wt],de,$e,vt);c(xe.anchor,de,$e);return}if(Ft===Sc){Y(xe,de,$e);return}if(vt!==2&&Ne&1&&le)if(vt===0)le.beforeEnter(dt),c(dt,de,$e),Lo(()=>le.enter(dt),bt);else{const{leave:wt,delayLeave:Ve,afterLeave:Be}=le,lt=()=>c(dt,de,$e),hr=()=>{wt(dt,()=>{lt(),Be&&Be()})};Ve?Ve(dt,lt,hr):hr()}else c(dt,de,$e)},Yr=(xe,de,$e,vt=!1,bt=!1)=>{const{type:dt,props:Ft,ref:le,children:pe,dynamicChildren:Ne,shapeFlag:ht,patchFlag:wt,dirs:Ve,cacheIndex:Be}=xe;if(wt===-2&&(bt=!1),le!=null&&qd(le,null,$e,xe,!0),Be!=null&&(de.renderCache[Be]=void 0),ht&256){de.ctx.deactivate(xe);return}const lt=ht&1&&Ve,hr=!Ru(xe);let pr;if(hr&&(pr=Ft&&Ft.onVnodeBeforeUnmount)&&za(pr,de,xe),ht&6)gn(xe.component,$e,vt);else{if(ht&128){xe.suspense.unmount($e,vt);return}lt&&ml(xe,null,de,"beforeUnmount"),ht&64?xe.type.remove(xe,de,$e,sn,vt):Ne&&!Ne.hasOnce&&(dt!==oo||wt>0&&wt&64)?En(Ne,de,$e,!1,!0):(dt===oo&&wt&384||!bt&&ht&16)&&En(pe,de,$e),vt&&mi(xe)}(hr&&(pr=Ft&&Ft.onVnodeUnmounted)||lt)&&Lo(()=>{pr&&za(pr,de,xe),lt&&ml(xe,null,de,"unmounted")},$e)},mi=xe=>{const{type:de,el:$e,anchor:vt,transition:bt}=xe;if(de===oo){Ti($e,vt);return}if(de===Sc){se(xe);return}const dt=()=>{p($e),bt&&!bt.persisted&&bt.afterLeave&&bt.afterLeave()};if(xe.shapeFlag&1&&bt&&!bt.persisted){const{leave:Ft,delayLeave:le}=bt,pe=()=>Ft($e,dt);le?le(xe.el,dt,pe):pe()}else dt()},Ti=(xe,de)=>{let $e;for(;xe!==de;)$e=W(xe),p(xe),xe=$e;p(de)},gn=(xe,de,$e)=>{const{bum:vt,scope:bt,job:dt,subTree:Ft,um:le,m:pe,a:Ne}=xe;Wd(pe),Wd(Ne),vt&&Ih(vt),bt.stop(),dt&&(dt.flags|=8,Yr(Ft,xe,de,$e)),le&&Lo(le,de),Lo(()=>{xe.isUnmounted=!0},de),de&&de.pendingBranch&&!de.isUnmounted&&xe.asyncDep&&!xe.asyncResolved&&xe.suspenseId===de.pendingId&&(de.deps--,de.deps===0&&de.resolve())},En=(xe,de,$e,vt=!1,bt=!1,dt=0)=>{for(let Ft=dt;Ft<xe.length;Ft++)Yr(xe[Ft],de,$e,vt,bt)},On=xe=>{if(xe.shapeFlag&6)return On(xe.component.subTree);if(xe.shapeFlag&128)return xe.suspense.next();const de=W(xe.anchor||xe.el),$e=de&&de[T1];return $e?W($e):de};let Qn=!1;const Cr=(xe,de,$e)=>{xe==null?de._vnode&&Yr(de._vnode,null,null,!0):re(de._vnode||null,xe,de,null,null,null,$e),de._vnode=xe,Qn||(Qn=!0,M0(),jd(),Qn=!1)},sn={p:re,um:Yr,m:Kr,r:mi,mt:Ht,mc:qe,pc:Zt,pbc:Xe,n:On,o:t};let Mi,_n;return n&&([Mi,_n]=n(sn)),{render:Cr,hydrate:Mi,createApp:YI(Cr,Mi)}}function zg({type:t,props:n},a){return a==="svg"&&t==="foreignObject"||a==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:a}function fc({effect:t,job:n},a){a?(t.flags|=32,n.flags|=4):(t.flags&=-33,n.flags&=-5)}function rw(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function f_(t,n,a=!1){const c=t.children,p=n.children;if(rr(c)&&rr(p))for(let m=0;m<c.length;m++){const o=c[m];let T=p[m];T.shapeFlag&1&&!T.dynamicChildren&&((T.patchFlag<=0||T.patchFlag===32)&&(T=p[m]=Iu(p[m]),T.el=o.el),!a&&T.patchFlag!==-2&&f_(o,T)),T.type===Jl&&(T.el=o.el)}}function ok(t){const n=t.slice(),a=[0];let c,p,m,o,T;const E=t.length;for(c=0;c<E;c++){const M=t[c];if(M!==0){if(p=a[a.length-1],t[p]<M){n[c]=p,a.push(c);continue}for(m=0,o=a.length-1;m<o;)T=m+o>>1,t[a[T]]<M?m=T+1:o=T;M<t[a[m]]&&(m>0&&(n[c]=a[m-1]),a[m]=c)}}for(m=a.length,o=a[m-1];m-- >0;)a[m]=o,o=n[o];return a}function nw(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:nw(n)}function Wd(t){if(t)for(let n=0;n<t.length;n++)t[n].flags|=8}const iw=Symbol.for("v-scx"),ow=()=>Ph(iw);function ak(t,n){return _p(t,null,n)}function aw(t,n){return _p(t,null,{flush:"post"})}function sw(t,n){return _p(t,null,{flush:"sync"})}function Mu(t,n,a){return _p(t,n,a)}function _p(t,n,a=bn){const{immediate:c,deep:p,flush:m,once:o}=a,T=xn({},a),E=n&&c||!n&&m!=="post";let M;if(Mh){if(m==="sync"){const ae=ow();M=ae.__watcherHandles||(ae.__watcherHandles=[])}else if(!E){const ae=()=>{};return ae.stop=sa,ae.resume=sa,ae.pause=sa,ae}}const R=go;T.call=(ae,ee,re)=>Cs(ae,R,ee,re);let B=!1;m==="post"?T.scheduler=ae=>{Lo(ae,R&&R.suspense)}:m!=="sync"&&(B=!0,T.scheduler=(ae,ee)=>{ee?ae():r_(ae)}),T.augmentJob=ae=>{n&&(ae.flags|=4),B&&(ae.flags|=2,R&&(ae.id=R.uid,ae.i=R))};const W=jA(t,n,T);return Mh&&(M?M.push(W):E&&W()),W}function sk(t,n,a){const c=this.proxy,p=Gr(t)?t.includes(".")?lw(c,t):()=>c[t]:t.bind(c,c);let m;Mr(n)?m=n:(m=n.handler,a=n);const o=Ic(this),T=_p(p,m.bind(c),a);return o(),T}function lw(t,n){const a=n.split(".");return()=>{let c=t;for(let p=0;p<a.length&&c;p++)c=c[a[p]];return c}}function lk(t,n,a=bn){const c=Vo(),p=di(n),m=Ba(n),o=uw(t,p),T=g1((E,M)=>{let R,B=bn,W;return sw(()=>{const ae=t[p];_a(R,ae)&&(R=ae,M())}),{get(){return E(),a.get?a.get(R):R},set(ae){const ee=a.set?a.set(ae):ae;if(!_a(ee,R)&&!(B!==bn&&_a(ae,B)))return;const re=c.vnode.props;re&&(n in re||p in re||m in re)&&(`onUpdate:${n}`in re||`onUpdate:${p}`in re||`onUpdate:${m}`in re)||(R=ae,M()),c.emit(`update:${n}`,ee),_a(ae,ee)&&_a(ae,B)&&!_a(ee,W)&&M(),B=ae,W=ee}}});return T[Symbol.iterator]=()=>{let E=0;return{next(){return E<2?{value:E++?o||bn:T,done:!1}:{done:!0}}}},T}const uw=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${di(n)}Modifiers`]||t[`${Ba(n)}Modifiers`];function uk(t,n,...a){if(t.isUnmounted)return;const c=t.vnode.props||bn;let p=a;const m=n.startsWith("update:"),o=m&&uw(c,n.slice(7));o&&(o.trim&&(p=a.map(R=>Gr(R)?R.trim():R)),o.number&&(p=a.map(Nd)));let T,E=c[T=Ah(n)]||c[T=Ah(di(n))];!E&&m&&(E=c[T=Ah(Ba(n))]),E&&Cs(E,t,6,p);const M=c[T+"Once"];if(M){if(!t.emitted)t.emitted={};else if(t.emitted[T])return;t.emitted[T]=!0,Cs(M,t,6,p)}}function cw(t,n,a=!1){const c=n.emitsCache,p=c.get(t);if(p!==void 0)return p;const m=t.emits;let o={},T=!1;if(!Mr(t)){const E=M=>{const R=cw(M,n,!0);R&&(T=!0,xn(o,R))};!a&&n.mixins.length&&n.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}return!m&&!T?(Wn(t)&&c.set(t,null),null):(rr(m)?m.forEach(E=>o[E]=null):xn(o,m),Wn(t)&&c.set(t,o),o)}function Nm(t,n){return!t||!Pc(n)?!1:(n=n.slice(2).replace(/Once$/,""),Fn(t,n[0].toLowerCase()+n.slice(1))||Fn(t,Ba(n))||Fn(t,n))}function Sd(t){const{type:n,vnode:a,proxy:c,withProxy:p,propsOptions:[m],slots:o,attrs:T,emit:E,render:M,renderCache:R,props:B,data:W,setupState:ae,ctx:ee,inheritAttrs:re}=t,ue=ep(t);let ce,Pe;try{if(a.shapeFlag&4){const se=p||c,Se=se;ce=Fa(M.call(Se,se,R,B,ae,W,ee)),Pe=T}else{const se=n;ce=Fa(se.length>1?se(B,{attrs:T,slots:o,emit:E}):se(B,null)),Pe=n.props?T:hk(T)}}catch(se){Wf.length=0,Mc(se,t,1),ce=ai(ao)}let Y=ce;if(Pe&&re!==!1){const se=Object.keys(Pe),{shapeFlag:Se}=Y;se.length&&Se&7&&(m&&se.some($y)&&(Pe=fk(Pe,m)),Y=yl(Y,Pe,!1,!0))}return a.dirs&&(Y=yl(Y,null,!1,!0),Y.dirs=Y.dirs?Y.dirs.concat(a.dirs):a.dirs),a.transition&&eu(Y,a.transition),ce=Y,ep(ue),ce}function ck(t,n=!0){let a;for(let c=0;c<t.length;c++){const p=t[c];if(tu(p)){if(p.type!==ao||p.children==="v-if"){if(a)return;a=p}}else return}return a}const hk=t=>{let n;for(const a in t)(a==="class"||a==="style"||Pc(a))&&((n||(n={}))[a]=t[a]);return n},fk=(t,n)=>{const a={};for(const c in t)(!$y(c)||!(c.slice(9)in n))&&(a[c]=t[c]);return a};function pk(t,n,a){const{props:c,children:p,component:m}=t,{props:o,children:T,patchFlag:E}=n,M=m.emitsOptions;if(n.dirs||n.transition)return!0;if(a&&E>=0){if(E&1024)return!0;if(E&16)return c?H0(c,o,M):!!o;if(E&8){const R=n.dynamicProps;for(let B=0;B<R.length;B++){const W=R[B];if(o[W]!==c[W]&&!Nm(M,W))return!0}}}else return(p||T)&&(!T||!T.$stable)?!0:c===o?!1:c?o?H0(c,o,M):!0:!!o;return!1}function H0(t,n,a){const c=Object.keys(n);if(c.length!==Object.keys(t).length)return!0;for(let p=0;p<c.length;p++){const m=c[p];if(n[m]!==t[m]&&!Nm(a,m))return!0}return!1}function p_({vnode:t,parent:n},a){for(;n;){const c=n.subTree;if(c.suspense&&c.suspense.activeBranch===t&&(c.el=t.el),c===t)(t=n.vnode).el=a,n=n.parent;else break}}const $d=t=>t.__isSuspense;let cy=0;const dk={name:"Suspense",__isSuspense:!0,process(t,n,a,c,p,m,o,T,E,M){if(t==null)gk(n,a,c,p,m,o,T,E,M);else{if(m&&m.deps>0&&!t.suspense.isInFallback){n.suspense=t.suspense,n.suspense.vnode=n,n.el=t.el;return}yk(t,n,a,c,p,o,T,E,M)}},hydrate:_k,normalize:vk},mk=dk;function rp(t,n){const a=t.props&&t.props[n];Mr(a)&&a()}function gk(t,n,a,c,p,m,o,T,E){const{p:M,o:{createElement:R}}=E,B=R("div"),W=t.suspense=hw(t,p,c,n,B,a,m,o,T,E);M(null,W.pendingBranch=t.ssContent,B,null,c,W,m,o),W.deps>0?(rp(t,"onPending"),rp(t,"onFallback"),M(null,t.ssFallback,n,a,c,null,m,o),Lh(W,t.ssFallback)):W.resolve(!1,!0)}function yk(t,n,a,c,p,m,o,T,{p:E,um:M,o:{createElement:R}}){const B=n.suspense=t.suspense;B.vnode=n,n.el=t.el;const W=n.ssContent,ae=n.ssFallback,{activeBranch:ee,pendingBranch:re,isInFallback:ue,isHydrating:ce}=B;if(re)B.pendingBranch=W,Vs(W,re)?(E(re,W,B.hiddenContainer,null,p,B,m,o,T),B.deps<=0?B.resolve():ue&&(ce||(E(ee,ae,a,c,p,null,m,o,T),Lh(B,ae)))):(B.pendingId=cy++,ce?(B.isHydrating=!1,B.activeBranch=re):M(re,p,B),B.deps=0,B.effects.length=0,B.hiddenContainer=R("div"),ue?(E(null,W,B.hiddenContainer,null,p,B,m,o,T),B.deps<=0?B.resolve():(E(ee,ae,a,c,p,null,m,o,T),Lh(B,ae))):ee&&Vs(W,ee)?(E(ee,W,a,c,p,B,m,o,T),B.resolve(!0)):(E(null,W,B.hiddenContainer,null,p,B,m,o,T),B.deps<=0&&B.resolve()));else if(ee&&Vs(W,ee))E(ee,W,a,c,p,B,m,o,T),Lh(B,W);else if(rp(n,"onPending"),B.pendingBranch=W,W.shapeFlag&512?B.pendingId=W.component.suspenseId:B.pendingId=cy++,E(null,W,B.hiddenContainer,null,p,B,m,o,T),B.deps<=0)B.resolve();else{const{timeout:Pe,pendingId:Y}=B;Pe>0?setTimeout(()=>{B.pendingId===Y&&B.fallback(ae)},Pe):Pe===0&&B.fallback(ae)}}function hw(t,n,a,c,p,m,o,T,E,M,R=!1){const{p:B,m:W,um:ae,n:ee,o:{parentNode:re,remove:ue}}=M;let ce;const Pe=bk(t);Pe&&n&&n.pendingBranch&&(ce=n.pendingId,n.deps++);const Y=t.props?zd(t.props.timeout):void 0,se=m,Se={vnode:t,parent:n,parentComponent:a,namespace:o,container:c,hiddenContainer:p,deps:0,pendingId:cy++,timeout:typeof Y=="number"?Y:-1,activeBranch:null,pendingBranch:null,isInFallback:!R,isHydrating:R,isUnmounted:!1,effects:[],resolve(Me=!1,C=!1){const{vnode:qe,activeBranch:we,pendingBranch:Xe,pendingId:xt,effects:Ge,parentComponent:tt,container:Ht}=Se;let fr=!1;Se.isHydrating?Se.isHydrating=!1:Me||(fr=we&&Xe.transition&&Xe.transition.mode==="out-in",fr&&(we.transition.afterLeave=()=>{xt===Se.pendingId&&(W(Xe,Ht,m===se?ee(we):m,0),Vd(Ge))}),we&&(re(we.el)===Ht&&(m=ee(we)),ae(we,tt,Se,!0)),fr||W(Xe,Ht,m,0)),Lh(Se,Xe),Se.pendingBranch=null,Se.isInFallback=!1;let Lt=Se.parent,Jt=!1;for(;Lt;){if(Lt.pendingBranch){Lt.effects.push(...Ge),Jt=!0;break}Lt=Lt.parent}!Jt&&!fr&&Vd(Ge),Se.effects=[],Pe&&n&&n.pendingBranch&&ce===n.pendingId&&(n.deps--,n.deps===0&&!C&&n.resolve()),rp(qe,"onResolve")},fallback(Me){if(!Se.pendingBranch)return;const{vnode:C,activeBranch:qe,parentComponent:we,container:Xe,namespace:xt}=Se;rp(C,"onFallback");const Ge=ee(qe),tt=()=>{Se.isInFallback&&(B(null,Me,Xe,Ge,we,null,xt,T,E),Lh(Se,Me))},Ht=Me.transition&&Me.transition.mode==="out-in";Ht&&(qe.transition.afterLeave=tt),Se.isInFallback=!0,ae(qe,we,null,!0),Ht||tt()},move(Me,C,qe){Se.activeBranch&&W(Se.activeBranch,Me,C,qe),Se.container=Me},next(){return Se.activeBranch&&ee(Se.activeBranch)},registerDep(Me,C,qe){const we=!!Se.pendingBranch;we&&Se.deps++;const Xe=Me.vnode.el;Me.asyncDep.catch(xt=>{Mc(xt,Me,0)}).then(xt=>{if(Me.isUnmounted||Se.isUnmounted||Se.pendingId!==Me.suspenseId)return;Me.asyncResolved=!0;const{vnode:Ge}=Me;dy(Me,xt,!1),Xe&&(Ge.el=Xe);const tt=!Xe&&Me.subTree.el;C(Me,Ge,re(Xe||Me.subTree.el),Xe?null:ee(Me.subTree),Se,o,qe),tt&&ue(tt),p_(Me,Ge.el),we&&--Se.deps===0&&Se.resolve()})},unmount(Me,C){Se.isUnmounted=!0,Se.activeBranch&&ae(Se.activeBranch,a,Me,C),Se.pendingBranch&&ae(Se.pendingBranch,a,Me,C)}};return Se}function _k(t,n,a,c,p,m,o,T,E){const M=n.suspense=hw(n,c,a,t.parentNode,document.createElement("div"),null,p,m,o,T,!0),R=E(t,M.pendingBranch=n.ssContent,a,M,m,o);return M.deps===0&&M.resolve(!1,!0),R}function vk(t){const{shapeFlag:n,children:a}=t,c=n&32;t.ssContent=W0(c?a.default:a),t.ssFallback=c?W0(a.fallback):ai(ao)}function W0(t){let n;if(Mr(t)){const a=Ac&&t._c;a&&(t._d=!1,np()),t=t(),a&&(t._d=!0,n=aa,pw())}return rr(t)&&(t=ck(t)),t=Fa(t),n&&!t.dynamicChildren&&(t.dynamicChildren=n.filter(a=>a!==t)),t}function fw(t,n){n&&n.pendingBranch?rr(t)?n.effects.push(...t):n.effects.push(t):Vd(t)}function Lh(t,n){t.activeBranch=n;const{vnode:a,parentComponent:c}=t;let p=n.el;for(;!p&&n.component;)n=n.component.subTree,p=n.el;a.el=p,c&&c.subTree===a&&(c.vnode.el=p,p_(c,p))}function bk(t){const n=t.props&&t.props.suspensible;return n!=null&&n!==!1}const oo=Symbol.for("v-fgt"),Jl=Symbol.for("v-txt"),ao=Symbol.for("v-cmt"),Sc=Symbol.for("v-stc"),Wf=[];let aa=null;function np(t=!1){Wf.push(aa=t?null:[])}function pw(){Wf.pop(),aa=Wf[Wf.length-1]||null}let Ac=1;function hy(t){Ac+=t,t<0&&aa&&(aa.hasOnce=!0)}function dw(t){return t.dynamicChildren=Ac>0?aa||Eh:null,pw(),Ac>0&&aa&&aa.push(t),t}function xk(t,n,a,c,p,m){return dw(d_(t,n,a,c,p,m,!0))}function Gd(t,n,a,c,p){return dw(ai(t,n,a,c,p,!0))}function tu(t){return t?t.__v_isVNode===!0:!1}function Vs(t,n){return t.type===n.type&&t.key===n.key}function wk(t){}const mw=({key:t})=>t??null,Td=({ref:t,ref_key:n,ref_for:a})=>(typeof t=="number"&&(t=""+t),t!=null?Gr(t)||so(t)||Mr(t)?{i:_o,r:t,k:n,f:!!a}:t:null);function d_(t,n=null,a=null,c=0,p=null,m=t===oo?0:1,o=!1,T=!1){const E={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&mw(n),ref:n&&Td(n),scopeId:Pm,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:m,patchFlag:c,dynamicProps:p,dynamicChildren:null,appContext:null,ctx:_o};return T?(g_(E,a),m&128&&t.normalize(E)):a&&(E.shapeFlag|=Gr(a)?8:16),Ac>0&&!o&&aa&&(E.patchFlag>0||m&6)&&E.patchFlag!==32&&aa.push(E),E}const ai=Sk;function Sk(t,n=null,a=null,c=0,p=null,m=!1){if((!t||t===B1)&&(t=ao),tu(t)){const T=yl(t,n,!0);return a&&g_(T,a),Ac>0&&!m&&aa&&(T.shapeFlag&6?aa[aa.indexOf(t)]=T:aa.push(T)),T.patchFlag=-2,T}if(Lk(t)&&(t=t.__vccOpts),n){n=gw(n);let{class:T,style:E}=n;T&&!Gr(T)&&(n.class=mp(T)),Wn(E)&&(Cm(E)&&!rr(E)&&(E=xn({},E)),n.style=dp(E))}const o=Gr(t)?1:$d(t)?128:E1(t)?64:Wn(t)?4:Mr(t)?2:0;return d_(t,n,a,c,p,o,m,!0)}function gw(t){return t?Cm(t)||$1(t)?xn({},t):t:null}function yl(t,n,a=!1,c=!1){const{props:p,ref:m,patchFlag:o,children:T,transition:E}=t,M=n?yw(p||{},n):p,R={__v_isVNode:!0,__v_skip:!0,type:t.type,props:M,key:M&&mw(M),ref:n&&n.ref?a&&m?rr(m)?m.concat(Td(n)):[m,Td(n)]:Td(n):m,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:T,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==oo?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:E,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yl(t.ssContent),ssFallback:t.ssFallback&&yl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return E&&c&&eu(R,E.clone(R)),R}function m_(t=" ",n=0){return ai(Jl,null,t,n)}function Tk(t,n){const a=ai(Sc,null,t);return a.staticCount=n,a}function Ek(t="",n=!1){return n?(np(),Gd(ao,null,t)):ai(ao,null,t)}function Fa(t){return t==null||typeof t=="boolean"?ai(ao):rr(t)?ai(oo,null,t.slice()):tu(t)?Iu(t):ai(Jl,null,String(t))}function Iu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yl(t)}function g_(t,n){let a=0;const{shapeFlag:c}=t;if(n==null)n=null;else if(rr(n))a=16;else if(typeof n=="object")if(c&65){const p=n.default;p&&(p._c&&(p._d=!1),g_(t,p()),p._c&&(p._d=!0));return}else{a=32;const p=n._;!p&&!$1(n)?n._ctx=_o:p===3&&_o&&(_o.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Mr(n)?(n={default:n,_ctx:_o},a=32):(n=String(n),c&64?(a=16,n=[m_(n)]):a=8);t.children=n,t.shapeFlag|=a}function yw(...t){const n={};for(let a=0;a<t.length;a++){const c=t[a];for(const p in c)if(p==="class")n.class!==c.class&&(n.class=mp([n.class,c.class]));else if(p==="style")n.style=dp([n.style,c.style]);else if(Pc(p)){const m=n[p],o=c[p];o&&m!==o&&!(rr(m)&&m.includes(o))&&(n[p]=m?[].concat(m,o):o)}else p!==""&&(n[p]=c[p])}return n}function za(t,n,a,c=null){Cs(t,n,7,[a,c])}const Ck=j1();let Ak=0;function _w(t,n,a){const c=t.type,p=(n?n.appContext:t.appContext)||Ck,m={uid:Ak++,vnode:t,type:c,parent:n,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ky(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(p.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Z1(c,p),emitsOptions:cw(c,p),emit:null,emitted:null,propsDefaults:bn,inheritAttrs:c.inheritAttrs,ctx:bn,data:bn,props:bn,attrs:bn,slots:bn,refs:bn,setupState:bn,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return m.ctx={_:m},m.root=n?n.root:m,m.emit=uk.bind(null,m),t.ce&&t.ce(m),m}let go=null;const Vo=()=>go||_o;let Zd,fy;{const t=vm(),n=(a,c)=>{let p;return(p=t[a])||(p=t[a]=[]),p.push(c),m=>{p.length>1?p.forEach(o=>o(m)):p[0](m)}};Zd=n("__VUE_INSTANCE_SETTERS__",a=>go=a),fy=n("__VUE_SSR_SETTERS__",a=>Mh=a)}const Ic=t=>{const n=go;return Zd(t),t.scope.on(),()=>{t.scope.off(),Zd(n)}},py=()=>{go&&go.scope.off(),Zd(null)};function vw(t){return t.vnode.shapeFlag&4}let Mh=!1;function bw(t,n=!1,a=!1){n&&fy(n);const{props:c,children:p}=t.vnode,m=vw(t);QI(t,c,m,n),nk(t,p,a);const o=m?Ik(t,n):void 0;return n&&fy(!1),o}function Ik(t,n){const a=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ay);const{setup:c}=a;if(c){Bu();const p=t.setupContext=c.length>1?Sw(t):null,m=Ic(t),o=$h(c,t,0,[t.props,p]),T=Zy(o);if(Uu(),m(),(T||t.sp)&&!Ru(t)&&a_(t),T){if(o.then(py,py),n)return o.then(E=>{dy(t,E,n)}).catch(E=>{Mc(E,t,0)});t.asyncDep=o}else dy(t,o,n)}else ww(t,n)}function dy(t,n,a){Mr(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Wn(n)&&(t.setupState=t_(n)),ww(t,a)}let Xd,my;function xw(t){Xd=t,my=n=>{n.render._rc&&(n.withProxy=new Proxy(n.ctx,LI))}}const kk=()=>!Xd;function ww(t,n,a){const c=t.type;if(!t.render){if(!n&&Xd&&!c.render){const p=c.template||c_(t).template;if(p){const{isCustomElement:m,compilerOptions:o}=t.appContext.config,{delimiters:T,compilerOptions:E}=c,M=xn(xn({isCustomElement:m,delimiters:T},o),E);c.render=Xd(p,M)}}t.render=c.render||sa,my&&my(t)}{const p=Ic(t);Bu();try{WI(t)}finally{Uu(),p()}}}const Pk={get(t,n){return ia(t,"get",""),t[n]}};function Sw(t){const n=a=>{t.exposed=a||{}};return{attrs:new Proxy(t.attrs,Pk),slots:t.slots,emit:t.emit,expose:n}}function vp(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(t_(d1(t.exposed)),{get(n,a){if(a in n)return n[a];if(a in Hf)return Hf[a](t)},has(n,a){return a in n||a in Hf}})):t.proxy}function gy(t,n=!0){return Mr(t)?t.displayName||t.name:t.name||n&&t.__name}function Lk(t){return Mr(t)&&"__vccOpts"in t}const Ss=(t,n)=>FA(t,n,Mh);function zm(t,n,a){const c=arguments.length;return c===2?Wn(n)&&!rr(n)?tu(n)?ai(t,null,[n]):ai(t,n):ai(t,null,n):(c>3?a=Array.prototype.slice.call(arguments,2):c===3&&tu(a)&&(a=[a]),ai(t,n,a))}function Rk(){}function Mk(t,n,a,c){const p=a[c];if(p&&Tw(p,t))return p;const m=n();return m.memo=t.slice(),m.cacheIndex=c,a[c]=m}function Tw(t,n){const a=t.memo;if(a.length!=n.length)return!1;for(let c=0;c<a.length;c++)if(_a(a[c],n[c]))return!1;return Ac>0&&aa&&aa.push(t),!0}const Ew="3.5.12",Ok=sa,Dk=GA,Nk=xh,zk=S1,Fk={createComponentInstance:_w,setupComponent:bw,renderComponentRoot:Sd,setCurrentRenderingInstance:ep,isVNode:tu,normalizeVNode:Fa,getComponentPublicInstance:vp,ensureValidVNode:u_,pushWarningContext:qA,popWarningContext:HA},Bk=Fk,Uk=null,Vk=null,jk=null;/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yy;const $0=typeof window<"u"&&window.trustedTypes;if($0)try{yy=$0.createPolicy("vue",{createHTML:t=>t})}catch{}const Cw=yy?t=>yy.createHTML(t):t=>t,qk="http://www.w3.org/2000/svg",Hk="http://www.w3.org/1998/Math/MathML",Gl=typeof document<"u"?document:null,G0=Gl&&Gl.createElement("template"),Wk={insert:(t,n,a)=>{n.insertBefore(t,a||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,a,c)=>{const p=n==="svg"?Gl.createElementNS(qk,t):n==="mathml"?Gl.createElementNS(Hk,t):a?Gl.createElement(t,{is:a}):Gl.createElement(t);return t==="select"&&c&&c.multiple!=null&&p.setAttribute("multiple",c.multiple),p},createText:t=>Gl.createTextNode(t),createComment:t=>Gl.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gl.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,a,c,p,m){const o=a?a.previousSibling:n.lastChild;if(p&&(p===m||p.nextSibling))for(;n.insertBefore(p.cloneNode(!0),a),!(p===m||!(p=p.nextSibling)););else{G0.innerHTML=Cw(c==="svg"?`<svg>${t}</svg>`:c==="mathml"?`<math>${t}</math>`:t);const T=G0.content;if(c==="svg"||c==="mathml"){const E=T.firstChild;for(;E.firstChild;)T.appendChild(E.firstChild);T.removeChild(E)}n.insertBefore(T,a)}return[o?o.nextSibling:n.firstChild,a?a.previousSibling:n.lastChild]}},xu="transition",Df="animation",Oh=Symbol("_vtc"),Aw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Iw=xn({},o_,Aw),$k=t=>(t.displayName="Transition",t.props=Iw,t),Gk=$k((t,{slots:n})=>zm(k1,kw(t),n)),pc=(t,n=[])=>{rr(t)?t.forEach(a=>a(...n)):t&&t(...n)},Z0=t=>t?rr(t)?t.some(n=>n.length>1):t.length>1:!1;function kw(t){const n={};for(const Ge in t)Ge in Aw||(n[Ge]=t[Ge]);if(t.css===!1)return n;const{name:a="v",type:c,duration:p,enterFromClass:m=`${a}-enter-from`,enterActiveClass:o=`${a}-enter-active`,enterToClass:T=`${a}-enter-to`,appearFromClass:E=m,appearActiveClass:M=o,appearToClass:R=T,leaveFromClass:B=`${a}-leave-from`,leaveActiveClass:W=`${a}-leave-active`,leaveToClass:ae=`${a}-leave-to`}=t,ee=Zk(p),re=ee&&ee[0],ue=ee&&ee[1],{onBeforeEnter:ce,onEnter:Pe,onEnterCancelled:Y,onLeave:se,onLeaveCancelled:Se,onBeforeAppear:Me=ce,onAppear:C=Pe,onAppearCancelled:qe=Y}=n,we=(Ge,tt,Ht)=>{Tu(Ge,tt?R:T),Tu(Ge,tt?M:o),Ht&&Ht()},Xe=(Ge,tt)=>{Ge._isLeaving=!1,Tu(Ge,B),Tu(Ge,ae),Tu(Ge,W),tt&&tt()},xt=Ge=>(tt,Ht)=>{const fr=Ge?C:Pe,Lt=()=>we(tt,Ge,Ht);pc(fr,[tt,Lt]),X0(()=>{Tu(tt,Ge?E:m),Wl(tt,Ge?R:T),Z0(fr)||K0(tt,c,re,Lt)})};return xn(n,{onBeforeEnter(Ge){pc(ce,[Ge]),Wl(Ge,m),Wl(Ge,o)},onBeforeAppear(Ge){pc(Me,[Ge]),Wl(Ge,E),Wl(Ge,M)},onEnter:xt(!1),onAppear:xt(!0),onLeave(Ge,tt){Ge._isLeaving=!0;const Ht=()=>Xe(Ge,tt);Wl(Ge,B),Wl(Ge,W),Lw(),X0(()=>{Ge._isLeaving&&(Tu(Ge,B),Wl(Ge,ae),Z0(se)||K0(Ge,c,ue,Ht))}),pc(se,[Ge,Ht])},onEnterCancelled(Ge){we(Ge,!1),pc(Y,[Ge])},onAppearCancelled(Ge){we(Ge,!0),pc(qe,[Ge])},onLeaveCancelled(Ge){Xe(Ge),pc(Se,[Ge])}})}function Zk(t){if(t==null)return null;if(Wn(t))return[Fg(t.enter),Fg(t.leave)];{const n=Fg(t);return[n,n]}}function Fg(t){return zd(t)}function Wl(t,n){n.split(/\s+/).forEach(a=>a&&t.classList.add(a)),(t[Oh]||(t[Oh]=new Set)).add(n)}function Tu(t,n){n.split(/\s+/).forEach(c=>c&&t.classList.remove(c));const a=t[Oh];a&&(a.delete(n),a.size||(t[Oh]=void 0))}function X0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Xk=0;function K0(t,n,a,c){const p=t._endId=++Xk,m=()=>{p===t._endId&&c()};if(a!=null)return setTimeout(m,a);const{type:o,timeout:T,propCount:E}=Pw(t,n);if(!o)return c();const M=o+"end";let R=0;const B=()=>{t.removeEventListener(M,W),m()},W=ae=>{ae.target===t&&++R>=E&&B()};setTimeout(()=>{R<E&&B()},T+1),t.addEventListener(M,W)}function Pw(t,n){const a=window.getComputedStyle(t),c=ee=>(a[ee]||"").split(", "),p=c(`${xu}Delay`),m=c(`${xu}Duration`),o=Y0(p,m),T=c(`${Df}Delay`),E=c(`${Df}Duration`),M=Y0(T,E);let R=null,B=0,W=0;n===xu?o>0&&(R=xu,B=o,W=m.length):n===Df?M>0&&(R=Df,B=M,W=E.length):(B=Math.max(o,M),R=B>0?o>M?xu:Df:null,W=R?R===xu?m.length:E.length:0);const ae=R===xu&&/\b(transform|all)(,|$)/.test(c(`${xu}Property`).toString());return{type:R,timeout:B,propCount:W,hasTransform:ae}}function Y0(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((a,c)=>J0(a)+J0(t[c])))}function J0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Lw(){return document.body.offsetHeight}function Kk(t,n,a){const c=t[Oh];c&&(n=(n?[n,...c]:[...c]).join(" ")),n==null?t.removeAttribute("class"):a?t.setAttribute("class",n):t.className=n}const Kd=Symbol("_vod"),Rw=Symbol("_vsh"),Mw={beforeMount(t,{value:n},{transition:a}){t[Kd]=t.style.display==="none"?"":t.style.display,a&&n?a.beforeEnter(t):Nf(t,n)},mounted(t,{value:n},{transition:a}){a&&n&&a.enter(t)},updated(t,{value:n,oldValue:a},{transition:c}){!n!=!a&&(c?n?(c.beforeEnter(t),Nf(t,!0),c.enter(t)):c.leave(t,()=>{Nf(t,!1)}):Nf(t,n))},beforeUnmount(t,{value:n}){Nf(t,n)}};function Nf(t,n){t.style.display=n?t[Kd]:"none",t[Rw]=!n}function Yk(){Mw.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Ow=Symbol("");function Jk(t){const n=Vo();if(!n)return;const a=n.ut=(p=t(n.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${n.uid}"]`)).forEach(m=>Yd(m,p))},c=()=>{const p=t(n.proxy);n.ce?Yd(n.ce,p):_y(n.subTree,p),a(p)};Mm(()=>{aw(c)}),Zh(()=>{const p=new MutationObserver(c);p.observe(n.subTree.el.parentNode,{childList:!0}),yp(()=>p.disconnect())})}function _y(t,n){if(t.shapeFlag&128){const a=t.suspense;t=a.activeBranch,a.pendingBranch&&!a.isHydrating&&a.effects.push(()=>{_y(a.activeBranch,n)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Yd(t.el,n);else if(t.type===oo)t.children.forEach(a=>_y(a,n));else if(t.type===Sc){let{el:a,anchor:c}=t;for(;a&&(Yd(a,n),a!==c);)a=a.nextSibling}}function Yd(t,n){if(t.nodeType===1){const a=t.style;let c="";for(const p in n)a.setProperty(`--${p}`,n[p]),c+=`--${p}: ${n[p]};`;a[Ow]=c}}const Qk=/(^|;)\s*display\s*:/;function eP(t,n,a){const c=t.style,p=Gr(a);let m=!1;if(a&&!p){if(n)if(Gr(n))for(const o of n.split(";")){const T=o.slice(0,o.indexOf(":")).trim();a[T]==null&&Ed(c,T,"")}else for(const o in n)a[o]==null&&Ed(c,o,"");for(const o in a)o==="display"&&(m=!0),Ed(c,o,a[o])}else if(p){if(n!==a){const o=c[Ow];o&&(a+=";"+o),c.cssText=a,m=Qk.test(a)}}else n&&t.removeAttribute("style");Kd in t&&(t[Kd]=m?c.display:"",t[Rw]&&(c.display="none"))}const Q0=/\s*!important$/;function Ed(t,n,a){if(rr(a))a.forEach(c=>Ed(t,n,c));else if(a==null&&(a=""),n.startsWith("--"))t.setProperty(n,a);else{const c=tP(t,n);Q0.test(a)?t.setProperty(Ba(c),a.replace(Q0,""),"important"):t[c]=a}}const eb=["Webkit","Moz","ms"],Bg={};function tP(t,n){const a=Bg[n];if(a)return a;let c=di(n);if(c!=="filter"&&c in t)return Bg[n]=c;c=Rc(c);for(let p=0;p<eb.length;p++){const m=eb[p]+c;if(m in t)return Bg[n]=m}return n}const tb="http://www.w3.org/1999/xlink";function rb(t,n,a,c,p,m=nA(n)){c&&n.startsWith("xlink:")?a==null?t.removeAttributeNS(tb,n.slice(6,n.length)):t.setAttributeNS(tb,n,a):a==null||m&&!$x(a)?t.removeAttribute(n):t.setAttribute(n,m?"":qa(a)?String(a):a)}function nb(t,n,a,c,p){if(n==="innerHTML"||n==="textContent"){a!=null&&(t[n]=n==="innerHTML"?Cw(a):a);return}const m=t.tagName;if(n==="value"&&m!=="PROGRESS"&&!m.includes("-")){const T=m==="OPTION"?t.getAttribute("value")||"":t.value,E=a==null?t.type==="checkbox"?"on":"":String(a);(T!==E||!("_value"in t))&&(t.value=E),a==null&&t.removeAttribute(n),t._value=a;return}let o=!1;if(a===""||a==null){const T=typeof t[n];T==="boolean"?a=$x(a):a==null&&T==="string"?(a="",o=!0):T==="number"&&(a=0,o=!0)}try{t[n]=a}catch{}o&&t.removeAttribute(p||n)}function Kl(t,n,a,c){t.addEventListener(n,a,c)}function rP(t,n,a,c){t.removeEventListener(n,a,c)}const ib=Symbol("_vei");function nP(t,n,a,c,p=null){const m=t[ib]||(t[ib]={}),o=m[n];if(c&&o)o.value=c;else{const[T,E]=iP(n);if(c){const M=m[n]=sP(c,p);Kl(t,T,M,E)}else o&&(rP(t,T,o,E),m[n]=void 0)}}const ob=/(?:Once|Passive|Capture)$/;function iP(t){let n;if(ob.test(t)){n={};let c;for(;c=t.match(ob);)t=t.slice(0,t.length-c[0].length),n[c[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ba(t.slice(2)),n]}let Ug=0;const oP=Promise.resolve(),aP=()=>Ug||(oP.then(()=>Ug=0),Ug=Date.now());function sP(t,n){const a=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=a.attached)return;Cs(lP(c,a.value),n,5,[c])};return a.value=t,a.attached=aP(),a}function lP(t,n){if(rr(n)){const a=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{a.call(t),t._stopped=!0},n.map(c=>p=>!p._stopped&&c&&c(p))}else return n}const ab=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uP=(t,n,a,c,p,m)=>{const o=p==="svg";n==="class"?Kk(t,c,o):n==="style"?eP(t,a,c):Pc(n)?$y(n)||nP(t,n,a,c,m):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):cP(t,n,c,o))?(nb(t,n,c),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&rb(t,n,c,o,m,n!=="value")):t._isVueCE&&(/[A-Z]/.test(n)||!Gr(c))?nb(t,di(n),c,m,n):(n==="true-value"?t._trueValue=c:n==="false-value"&&(t._falseValue=c),rb(t,n,c,o))};function cP(t,n,a,c){if(c)return!!(n==="innerHTML"||n==="textContent"||n in t&&ab(n)&&Mr(a));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const p=t.tagName;if(p==="IMG"||p==="VIDEO"||p==="CANVAS"||p==="SOURCE")return!1}return ab(n)&&Gr(a)?!1:n in t}const sb={};/*! #__NO_SIDE_EFFECTS__ */function Dw(t,n,a){const c=Gh(t,n);ym(c)&&xn(c,n);class p extends Fm{constructor(o){super(c,o,a)}}return p.def=c,p}/*! #__NO_SIDE_EFFECTS__ */const hP=(t,n)=>Dw(t,n,Gw),fP=typeof HTMLElement<"u"?HTMLElement:class{};class Fm extends fP{constructor(n,a={},c=vy){super(),this._def=n,this._props=a,this._createApp=c,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&c!==vy?this._root=this.shadowRoot:n.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof Fm){this._parent=n;break}this._instance||(this._resolved?(this._setParent(),this._update()):n&&n._pendingResolve?this._pendingResolve=n._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(n=this._parent){n&&(this._instance.parent=n._instance,this._instance.provides=n._instance.provides)}disconnectedCallback(){this._connected=!1,km(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let c=0;c<this.attributes.length;c++)this._setAttr(this.attributes[c].name);this._ob=new MutationObserver(c=>{for(const p of c)this._setAttr(p.attributeName)}),this._ob.observe(this,{attributes:!0});const n=(c,p=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:m,styles:o}=c;let T;if(m&&!rr(m))for(const E in m){const M=m[E];(M===Number||M&&M.type===Number)&&(E in this._props&&(this._props[E]=zd(this._props[E])),(T||(T=Object.create(null)))[di(E)]=!0)}this._numberProps=T,p&&this._resolveProps(c),this.shadowRoot&&this._applyStyles(o),this._mount(c)},a=this._def.__asyncLoader;a?this._pendingResolve=a().then(c=>n(this._def=c,!0)):n(this._def)}_mount(n){this._app=this._createApp(n),n.configureApp&&n.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const a=this._instance&&this._instance.exposed;if(a)for(const c in a)Fn(this,c)||Object.defineProperty(this,c,{get:()=>Im(a[c])})}_resolveProps(n){const{props:a}=n,c=rr(a)?a:Object.keys(a||{});for(const p of Object.keys(this))p[0]!=="_"&&c.includes(p)&&this._setProp(p,this[p]);for(const p of c.map(di))Object.defineProperty(this,p,{get(){return this._getProp(p)},set(m){this._setProp(p,m,!0,!0)}})}_setAttr(n){if(n.startsWith("data-v-"))return;const a=this.hasAttribute(n);let c=a?this.getAttribute(n):sb;const p=di(n);a&&this._numberProps&&this._numberProps[p]&&(c=zd(c)),this._setProp(p,c,!1,!0)}_getProp(n){return this._props[n]}_setProp(n,a,c=!0,p=!1){a!==this._props[n]&&(a===sb?delete this._props[n]:(this._props[n]=a,n==="key"&&this._app&&(this._app._ceVNode.key=a)),p&&this._instance&&this._update(),c&&(a===!0?this.setAttribute(Ba(n),""):typeof a=="string"||typeof a=="number"?this.setAttribute(Ba(n),a+""):a||this.removeAttribute(Ba(n))))}_update(){$w(this._createVNode(),this._root)}_createVNode(){const n={};this.shadowRoot||(n.onVnodeMounted=n.onVnodeUpdated=this._renderSlots.bind(this));const a=ai(this._def,xn(n,this._props));return this._instance||(a.ce=c=>{this._instance=c,c.ce=this,c.isCE=!0;const p=(m,o)=>{this.dispatchEvent(new CustomEvent(m,ym(o[0])?xn({detail:o},o[0]):{detail:o}))};c.emit=(m,...o)=>{p(m,o),Ba(m)!==m&&p(Ba(m),o)},this._setParent()}),a}_applyStyles(n,a){if(!n)return;if(a){if(a===this._def||this._styleChildren.has(a))return;this._styleChildren.add(a)}const c=this._nonce;for(let p=n.length-1;p>=0;p--){const m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=n[p],this.shadowRoot.prepend(m)}}_parseSlots(){const n=this._slots={};let a;for(;a=this.firstChild;){const c=a.nodeType===1&&a.getAttribute("slot")||"default";(n[c]||(n[c]=[])).push(a),this.removeChild(a)}}_renderSlots(){const n=(this._teleportTarget||this).querySelectorAll("slot"),a=this._instance.type.__scopeId;for(let c=0;c<n.length;c++){const p=n[c],m=p.getAttribute("name")||"default",o=this._slots[m],T=p.parentNode;if(o)for(const E of o){if(a&&E.nodeType===1){const M=a+"-s",R=document.createTreeWalker(E,1);E.setAttribute(M,"");let B;for(;B=R.nextNode();)B.setAttribute(M,"")}T.insertBefore(E,p)}else for(;p.firstChild;)T.insertBefore(p.firstChild,p);T.removeChild(p)}}_injectChildStyle(n){this._applyStyles(n.styles,n)}_removeChildStyle(n){}}function Nw(t){const n=Vo(),a=n&&n.ce;return a||null}function pP(){const t=Nw();return t&&t.shadowRoot}function dP(t="$style"){{const n=Vo();if(!n)return bn;const a=n.type.__cssModules;if(!a)return bn;const c=a[t];return c||bn}}const zw=new WeakMap,Fw=new WeakMap,Jd=Symbol("_moveCb"),lb=Symbol("_enterCb"),mP=t=>(delete t.props.mode,t),gP=mP({name:"TransitionGroup",props:xn({},Iw,{tag:String,moveClass:String}),setup(t,{slots:n}){const a=Vo(),c=i_();let p,m;return Om(()=>{if(!p.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!xP(p[0].el,a.vnode.el,o))return;p.forEach(_P),p.forEach(vP);const T=p.filter(bP);Lw(),T.forEach(E=>{const M=E.el,R=M.style;Wl(M,o),R.transform=R.webkitTransform=R.transitionDuration="";const B=M[Jd]=W=>{W&&W.target!==M||(!W||/transform$/.test(W.propertyName))&&(M.removeEventListener("transitionend",B),M[Jd]=null,Tu(M,o))};M.addEventListener("transitionend",B)})}),()=>{const o=Pn(t),T=kw(o);let E=o.tag||oo;if(p=[],m)for(let M=0;M<m.length;M++){const R=m[M];R.el&&R.el instanceof Element&&(p.push(R),eu(R,Rh(R,T,c,a)),zw.set(R,R.el.getBoundingClientRect()))}m=n.default?Lm(n.default()):[];for(let M=0;M<m.length;M++){const R=m[M];R.key!=null&&eu(R,Rh(R,T,c,a))}return ai(E,null,m)}}}),yP=gP;function _P(t){const n=t.el;n[Jd]&&n[Jd](),n[lb]&&n[lb]()}function vP(t){Fw.set(t,t.el.getBoundingClientRect())}function bP(t){const n=zw.get(t),a=Fw.get(t),c=n.left-a.left,p=n.top-a.top;if(c||p){const m=t.el.style;return m.transform=m.webkitTransform=`translate(${c}px,${p}px)`,m.transitionDuration="0s",t}}function xP(t,n,a){const c=t.cloneNode(),p=t[Oh];p&&p.forEach(T=>{T.split(/\s+/).forEach(E=>E&&c.classList.remove(E))}),a.split(/\s+/).forEach(T=>T&&c.classList.add(T)),c.style.display="none";const m=n.nodeType===1?n:n.parentNode;m.appendChild(c);const{hasTransform:o}=Pw(c);return m.removeChild(c),o}const zu=t=>{const n=t.props["onUpdate:modelValue"]||!1;return rr(n)?a=>Ih(n,a):n};function wP(t){t.target.composing=!0}function ub(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Es=Symbol("_assign"),Qd={created(t,{modifiers:{lazy:n,trim:a,number:c}},p){t[Es]=zu(p);const m=c||p.props&&p.props.type==="number";Kl(t,n?"change":"input",o=>{if(o.target.composing)return;let T=t.value;a&&(T=T.trim()),m&&(T=Nd(T)),t[Es](T)}),a&&Kl(t,"change",()=>{t.value=t.value.trim()}),n||(Kl(t,"compositionstart",wP),Kl(t,"compositionend",ub),Kl(t,"change",ub))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:a,modifiers:{lazy:c,trim:p,number:m}},o){if(t[Es]=zu(o),t.composing)return;const T=(m||t.type==="number")&&!/^0\d/.test(t.value)?Nd(t.value):t.value,E=n??"";T!==E&&(document.activeElement===t&&t.type!=="range"&&(c&&n===a||p&&t.value.trim()===E)||(t.value=E))}},y_={deep:!0,created(t,n,a){t[Es]=zu(a),Kl(t,"change",()=>{const c=t._modelValue,p=Dh(t),m=t.checked,o=t[Es];if(rr(c)){const T=bm(c,p),E=T!==-1;if(m&&!E)o(c.concat(p));else if(!m&&E){const M=[...c];M.splice(T,1),o(M)}}else if(Lc(c)){const T=new Set(c);m?T.add(p):T.delete(p),o(T)}else o(Uw(t,m))})},mounted:cb,beforeUpdate(t,n,a){t[Es]=zu(a),cb(t,n,a)}};function cb(t,{value:n,oldValue:a},c){t._modelValue=n;let p;if(rr(n))p=bm(n,c.props.value)>-1;else if(Lc(n))p=n.has(c.props.value);else{if(n===a)return;p=Du(n,Uw(t,!0))}t.checked!==p&&(t.checked=p)}const __={created(t,{value:n},a){t.checked=Du(n,a.props.value),t[Es]=zu(a),Kl(t,"change",()=>{t[Es](Dh(t))})},beforeUpdate(t,{value:n,oldValue:a},c){t[Es]=zu(c),n!==a&&(t.checked=Du(n,c.props.value))}},Bw={deep:!0,created(t,{value:n,modifiers:{number:a}},c){const p=Lc(n);Kl(t,"change",()=>{const m=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>a?Nd(Dh(o)):Dh(o));t[Es](t.multiple?p?new Set(m):m:m[0]),t._assigning=!0,km(()=>{t._assigning=!1})}),t[Es]=zu(c)},mounted(t,{value:n}){hb(t,n)},beforeUpdate(t,n,a){t[Es]=zu(a)},updated(t,{value:n}){t._assigning||hb(t,n)}};function hb(t,n){const a=t.multiple,c=rr(n);if(!(a&&!c&&!Lc(n))){for(let p=0,m=t.options.length;p<m;p++){const o=t.options[p],T=Dh(o);if(a)if(c){const E=typeof T;E==="string"||E==="number"?o.selected=n.some(M=>String(M)===String(T)):o.selected=bm(n,T)>-1}else o.selected=n.has(T);else if(Du(Dh(o),n)){t.selectedIndex!==p&&(t.selectedIndex=p);return}}!a&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Dh(t){return"_value"in t?t._value:t.value}function Uw(t,n){const a=n?"_trueValue":"_falseValue";return a in t?t[a]:n}const Vw={created(t,n,a){md(t,n,a,null,"created")},mounted(t,n,a){md(t,n,a,null,"mounted")},beforeUpdate(t,n,a,c){md(t,n,a,c,"beforeUpdate")},updated(t,n,a,c){md(t,n,a,c,"updated")}};function jw(t,n){switch(t){case"SELECT":return Bw;case"TEXTAREA":return Qd;default:switch(n){case"checkbox":return y_;case"radio":return __;default:return Qd}}}function md(t,n,a,c,p){const o=jw(t.tagName,a.props&&a.props.type)[p];o&&o(t,n,a,c)}function SP(){Qd.getSSRProps=({value:t})=>({value:t}),__.getSSRProps=({value:t},n)=>{if(n.props&&Du(n.props.value,t))return{checked:!0}},y_.getSSRProps=({value:t},n)=>{if(rr(t)){if(n.props&&bm(t,n.props.value)>-1)return{checked:!0}}else if(Lc(t)){if(n.props&&t.has(n.props.value))return{checked:!0}}else if(t)return{checked:!0}},Vw.getSSRProps=(t,n)=>{if(typeof n.type!="string")return;const a=jw(n.type.toUpperCase(),n.props&&n.props.type);if(a.getSSRProps)return a.getSSRProps(t,n)}}const TP=["ctrl","shift","alt","meta"],EP={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>TP.some(a=>t[`${a}Key`]&&!n.includes(a))},CP=(t,n)=>{const a=t._withMods||(t._withMods={}),c=n.join(".");return a[c]||(a[c]=(p,...m)=>{for(let o=0;o<n.length;o++){const T=EP[n[o]];if(T&&T(p,n))return}return t(p,...m)})},AP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},IP=(t,n)=>{const a=t._withKeys||(t._withKeys={}),c=n.join(".");return a[c]||(a[c]=p=>{if(!("key"in p))return;const m=Ba(p.key);if(n.some(o=>o===m||AP[o]===m))return t(p)})},qw=xn({patchProp:uP},Wk);let $f,fb=!1;function Hw(){return $f||($f=Q1(qw))}function Ww(){return $f=fb?$f:ew(qw),fb=!0,$f}const $w=(...t)=>{Hw().render(...t)},kP=(...t)=>{Ww().hydrate(...t)},vy=(...t)=>{const n=Hw().createApp(...t),{mount:a}=n;return n.mount=c=>{const p=Xw(c);if(!p)return;const m=n._component;!Mr(m)&&!m.render&&!m.template&&(m.template=p.innerHTML),p.nodeType===1&&(p.textContent="");const o=a(p,!1,Zw(p));return p instanceof Element&&(p.removeAttribute("v-cloak"),p.setAttribute("data-v-app","")),o},n},Gw=(...t)=>{const n=Ww().createApp(...t),{mount:a}=n;return n.mount=c=>{const p=Xw(c);if(p)return a(p,!0,Zw(p))},n};function Zw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xw(t){return Gr(t)?document.querySelector(t):t}let pb=!1;const PP=()=>{pb||(pb=!0,SP(),Yk())},LP=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:k1,BaseTransitionPropsValidators:o_,Comment:ao,DeprecationTypes:jk,EffectScope:Ky,ErrorCodes:$A,ErrorTypeStrings:Dk,Fragment:oo,KeepAlive:xI,ReactiveEffect:Kf,Static:Sc,Suspense:mk,Teleport:nI,Text:Jl,TrackOpTypes:BA,Transition:Gk,TransitionGroup:yP,TriggerOpTypes:UA,VueElement:Fm,assertNumber:WA,callWithAsyncErrorHandling:Cs,callWithErrorHandling:$h,camelize:di,capitalize:Rc,cloneVNode:yl,compatUtils:Vk,computed:Ss,createApp:vy,createBlock:Gd,createCommentVNode:Ek,createElementBlock:xk,createElementVNode:d_,createHydrationRenderer:ew,createPropsRestProxy:qI,createRenderer:Q1,createSSRApp:Gw,createSlots:II,createStaticVNode:Tk,createTextVNode:m_,createVNode:ai,customRef:g1,defineAsyncComponent:vI,defineComponent:Gh,defineCustomElement:Dw,defineEmits:MI,defineExpose:OI,defineModel:zI,defineOptions:DI,defineProps:RI,defineSSRCustomElement:hP,defineSlots:NI,devtools:Nk,effect:sA,effectScope:Kx,getCurrentInstance:Vo,getCurrentScope:Yx,getCurrentWatcher:VA,getTransitionRawChildren:Lm,guardReactiveProps:gw,h:zm,handleError:Mc,hasInjectionContext:JI,hydrate:kP,hydrateOnIdle:pI,hydrateOnInteraction:yI,hydrateOnMediaQuery:gI,hydrateOnVisible:mI,initCustomFormatter:Rk,initDirectivesForSSR:PP,inject:Ph,isMemoSame:Tw,isProxy:Cm,isReactive:Lu,isReadonly:Nu,isRef:so,isRuntimeOnly:kk,isShallow:ss,isVNode:tu,markRaw:d1,mergeDefaults:VI,mergeModels:jI,mergeProps:yw,nextTick:km,normalizeClass:mp,normalizeProps:G2,normalizeStyle:dp,onActivated:L1,onBeforeMount:Mm,onBeforeUnmount:Dm,onBeforeUpdate:O1,onDeactivated:R1,onErrorCaptured:F1,onMounted:Zh,onRenderTracked:z1,onRenderTriggered:N1,onScopeDispose:oA,onServerPrefetch:D1,onUnmounted:yp,onUpdated:Om,onWatcherCleanup:_1,openBlock:np,popScopeId:YA,provide:q1,proxyRefs:t_,pushScopeId:KA,queuePostFlushCb:Vd,reactive:Tm,readonly:e_,ref:Us,registerRuntimeCompiler:xw,render:$w,renderList:AI,renderSlot:kI,resolveComponent:TI,resolveDirective:CI,resolveDynamicComponent:EI,resolveFilter:Uk,resolveTransitionHooks:Rh,setBlockTracking:hy,setDevtoolsHook:zk,setTransitionHooks:eu,shallowReactive:p1,shallowReadonly:AA,shallowRef:Am,ssrContextKey:iw,ssrUtils:Bk,stop:lA,toDisplayString:Zx,toHandlerKey:Ah,toHandlers:PI,toRaw:Pn,toRef:NA,toRefs:MA,toValue:PA,transformVNodeArgs:wk,triggerRef:kA,unref:Im,useAttrs:UI,useCssModule:dP,useCssVars:Jk,useHost:Nw,useId:oI,useModel:lk,useSSRContext:ow,useShadowRoot:pP,useSlots:BI,useTemplateRef:aI,useTransitionState:i_,vModelCheckbox:y_,vModelDynamic:Vw,vModelRadio:__,vModelSelect:Bw,vModelText:Qd,vShow:Mw,version:Ew,warn:Ok,watch:Mu,watchEffect:ak,watchPostEffect:aw,watchSyncEffect:sw,withAsyncContext:HI,withCtx:n_,withDefaults:FI,withDirectives:QA,withKeys:IP,withMemo:Mk,withModifiers:CP,withScopeId:JA},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ip=Symbol(""),Gf=Symbol(""),v_=Symbol(""),em=Symbol(""),Kw=Symbol(""),kc=Symbol(""),Yw=Symbol(""),Jw=Symbol(""),b_=Symbol(""),x_=Symbol(""),bp=Symbol(""),w_=Symbol(""),Qw=Symbol(""),S_=Symbol(""),T_=Symbol(""),E_=Symbol(""),C_=Symbol(""),A_=Symbol(""),I_=Symbol(""),eS=Symbol(""),tS=Symbol(""),Bm=Symbol(""),tm=Symbol(""),k_=Symbol(""),P_=Symbol(""),op=Symbol(""),xp=Symbol(""),L_=Symbol(""),by=Symbol(""),RP=Symbol(""),xy=Symbol(""),rm=Symbol(""),MP=Symbol(""),OP=Symbol(""),R_=Symbol(""),DP=Symbol(""),NP=Symbol(""),M_=Symbol(""),rS=Symbol(""),Nh={[ip]:"Fragment",[Gf]:"Teleport",[v_]:"Suspense",[em]:"KeepAlive",[Kw]:"BaseTransition",[kc]:"openBlock",[Yw]:"createBlock",[Jw]:"createElementBlock",[b_]:"createVNode",[x_]:"createElementVNode",[bp]:"createCommentVNode",[w_]:"createTextVNode",[Qw]:"createStaticVNode",[S_]:"resolveComponent",[T_]:"resolveDynamicComponent",[E_]:"resolveDirective",[C_]:"resolveFilter",[A_]:"withDirectives",[I_]:"renderList",[eS]:"renderSlot",[tS]:"createSlots",[Bm]:"toDisplayString",[tm]:"mergeProps",[k_]:"normalizeClass",[P_]:"normalizeStyle",[op]:"normalizeProps",[xp]:"guardReactiveProps",[L_]:"toHandlers",[by]:"camelize",[RP]:"capitalize",[xy]:"toHandlerKey",[rm]:"setBlockTracking",[MP]:"pushScopeId",[OP]:"popScopeId",[R_]:"withCtx",[DP]:"unref",[NP]:"isRef",[M_]:"withMemo",[rS]:"isMemoSame"};function zP(t){Object.getOwnPropertySymbols(t).forEach(n=>{Nh[n]=t[n]})}const hs={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function FP(t,n=""){return{type:0,source:n,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:hs}}function ap(t,n,a,c,p,m,o,T=!1,E=!1,M=!1,R=hs){return t&&(T?(t.helper(kc),t.helper(Bh(t.inSSR,M))):t.helper(Fh(t.inSSR,M)),o&&t.helper(A_)),{type:13,tag:n,props:a,children:c,patchFlag:p,dynamicProps:m,directives:o,isBlock:T,disableTracking:E,isComponent:M,loc:R}}function Tc(t,n=hs){return{type:17,loc:n,elements:t}}function Ts(t,n=hs){return{type:15,loc:n,properties:t}}function Qi(t,n){return{type:16,loc:hs,key:Gr(t)?en(t,!0):t,value:n}}function en(t,n=!1,a=hs,c=0){return{type:4,loc:a,content:t,isStatic:n,constType:n?3:c}}function Hs(t,n=hs){return{type:8,loc:n,children:t}}function mo(t,n=[],a=hs){return{type:14,loc:a,callee:t,arguments:n}}function zh(t,n=void 0,a=!1,c=!1,p=hs){return{type:18,params:t,returns:n,newline:a,isSlot:c,loc:p}}function wy(t,n,a,c=!0){return{type:19,test:t,consequent:n,alternate:a,newline:c,loc:hs}}function BP(t,n,a=!1){return{type:20,index:t,value:n,needPauseTracking:a,needArraySpread:!1,loc:hs}}function UP(t){return{type:21,body:t,loc:hs}}function Fh(t,n){return t||n?b_:x_}function Bh(t,n){return t||n?Yw:Jw}function O_(t,{helper:n,removeHelper:a,inSSR:c}){t.isBlock||(t.isBlock=!0,a(Fh(c,t.isComponent)),n(kc),n(Bh(c,t.isComponent)))}const db=new Uint8Array([123,123]),mb=new Uint8Array([125,125]);function gb(t){return t>=97&&t<=122||t>=65&&t<=90}function is(t){return t===32||t===10||t===9||t===12||t===13}function wu(t){return t===47||t===62||is(t)}function nm(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}const ra={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class VP{constructor(n,a){this.stack=n,this.cbs=a,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=db,this.delimiterClose=mb,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=db,this.delimiterClose=mb}getPos(n){let a=1,c=n+1;for(let p=this.newlines.length-1;p>=0;p--){const m=this.newlines[p];if(n>m){a=p+2,c=n-m;break}}return{column:c,line:a,offset:n}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(n){n===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&n===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(n))}stateInterpolationOpen(n){if(n===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const a=this.index+1-this.delimiterOpen.length;a>this.sectionStart&&this.cbs.ontext(this.sectionStart,a),this.state=3,this.sectionStart=a}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(n)):(this.state=1,this.stateText(n))}stateInterpolation(n){n===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(n))}stateInterpolationClose(n){n===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(n))}stateSpecialStartSequence(n){const a=this.sequenceIndex===this.currentSequence.length;if(!(a?wu(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!a){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(n)}stateInRCDATA(n){if(this.sequenceIndex===this.currentSequence.length){if(n===62||is(n)){const a=this.index-this.currentSequence.length;if(this.sectionStart<a){const c=this.index;this.index=a,this.cbs.ontext(this.sectionStart,a),this.index=c}this.sectionStart=a+2,this.stateInClosingTagName(n),this.inRCDATA=!1;return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ra.TitleEnd||this.currentSequence===ra.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&n===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(n)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===60)}stateCDATASequence(n){n===ra.Cdata[this.sequenceIndex]?++this.sequenceIndex===ra.Cdata.length&&(this.state=28,this.currentSequence=ra.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length;){const a=this.buffer.charCodeAt(this.index);if(a===10&&this.newlines.push(this.index),a===n)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ra.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(n,a){this.enterRCDATA(n,a),this.state=31}enterRCDATA(n,a){this.inRCDATA=!0,this.currentSequence=n,this.sequenceIndex=a}stateBeforeTagName(n){n===33?(this.state=22,this.sectionStart=this.index+1):n===63?(this.state=24,this.sectionStart=this.index+1):gb(n)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:n===116?this.state=30:this.state=n===115?29:6):n===47?this.state=8:(this.state=1,this.stateText(n))}stateInTagName(n){wu(n)&&this.handleTagName(n)}stateInSFCRootTagName(n){if(wu(n)){const a=this.buffer.slice(this.sectionStart,this.index);a!=="template"&&this.enterRCDATA(nm("</"+a),0),this.handleTagName(n)}}handleTagName(n){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(n)}stateBeforeClosingTagName(n){is(n)||(n===62?(this.state=1,this.sectionStart=this.index+1):(this.state=gb(n)?9:27,this.sectionStart=this.index))}stateInClosingTagName(n){(n===62||is(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){n===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(n){n===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):n===47?this.state=7:n===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):is(n)||this.handleAttrStart(n)}handleAttrStart(n){n===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):n===46||n===58||n===64||n===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):is(n)||(this.state=11,this.stateBeforeAttrName(n))}stateInAttrName(n){(n===61||wu(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(n))}stateInDirName(n){n===61||wu(n)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(n)):n===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):n===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(n){n===61||wu(n)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(n)):n===91?this.state=15:n===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(n){n===93?this.state=14:(n===61||wu(n))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(n))}stateInDirModifier(n){n===61||wu(n)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(n)):n===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(n){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(n)}stateAfterAttrName(n){n===61?this.state=18:n===47||n===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(n)):is(n)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(n))}stateBeforeAttrValue(n){n===34?(this.state=19,this.sectionStart=this.index+1):n===39?(this.state=20,this.sectionStart=this.index+1):is(n)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(n))}handleInAttrValue(n,a){(n===a||this.fastForwardTo(a))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(a===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(n){this.handleInAttrValue(n,34)}stateInAttrValueSingleQuotes(n){this.handleInAttrValue(n,39)}stateInAttrValueNoQuotes(n){is(n)||n===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(n)):(n===39||n===60||n===61||n===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(n){n===91?(this.state=26,this.sequenceIndex=0):this.state=n===45?25:23}stateInDeclaration(n){(n===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(n){n===45?(this.state=28,this.currentSequence=ra.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(n){(n===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){n===ra.ScriptEnd[3]?this.startSpecial(ra.ScriptEnd,4):n===ra.StyleEnd[3]?this.startSpecial(ra.StyleEnd,4):(this.state=6,this.stateInTagName(n))}stateBeforeSpecialT(n){n===ra.TitleEnd[3]?this.startSpecial(ra.TitleEnd,4):n===ra.TextareaEnd[3]?this.startSpecial(ra.TextareaEnd,4):(this.state=6,this.stateInTagName(n))}startEntity(){}stateInEntity(){}parse(n){for(this.buffer=n;this.index<this.buffer.length;){const a=this.buffer.charCodeAt(this.index);switch(a===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(a);break}case 2:{this.stateInterpolationOpen(a);break}case 3:{this.stateInterpolation(a);break}case 4:{this.stateInterpolationClose(a);break}case 31:{this.stateSpecialStartSequence(a);break}case 32:{this.stateInRCDATA(a);break}case 26:{this.stateCDATASequence(a);break}case 19:{this.stateInAttrValueDoubleQuotes(a);break}case 12:{this.stateInAttrName(a);break}case 13:{this.stateInDirName(a);break}case 14:{this.stateInDirArg(a);break}case 15:{this.stateInDynamicDirArg(a);break}case 16:{this.stateInDirModifier(a);break}case 28:{this.stateInCommentLike(a);break}case 27:{this.stateInSpecialComment(a);break}case 11:{this.stateBeforeAttrName(a);break}case 6:{this.stateInTagName(a);break}case 34:{this.stateInSFCRootTagName(a);break}case 9:{this.stateInClosingTagName(a);break}case 5:{this.stateBeforeTagName(a);break}case 17:{this.stateAfterAttrName(a);break}case 20:{this.stateInAttrValueSingleQuotes(a);break}case 18:{this.stateBeforeAttrValue(a);break}case 8:{this.stateBeforeClosingTagName(a);break}case 10:{this.stateAfterClosingTagName(a);break}case 29:{this.stateBeforeSpecialS(a);break}case 30:{this.stateBeforeSpecialT(a);break}case 21:{this.stateInAttrValueNoQuotes(a);break}case 7:{this.stateInSelfClosingTag(a);break}case 23:{this.stateInDeclaration(a);break}case 22:{this.stateBeforeDeclaration(a);break}case 25:{this.stateBeforeComment(a);break}case 24:{this.stateInProcessingInstruction(a);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length;this.sectionStart>=n||(this.state===28?this.currentSequence===ra.CdataEnd?this.cbs.oncdata(this.sectionStart,n):this.cbs.oncomment(this.sectionStart,n):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,a){}}function yb(t,{compatConfig:n}){const a=n&&n[t];return t==="MODE"?a||3:a}function Ec(t,n){const a=yb("MODE",n),c=yb(t,n);return a===3?c===!0:c!==!1}function sp(t,n,a,...c){return Ec(t,n)}function D_(t){throw t}function nS(t){}function Si(t,n,a,c){const p=`https://vuejs.org/error-reference/#compiler-${t}`,m=new SyntaxError(String(p));return m.code=t,m.loc=n,m}const Ua=t=>t.type===4&&t.isStatic;function iS(t){switch(t){case"Teleport":case"teleport":return Gf;case"Suspense":case"suspense":return v_;case"KeepAlive":case"keep-alive":return em;case"BaseTransition":case"base-transition":return Kw}}const jP=/^\d|[^\$\w\xA0-\uFFFF]/,N_=t=>!jP.test(t),qP=/[A-Za-z_$\xA0-\uFFFF]/,HP=/[\.\?\w$\xA0-\uFFFF]/,WP=/\s+[.[]\s*|\s*[.[]\s+/g,oS=t=>t.type===4?t.content:t.loc.source,$P=t=>{const n=oS(t).trim().replace(WP,T=>T.trim());let a=0,c=[],p=0,m=0,o=null;for(let T=0;T<n.length;T++){const E=n.charAt(T);switch(a){case 0:if(E==="[")c.push(a),a=1,p++;else if(E==="(")c.push(a),a=2,m++;else if(!(T===0?qP:HP).test(E))return!1;break;case 1:E==="'"||E==='"'||E==="`"?(c.push(a),a=3,o=E):E==="["?p++:E==="]"&&(--p||(a=c.pop()));break;case 2:if(E==="'"||E==='"'||E==="`")c.push(a),a=3,o=E;else if(E==="(")m++;else if(E===")"){if(T===n.length-1)return!1;--m||(a=c.pop())}break;case 3:E===o&&(a=c.pop(),o=null);break}}return!p&&!m},aS=$P,GP=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,ZP=t=>GP.test(oS(t)),XP=ZP;function xs(t,n,a=!1){for(let c=0;c<t.props.length;c++){const p=t.props[c];if(p.type===7&&(a||p.exp)&&(Gr(n)?p.name===n:n.test(p.name)))return p}}function Um(t,n,a=!1,c=!1){for(let p=0;p<t.props.length;p++){const m=t.props[p];if(m.type===6){if(a)continue;if(m.name===n&&(m.value||c))return m}else if(m.name==="bind"&&(m.exp||c)&&_c(m.arg,n))return m}}function _c(t,n){return!!(t&&Ua(t)&&t.content===n)}function KP(t){return t.props.some(n=>n.type===7&&n.name==="bind"&&(!n.arg||n.arg.type!==4||!n.arg.isStatic))}function Vg(t){return t.type===5||t.type===2}function YP(t){return t.type===7&&t.name==="slot"}function im(t){return t.type===1&&t.tagType===3}function om(t){return t.type===1&&t.tagType===2}const JP=new Set([op,xp]);function sS(t,n=[]){if(t&&!Gr(t)&&t.type===14){const a=t.callee;if(!Gr(a)&&JP.has(a))return sS(t.arguments[0],n.concat(t))}return[t,n]}function am(t,n,a){let c,p=t.type===13?t.props:t.arguments[2],m=[],o;if(p&&!Gr(p)&&p.type===14){const T=sS(p);p=T[0],m=T[1],o=m[m.length-1]}if(p==null||Gr(p))c=Ts([n]);else if(p.type===14){const T=p.arguments[0];!Gr(T)&&T.type===15?_b(n,T)||T.properties.unshift(n):p.callee===L_?c=mo(a.helper(tm),[Ts([n]),p]):p.arguments.unshift(Ts([n])),!c&&(c=p)}else p.type===15?(_b(n,p)||p.properties.unshift(n),c=p):(c=mo(a.helper(tm),[Ts([n]),p]),o&&o.callee===xp&&(o=m[m.length-2]));t.type===13?o?o.arguments[0]=c:t.props=c:o?o.arguments[0]=c:t.arguments[2]=c}function _b(t,n){let a=!1;if(t.key.type===4){const c=t.key.content;a=n.properties.some(p=>p.key.type===4&&p.key.content===c)}return a}function lp(t,n){return`_${n}_${t.replace(/[^\w]/g,(a,c)=>a==="-"?"_":t.charCodeAt(c).toString())}`}function QP(t){return t.type===14&&t.callee===M_?t.arguments[1].returns:t}const eL=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,lS={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Ff,isPreTag:Ff,isIgnoreNewlineTag:Ff,isCustomElement:Ff,onError:D_,onWarn:nS,comments:!1,prefixIdentifiers:!1};let Bn=lS,up=null,Ql="",na=null,kn=null,Na="",$l=-1,gc=-1,z_=0,ku=!1,Sy=null;const wi=[],qi=new VP(wi,{onerr:jl,ontext(t,n){gd(Bo(t,n),t,n)},ontextentity(t,n,a){gd(t,n,a)},oninterpolation(t,n){if(ku)return gd(Bo(t,n),t,n);let a=t+qi.delimiterOpen.length,c=n-qi.delimiterClose.length;for(;is(Ql.charCodeAt(a));)a++;for(;is(Ql.charCodeAt(c-1));)c--;let p=Bo(a,c);p.includes("&")&&(p=Bn.decodeEntities(p,!1)),Ty({type:5,content:Ad(p,!1,Ji(a,c)),loc:Ji(t,n)})},onopentagname(t,n){const a=Bo(t,n);na={type:1,tag:a,ns:Bn.getNamespace(a,wi[0],Bn.ns),tagType:0,props:[],children:[],loc:Ji(t-1,n),codegenNode:void 0}},onopentagend(t){bb(t)},onclosetag(t,n){const a=Bo(t,n);if(!Bn.isVoidTag(a)){let c=!1;for(let p=0;p<wi.length;p++)if(wi[p].tag.toLowerCase()===a.toLowerCase()){c=!0,p>0&&jl(24,wi[0].loc.start.offset);for(let o=0;o<=p;o++){const T=wi.shift();Cd(T,n,o<p)}break}c||jl(23,uS(t,60))}},onselfclosingtag(t){const n=na.tag;na.isSelfClosing=!0,bb(t),wi[0]&&wi[0].tag===n&&Cd(wi.shift(),t)},onattribname(t,n){kn={type:6,name:Bo(t,n),nameLoc:Ji(t,n),value:void 0,loc:Ji(t)}},ondirname(t,n){const a=Bo(t,n),c=a==="."||a===":"?"bind":a==="@"?"on":a==="#"?"slot":a.slice(2);if(!ku&&c===""&&jl(26,t),ku||c==="")kn={type:6,name:a,nameLoc:Ji(t,n),value:void 0,loc:Ji(t)};else if(kn={type:7,name:c,rawName:a,exp:void 0,arg:void 0,modifiers:a==="."?[en("prop")]:[],loc:Ji(t)},c==="pre"){ku=qi.inVPre=!0,Sy=na;const p=na.props;for(let m=0;m<p.length;m++)p[m].type===7&&(p[m]=hL(p[m]))}},ondirarg(t,n){if(t===n)return;const a=Bo(t,n);if(ku)kn.name+=a,vc(kn.nameLoc,n);else{const c=a[0]!=="[";kn.arg=Ad(c?a:a.slice(1,-1),c,Ji(t,n),c?3:0)}},ondirmodifier(t,n){const a=Bo(t,n);if(ku)kn.name+="."+a,vc(kn.nameLoc,n);else if(kn.name==="slot"){const c=kn.arg;c&&(c.content+="."+a,vc(c.loc,n))}else{const c=en(a,!0,Ji(t,n));kn.modifiers.push(c)}},onattribdata(t,n){Na+=Bo(t,n),$l<0&&($l=t),gc=n},onattribentity(t,n,a){Na+=t,$l<0&&($l=n),gc=a},onattribnameend(t){const n=kn.loc.start.offset,a=Bo(n,t);kn.type===7&&(kn.rawName=a),na.props.some(c=>(c.type===7?c.rawName:c.name)===a)&&jl(2,n)},onattribend(t,n){if(na&&kn){if(vc(kn.loc,n),t!==0)if(Na.includes("&")&&(Na=Bn.decodeEntities(Na,!0)),kn.type===6)kn.name==="class"&&(Na=hS(Na).trim()),t===1&&!Na&&jl(13,n),kn.value={type:2,content:Na,loc:t===1?Ji($l,gc):Ji($l-1,gc+1)},qi.inSFCRoot&&na.tag==="template"&&kn.name==="lang"&&Na&&Na!=="html"&&qi.enterRCDATA(nm("</template"),0);else{let a=0;kn.exp=Ad(Na,!1,Ji($l,gc),0,a),kn.name==="for"&&(kn.forParseResult=rL(kn.exp));let c=-1;kn.name==="bind"&&(c=kn.modifiers.findIndex(p=>p.content==="sync"))>-1&&sp("COMPILER_V_BIND_SYNC",Bn,kn.loc,kn.rawName)&&(kn.name="model",kn.modifiers.splice(c,1))}(kn.type!==7||kn.name!=="pre")&&na.props.push(kn)}Na="",$l=gc=-1},oncomment(t,n){Bn.comments&&Ty({type:3,content:Bo(t,n),loc:Ji(t-4,n+3)})},onend(){const t=Ql.length;for(let n=0;n<wi.length;n++)Cd(wi[n],t-1),jl(24,wi[n].loc.start.offset)},oncdata(t,n){wi[0].ns!==0?gd(Bo(t,n),t,n):jl(1,t-9)},onprocessinginstruction(t){(wi[0]?wi[0].ns:Bn.ns)===0&&jl(21,t-1)}}),vb=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,tL=/^\(|\)$/g;function rL(t){const n=t.loc,a=t.content,c=a.match(eL);if(!c)return;const[,p,m]=c,o=(B,W,ae=!1)=>{const ee=n.start.offset+W,re=ee+B.length;return Ad(B,!1,Ji(ee,re),0,ae?1:0)},T={source:o(m.trim(),a.indexOf(m,p.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let E=p.trim().replace(tL,"").trim();const M=p.indexOf(E),R=E.match(vb);if(R){E=E.replace(vb,"").trim();const B=R[1].trim();let W;if(B&&(W=a.indexOf(B,M+E.length),T.key=o(B,W,!0)),R[2]){const ae=R[2].trim();ae&&(T.index=o(ae,a.indexOf(ae,T.key?W+B.length:M+E.length),!0))}}return E&&(T.value=o(E,M,!0)),T}function Bo(t,n){return Ql.slice(t,n)}function bb(t){qi.inSFCRoot&&(na.innerLoc=Ji(t+1,t+1)),Ty(na);const{tag:n,ns:a}=na;a===0&&Bn.isPreTag(n)&&z_++,Bn.isVoidTag(n)?Cd(na,t):(wi.unshift(na),(a===1||a===2)&&(qi.inXML=!0)),na=null}function gd(t,n,a){{const m=wi[0]&&wi[0].tag;m!=="script"&&m!=="style"&&t.includes("&")&&(t=Bn.decodeEntities(t,!1))}const c=wi[0]||up,p=c.children[c.children.length-1];p&&p.type===2?(p.content+=t,vc(p.loc,a)):c.children.push({type:2,content:t,loc:Ji(n,a)})}function Cd(t,n,a=!1){a?vc(t.loc,uS(n,60)):vc(t.loc,nL(n,62)+1),qi.inSFCRoot&&(t.children.length?t.innerLoc.end=xn({},t.children[t.children.length-1].loc.end):t.innerLoc.end=xn({},t.innerLoc.start),t.innerLoc.source=Bo(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:c,ns:p,children:m}=t;if(ku||(c==="slot"?t.tagType=2:xb(t)?t.tagType=3:oL(t)&&(t.tagType=1)),qi.inRCDATA||(t.children=cS(m)),p===0&&Bn.isIgnoreNewlineTag(c)){const o=m[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}p===0&&Bn.isPreTag(c)&&z_--,Sy===t&&(ku=qi.inVPre=!1,Sy=null),qi.inXML&&(wi[0]?wi[0].ns:Bn.ns)===0&&(qi.inXML=!1);{const o=t.props;if(!qi.inSFCRoot&&Ec("COMPILER_NATIVE_TEMPLATE",Bn)&&t.tag==="template"&&!xb(t)){const E=wi[0]||up,M=E.children.indexOf(t);E.children.splice(M,1,...t.children)}const T=o.find(E=>E.type===6&&E.name==="inline-template");T&&sp("COMPILER_INLINE_TEMPLATE",Bn,T.loc)&&t.children.length&&(T.value={type:2,content:Bo(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:T.loc})}}function nL(t,n){let a=t;for(;Ql.charCodeAt(a)!==n&&a<Ql.length-1;)a++;return a}function uS(t,n){let a=t;for(;Ql.charCodeAt(a)!==n&&a>=0;)a--;return a}const iL=new Set(["if","else","else-if","for","slot"]);function xb({tag:t,props:n}){if(t==="template"){for(let a=0;a<n.length;a++)if(n[a].type===7&&iL.has(n[a].name))return!0}return!1}function oL({tag:t,props:n}){if(Bn.isCustomElement(t))return!1;if(t==="component"||aL(t.charCodeAt(0))||iS(t)||Bn.isBuiltInComponent&&Bn.isBuiltInComponent(t)||Bn.isNativeTag&&!Bn.isNativeTag(t))return!0;for(let a=0;a<n.length;a++){const c=n[a];if(c.type===6){if(c.name==="is"&&c.value){if(c.value.content.startsWith("vue:"))return!0;if(sp("COMPILER_IS_ON_ELEMENT",Bn,c.loc))return!0}}else if(c.name==="bind"&&_c(c.arg,"is")&&sp("COMPILER_IS_ON_ELEMENT",Bn,c.loc))return!0}return!1}function aL(t){return t>64&&t<91}const sL=/\r\n/g;function cS(t,n){const a=Bn.whitespace!=="preserve";let c=!1;for(let p=0;p<t.length;p++){const m=t[p];if(m.type===2)if(z_)m.content=m.content.replace(sL,`
`);else if(lL(m.content)){const o=t[p-1]&&t[p-1].type,T=t[p+1]&&t[p+1].type;!o||!T||a&&(o===3&&(T===3||T===1)||o===1&&(T===3||T===1&&uL(m.content)))?(c=!0,t[p]=null):m.content=" "}else a&&(m.content=hS(m.content))}return c?t.filter(Boolean):t}function lL(t){for(let n=0;n<t.length;n++)if(!is(t.charCodeAt(n)))return!1;return!0}function uL(t){for(let n=0;n<t.length;n++){const a=t.charCodeAt(n);if(a===10||a===13)return!0}return!1}function hS(t){let n="",a=!1;for(let c=0;c<t.length;c++)is(t.charCodeAt(c))?a||(n+=" ",a=!0):(n+=t[c],a=!1);return n}function Ty(t){(wi[0]||up).children.push(t)}function Ji(t,n){return{start:qi.getPos(t),end:n==null?n:qi.getPos(n),source:n==null?n:Bo(t,n)}}function cL(t){return Ji(t.start.offset,t.end.offset)}function vc(t,n){t.end=qi.getPos(n),t.source=Bo(t.start.offset,n)}function hL(t){const n={type:6,name:t.rawName,nameLoc:Ji(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const a=t.exp.loc;a.end.offset<t.loc.end.offset&&(a.start.offset--,a.start.column--,a.end.offset++,a.end.column++),n.value={type:2,content:t.exp.content,loc:a}}return n}function Ad(t,n=!1,a,c=0,p=0){return en(t,n,a,c)}function jl(t,n,a){Bn.onError(Si(t,Ji(n,n)))}function fL(){qi.reset(),na=null,kn=null,Na="",$l=-1,gc=-1,wi.length=0}function pL(t,n){if(fL(),Ql=t,Bn=xn({},lS),n){let p;for(p in n)n[p]!=null&&(Bn[p]=n[p])}qi.mode=Bn.parseMode==="html"?1:Bn.parseMode==="sfc"?2:0,qi.inXML=Bn.ns===1||Bn.ns===2;const a=n&&n.delimiters;a&&(qi.delimiterOpen=nm(a[0]),qi.delimiterClose=nm(a[1]));const c=up=FP([],t);return qi.parse(Ql),c.loc=Ji(0,t.length),c.children=cS(c.children),up=null,c}function dL(t,n){Id(t,void 0,n,fS(t,t.children[0]))}function fS(t,n){const{children:a}=t;return a.length===1&&n.type===1&&!om(n)}function Id(t,n,a,c=!1,p=!1){const{children:m}=t,o=[];for(let R=0;R<m.length;R++){const B=m[R];if(B.type===1&&B.tagType===0){const W=c?0:os(B,a);if(W>0){if(W>=2){B.codegenNode.patchFlag=-1,o.push(B);continue}}else{const ae=B.codegenNode;if(ae.type===13){const ee=ae.patchFlag;if((ee===void 0||ee===512||ee===1)&&dS(B,a)>=2){const re=mS(B);re&&(ae.props=a.hoist(re))}ae.dynamicProps&&(ae.dynamicProps=a.hoist(ae.dynamicProps))}}}else if(B.type===12&&(c?0:os(B,a))>=2){o.push(B);continue}if(B.type===1){const W=B.tagType===1;W&&a.scopes.vSlot++,Id(B,t,a,!1,p),W&&a.scopes.vSlot--}else if(B.type===11)Id(B,t,a,B.children.length===1,!0);else if(B.type===9)for(let W=0;W<B.branches.length;W++)Id(B.branches[W],t,a,B.branches[W].children.length===1,p)}let T=!1;if(o.length===m.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&rr(t.codegenNode.children))t.codegenNode.children=E(Tc(t.codegenNode.children)),T=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!rr(t.codegenNode.children)&&t.codegenNode.children.type===15){const R=M(t.codegenNode,"default");R&&(R.returns=E(Tc(R.returns)),T=!0)}else if(t.tagType===3&&n&&n.type===1&&n.tagType===1&&n.codegenNode&&n.codegenNode.type===13&&n.codegenNode.children&&!rr(n.codegenNode.children)&&n.codegenNode.children.type===15){const R=xs(t,"slot",!0),B=R&&R.arg&&M(n.codegenNode,R.arg);B&&(B.returns=E(Tc(B.returns)),T=!0)}}if(!T)for(const R of o)R.codegenNode=a.cache(R.codegenNode);function E(R){const B=a.cache(R);return p&&a.hmr&&(B.needArraySpread=!0),B}function M(R,B){if(R.children&&!rr(R.children)&&R.children.type===15){const W=R.children.properties.find(ae=>ae.key===B||ae.key.content===B);return W&&W.value}}o.length&&a.transformHoist&&a.transformHoist(m,a,t)}function os(t,n){const{constantCache:a}=n;switch(t.type){case 1:if(t.tagType!==0)return 0;const c=a.get(t);if(c!==void 0)return c;const p=t.codegenNode;if(p.type!==13||p.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(p.patchFlag===void 0){let o=3;const T=dS(t,n);if(T===0)return a.set(t,0),0;T<o&&(o=T);for(let E=0;E<t.children.length;E++){const M=os(t.children[E],n);if(M===0)return a.set(t,0),0;M<o&&(o=M)}if(o>1)for(let E=0;E<t.props.length;E++){const M=t.props[E];if(M.type===7&&M.name==="bind"&&M.exp){const R=os(M.exp,n);if(R===0)return a.set(t,0),0;R<o&&(o=R)}}if(p.isBlock){for(let E=0;E<t.props.length;E++)if(t.props[E].type===7)return a.set(t,0),0;n.removeHelper(kc),n.removeHelper(Bh(n.inSSR,p.isComponent)),p.isBlock=!1,n.helper(Fh(n.inSSR,p.isComponent))}return a.set(t,o),o}else return a.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return os(t.content,n);case 4:return t.constType;case 8:let m=3;for(let o=0;o<t.children.length;o++){const T=t.children[o];if(Gr(T)||qa(T))continue;const E=os(T,n);if(E===0)return 0;E<m&&(m=E)}return m;case 20:return 2;default:return 0}}const mL=new Set([k_,P_,op,xp]);function pS(t,n){if(t.type===14&&!Gr(t.callee)&&mL.has(t.callee)){const a=t.arguments[0];if(a.type===4)return os(a,n);if(a.type===14)return pS(a,n)}return 0}function dS(t,n){let a=3;const c=mS(t);if(c&&c.type===15){const{properties:p}=c;for(let m=0;m<p.length;m++){const{key:o,value:T}=p[m],E=os(o,n);if(E===0)return E;E<a&&(a=E);let M;if(T.type===4?M=os(T,n):T.type===14?M=pS(T,n):M=0,M===0)return M;M<a&&(a=M)}}return a}function mS(t){const n=t.codegenNode;if(n.type===13)return n.props}function gL(t,{filename:n="",prefixIdentifiers:a=!1,hoistStatic:c=!1,hmr:p=!1,cacheHandlers:m=!1,nodeTransforms:o=[],directiveTransforms:T={},transformHoist:E=null,isBuiltInComponent:M=sa,isCustomElement:R=sa,expressionPlugins:B=[],scopeId:W=null,slotted:ae=!0,ssr:ee=!1,inSSR:re=!1,ssrCssVars:ue="",bindingMetadata:ce=bn,inline:Pe=!1,isTS:Y=!1,onError:se=D_,onWarn:Se=nS,compatConfig:Me}){const C=n.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),qe={filename:n,selfName:C&&Rc(di(C[1])),prefixIdentifiers:a,hoistStatic:c,hmr:p,cacheHandlers:m,nodeTransforms:o,directiveTransforms:T,transformHoist:E,isBuiltInComponent:M,isCustomElement:R,expressionPlugins:B,scopeId:W,slotted:ae,ssr:ee,inSSR:re,ssrCssVars:ue,bindingMetadata:ce,inline:Pe,isTS:Y,onError:se,onWarn:Se,compatConfig:Me,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(we){const Xe=qe.helpers.get(we)||0;return qe.helpers.set(we,Xe+1),we},removeHelper(we){const Xe=qe.helpers.get(we);if(Xe){const xt=Xe-1;xt?qe.helpers.set(we,xt):qe.helpers.delete(we)}},helperString(we){return`_${Nh[qe.helper(we)]}`},replaceNode(we){qe.parent.children[qe.childIndex]=qe.currentNode=we},removeNode(we){const Xe=qe.parent.children,xt=we?Xe.indexOf(we):qe.currentNode?qe.childIndex:-1;!we||we===qe.currentNode?(qe.currentNode=null,qe.onNodeRemoved()):qe.childIndex>xt&&(qe.childIndex--,qe.onNodeRemoved()),qe.parent.children.splice(xt,1)},onNodeRemoved:sa,addIdentifiers(we){},removeIdentifiers(we){},hoist(we){Gr(we)&&(we=en(we)),qe.hoists.push(we);const Xe=en(`_hoisted_${qe.hoists.length}`,!1,we.loc,2);return Xe.hoisted=we,Xe},cache(we,Xe=!1){const xt=BP(qe.cached.length,we,Xe);return qe.cached.push(xt),xt}};return qe.filters=new Set,qe}function yL(t,n){const a=gL(t,n);Vm(t,a),n.hoistStatic&&dL(t,a),n.ssr||_L(t,a),t.helpers=new Set([...a.helpers.keys()]),t.components=[...a.components],t.directives=[...a.directives],t.imports=a.imports,t.hoists=a.hoists,t.temps=a.temps,t.cached=a.cached,t.transformed=!0,t.filters=[...a.filters]}function _L(t,n){const{helper:a}=n,{children:c}=t;if(c.length===1){const p=c[0];if(fS(t,p)&&p.codegenNode){const m=p.codegenNode;m.type===13&&O_(m,n),t.codegenNode=m}else t.codegenNode=p}else if(c.length>1){let p=64;t.codegenNode=ap(n,a(ip),void 0,t.children,p,void 0,void 0,!0,void 0,!1)}}function vL(t,n){let a=0;const c=()=>{a--};for(;a<t.children.length;a++){const p=t.children[a];Gr(p)||(n.grandParent=n.parent,n.parent=t,n.childIndex=a,n.onNodeRemoved=c,Vm(p,n))}}function Vm(t,n){n.currentNode=t;const{nodeTransforms:a}=n,c=[];for(let m=0;m<a.length;m++){const o=a[m](t,n);if(o&&(rr(o)?c.push(...o):c.push(o)),n.currentNode)t=n.currentNode;else return}switch(t.type){case 3:n.ssr||n.helper(bp);break;case 5:n.ssr||n.helper(Bm);break;case 9:for(let m=0;m<t.branches.length;m++)Vm(t.branches[m],n);break;case 10:case 11:case 1:case 0:vL(t,n);break}n.currentNode=t;let p=c.length;for(;p--;)c[p]()}function gS(t,n){const a=Gr(t)?c=>c===t:c=>t.test(c);return(c,p)=>{if(c.type===1){const{props:m}=c;if(c.tagType===3&&m.some(YP))return;const o=[];for(let T=0;T<m.length;T++){const E=m[T];if(E.type===7&&a(E.name)){m.splice(T,1),T--;const M=n(c,E,p);M&&o.push(M)}}return o}}}const jm="/*@__PURE__*/",yS=t=>`${Nh[t]}: _${Nh[t]}`;function bL(t,{mode:n="function",prefixIdentifiers:a=n==="module",sourceMap:c=!1,filename:p="template.vue.html",scopeId:m=null,optimizeImports:o=!1,runtimeGlobalName:T="Vue",runtimeModuleName:E="vue",ssrRuntimeModuleName:M="vue/server-renderer",ssr:R=!1,isTS:B=!1,inSSR:W=!1}){const ae={mode:n,prefixIdentifiers:a,sourceMap:c,filename:p,scopeId:m,optimizeImports:o,runtimeGlobalName:T,runtimeModuleName:E,ssrRuntimeModuleName:M,ssr:R,isTS:B,inSSR:W,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(re){return`_${Nh[re]}`},push(re,ue=-2,ce){ae.code+=re},indent(){ee(++ae.indentLevel)},deindent(re=!1){re?--ae.indentLevel:ee(--ae.indentLevel)},newline(){ee(ae.indentLevel)}};function ee(re){ae.push(`
`+"  ".repeat(re),0)}return ae}function xL(t,n={}){const a=bL(t,n);n.onContextCreated&&n.onContextCreated(a);const{mode:c,push:p,prefixIdentifiers:m,indent:o,deindent:T,newline:E,scopeId:M,ssr:R}=a,B=Array.from(t.helpers),W=B.length>0,ae=!m&&c!=="module";wL(t,a);const re=R?"ssrRender":"render",ce=(R?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(p(`function ${re}(${ce}) {`),o(),ae&&(p("with (_ctx) {"),o(),W&&(p(`const { ${B.map(yS).join(", ")} } = _Vue
`,-1),E())),t.components.length&&(jg(t.components,"component",a),(t.directives.length||t.temps>0)&&E()),t.directives.length&&(jg(t.directives,"directive",a),t.temps>0&&E()),t.filters&&t.filters.length&&(E(),jg(t.filters,"filter",a),E()),t.temps>0){p("let ");for(let Pe=0;Pe<t.temps;Pe++)p(`${Pe>0?", ":""}_temp${Pe}`)}return(t.components.length||t.directives.length||t.temps)&&(p(`
`,0),E()),R||p("return "),t.codegenNode?la(t.codegenNode,a):p("null"),ae&&(T(),p("}")),T(),p("}"),{ast:t,code:a.code,preamble:"",map:a.map?a.map.toJSON():void 0}}function wL(t,n){const{ssr:a,prefixIdentifiers:c,push:p,newline:m,runtimeModuleName:o,runtimeGlobalName:T,ssrRuntimeModuleName:E}=n,M=T,R=Array.from(t.helpers);if(R.length>0&&(p(`const _Vue = ${M}
`,-1),t.hoists.length)){const B=[b_,x_,bp,w_,Qw].filter(W=>R.includes(W)).map(yS).join(", ");p(`const { ${B} } = _Vue
`,-1)}SL(t.hoists,n),m(),p("return ")}function jg(t,n,{helper:a,push:c,newline:p,isTS:m}){const o=a(n==="filter"?C_:n==="component"?S_:E_);for(let T=0;T<t.length;T++){let E=t[T];const M=E.endsWith("__self");M&&(E=E.slice(0,-6)),c(`const ${lp(E,n)} = ${o}(${JSON.stringify(E)}${M?", true":""})${m?"!":""}`),T<t.length-1&&p()}}function SL(t,n){if(!t.length)return;n.pure=!0;const{push:a,newline:c}=n;c();for(let p=0;p<t.length;p++){const m=t[p];m&&(a(`const _hoisted_${p+1} = `),la(m,n),c())}n.pure=!1}function F_(t,n){const a=t.length>3||!1;n.push("["),a&&n.indent(),wp(t,n,a),a&&n.deindent(),n.push("]")}function wp(t,n,a=!1,c=!0){const{push:p,newline:m}=n;for(let o=0;o<t.length;o++){const T=t[o];Gr(T)?p(T,-3):rr(T)?F_(T,n):la(T,n),o<t.length-1&&(a?(c&&p(","),m()):c&&p(", "))}}function la(t,n){if(Gr(t)){n.push(t,-3);return}if(qa(t)){n.push(n.helper(t));return}switch(t.type){case 1:case 9:case 11:la(t.codegenNode,n);break;case 2:TL(t,n);break;case 4:_S(t,n);break;case 5:EL(t,n);break;case 12:la(t.codegenNode,n);break;case 8:vS(t,n);break;case 3:AL(t,n);break;case 13:IL(t,n);break;case 14:PL(t,n);break;case 15:LL(t,n);break;case 17:RL(t,n);break;case 18:ML(t,n);break;case 19:OL(t,n);break;case 20:DL(t,n);break;case 21:wp(t.body,n,!0,!1);break}}function TL(t,n){n.push(JSON.stringify(t.content),-3,t)}function _S(t,n){const{content:a,isStatic:c}=t;n.push(c?JSON.stringify(a):a,-3,t)}function EL(t,n){const{push:a,helper:c,pure:p}=n;p&&a(jm),a(`${c(Bm)}(`),la(t.content,n),a(")")}function vS(t,n){for(let a=0;a<t.children.length;a++){const c=t.children[a];Gr(c)?n.push(c,-3):la(c,n)}}function CL(t,n){const{push:a}=n;if(t.type===8)a("["),vS(t,n),a("]");else if(t.isStatic){const c=N_(t.content)?t.content:JSON.stringify(t.content);a(c,-2,t)}else a(`[${t.content}]`,-3,t)}function AL(t,n){const{push:a,helper:c,pure:p}=n;p&&a(jm),a(`${c(bp)}(${JSON.stringify(t.content)})`,-3,t)}function IL(t,n){const{push:a,helper:c,pure:p}=n,{tag:m,props:o,children:T,patchFlag:E,dynamicProps:M,directives:R,isBlock:B,disableTracking:W,isComponent:ae}=t;let ee;E&&(ee=String(E)),R&&a(c(A_)+"("),B&&a(`(${c(kc)}(${W?"true":""}), `),p&&a(jm);const re=B?Bh(n.inSSR,ae):Fh(n.inSSR,ae);a(c(re)+"(",-2,t),wp(kL([m,o,T,ee,M]),n),a(")"),B&&a(")"),R&&(a(", "),la(R,n),a(")"))}function kL(t){let n=t.length;for(;n--&&t[n]==null;);return t.slice(0,n+1).map(a=>a||"null")}function PL(t,n){const{push:a,helper:c,pure:p}=n,m=Gr(t.callee)?t.callee:c(t.callee);p&&a(jm),a(m+"(",-2,t),wp(t.arguments,n),a(")")}function LL(t,n){const{push:a,indent:c,deindent:p,newline:m}=n,{properties:o}=t;if(!o.length){a("{}",-2,t);return}const T=o.length>1||!1;a(T?"{":"{ "),T&&c();for(let E=0;E<o.length;E++){const{key:M,value:R}=o[E];CL(M,n),a(": "),la(R,n),E<o.length-1&&(a(","),m())}T&&p(),a(T?"}":" }")}function RL(t,n){F_(t.elements,n)}function ML(t,n){const{push:a,indent:c,deindent:p}=n,{params:m,returns:o,body:T,newline:E,isSlot:M}=t;M&&a(`_${Nh[R_]}(`),a("(",-2,t),rr(m)?wp(m,n):m&&la(m,n),a(") => "),(E||T)&&(a("{"),c()),o?(E&&a("return "),rr(o)?F_(o,n):la(o,n)):T&&la(T,n),(E||T)&&(p(),a("}")),M&&(t.isNonScopedSlot&&a(", undefined, true"),a(")"))}function OL(t,n){const{test:a,consequent:c,alternate:p,newline:m}=t,{push:o,indent:T,deindent:E,newline:M}=n;if(a.type===4){const B=!N_(a.content);B&&o("("),_S(a,n),B&&o(")")}else o("("),la(a,n),o(")");m&&T(),n.indentLevel++,m||o(" "),o("? "),la(c,n),n.indentLevel--,m&&M(),m||o(" "),o(": ");const R=p.type===19;R||n.indentLevel++,la(p,n),R||n.indentLevel--,m&&E(!0)}function DL(t,n){const{push:a,helper:c,indent:p,deindent:m,newline:o}=n,{needPauseTracking:T,needArraySpread:E}=t;E&&a("[...("),a(`_cache[${t.index}] || (`),T&&(p(),a(`${c(rm)}(-1),`),o(),a("(")),a(`_cache[${t.index}] = `),la(t.value,n),T&&(a(`).cacheIndex = ${t.index},`),o(),a(`${c(rm)}(1),`),o(),a(`_cache[${t.index}]`),m()),a(")"),E&&a(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const NL=gS(/^(if|else|else-if)$/,(t,n,a)=>zL(t,n,a,(c,p,m)=>{const o=a.parent.children;let T=o.indexOf(c),E=0;for(;T-->=0;){const M=o[T];M&&M.type===9&&(E+=M.branches.length)}return()=>{if(m)c.codegenNode=Sb(p,E,a);else{const M=FL(c.codegenNode);M.alternate=Sb(p,E+c.branches.length-1,a)}}}));function zL(t,n,a,c){if(n.name!=="else"&&(!n.exp||!n.exp.content.trim())){const p=n.exp?n.exp.loc:t.loc;a.onError(Si(28,n.loc)),n.exp=en("true",!1,p)}if(n.name==="if"){const p=wb(t,n),m={type:9,loc:cL(t.loc),branches:[p]};if(a.replaceNode(m),c)return c(m,p,!0)}else{const p=a.parent.children;let m=p.indexOf(t);for(;m-->=-1;){const o=p[m];if(o&&o.type===3){a.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){a.removeNode(o);continue}if(o&&o.type===9){n.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&a.onError(Si(30,t.loc)),a.removeNode();const T=wb(t,n);o.branches.push(T);const E=c&&c(o,T,!1);Vm(T,a),E&&E(),a.currentNode=null}else a.onError(Si(30,t.loc));break}}}function wb(t,n){const a=t.tagType===3;return{type:10,loc:t.loc,condition:n.name==="else"?void 0:n.exp,children:a&&!xs(t,"for")?t.children:[t],userKey:Um(t,"key"),isTemplateIf:a}}function Sb(t,n,a){return t.condition?wy(t.condition,Tb(t,n,a),mo(a.helper(bp),['""',"true"])):Tb(t,n,a)}function Tb(t,n,a){const{helper:c}=a,p=Qi("key",en(`${n}`,!1,hs,2)),{children:m}=t,o=m[0];if(m.length!==1||o.type!==1)if(m.length===1&&o.type===11){const E=o.codegenNode;return am(E,p,a),E}else return ap(a,c(ip),Ts([p]),m,64,void 0,void 0,!0,!1,!1,t.loc);else{const E=o.codegenNode,M=QP(E);return M.type===13&&O_(M,a),am(M,p,a),E}}function FL(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const BL=(t,n,a)=>{const{modifiers:c,loc:p}=t,m=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(m.type!==4||!m.isStatic)return a.onError(Si(52,m.loc)),{props:[Qi(m,en("",!0,p))]};bS(t),o=t.exp}return m.type!==4?(m.children.unshift("("),m.children.push(') || ""')):m.isStatic||(m.content=`${m.content} || ""`),c.some(T=>T.content==="camel")&&(m.type===4?m.isStatic?m.content=di(m.content):m.content=`${a.helperString(by)}(${m.content})`:(m.children.unshift(`${a.helperString(by)}(`),m.children.push(")"))),a.inSSR||(c.some(T=>T.content==="prop")&&Eb(m,"."),c.some(T=>T.content==="attr")&&Eb(m,"^")),{props:[Qi(m,o)]}},bS=(t,n)=>{const a=t.arg,c=di(a.content);t.exp=en(c,!1,a.loc)},Eb=(t,n)=>{t.type===4?t.isStatic?t.content=n+t.content:t.content=`\`${n}\${${t.content}}\``:(t.children.unshift(`'${n}' + (`),t.children.push(")"))},UL=gS("for",(t,n,a)=>{const{helper:c,removeHelper:p}=a;return VL(t,n,a,m=>{const o=mo(c(I_),[m.source]),T=im(t),E=xs(t,"memo"),M=Um(t,"key",!1,!0);M&&M.type===7&&!M.exp&&bS(M);const R=M&&(M.type===6?M.value?en(M.value.content,!0):void 0:M.exp),B=M&&R?Qi("key",R):null,W=m.source.type===4&&m.source.constType>0,ae=W?64:M?128:256;return m.codegenNode=ap(a,c(ip),void 0,o,ae,void 0,void 0,!0,!W,!1,t.loc),()=>{let ee;const{children:re}=m,ue=re.length!==1||re[0].type!==1,ce=om(t)?t:T&&t.children.length===1&&om(t.children[0])?t.children[0]:null;if(ce?(ee=ce.codegenNode,T&&B&&am(ee,B,a)):ue?ee=ap(a,c(ip),B?Ts([B]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(ee=re[0].codegenNode,T&&B&&am(ee,B,a),ee.isBlock!==!W&&(ee.isBlock?(p(kc),p(Bh(a.inSSR,ee.isComponent))):p(Fh(a.inSSR,ee.isComponent))),ee.isBlock=!W,ee.isBlock?(c(kc),c(Bh(a.inSSR,ee.isComponent))):c(Fh(a.inSSR,ee.isComponent))),E){const Pe=zh(Ey(m.parseResult,[en("_cached")]));Pe.body=UP([Hs(["const _memo = (",E.exp,")"]),Hs(["if (_cached",...R?[" && _cached.key === ",R]:[],` && ${a.helperString(rS)}(_cached, _memo)) return _cached`]),Hs(["const _item = ",ee]),en("_item.memo = _memo"),en("return _item")]),o.arguments.push(Pe,en("_cache"),en(String(a.cached.length))),a.cached.push(null)}else o.arguments.push(zh(Ey(m.parseResult),ee,!0))}})});function VL(t,n,a,c){if(!n.exp){a.onError(Si(31,n.loc));return}const p=n.forParseResult;if(!p){a.onError(Si(32,n.loc));return}xS(p);const{addIdentifiers:m,removeIdentifiers:o,scopes:T}=a,{source:E,value:M,key:R,index:B}=p,W={type:11,loc:n.loc,source:E,valueAlias:M,keyAlias:R,objectIndexAlias:B,parseResult:p,children:im(t)?t.children:[t]};a.replaceNode(W),T.vFor++;const ae=c&&c(W);return()=>{T.vFor--,ae&&ae()}}function xS(t,n){t.finalized||(t.finalized=!0)}function Ey({value:t,key:n,index:a},c=[]){return jL([t,n,a,...c])}function jL(t){let n=t.length;for(;n--&&!t[n];);return t.slice(0,n+1).map((a,c)=>a||en("_".repeat(c+1),!1))}const Cb=en("undefined",!1),qL=(t,n)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const a=xs(t,"slot");if(a)return a.exp,n.scopes.vSlot++,()=>{n.scopes.vSlot--}}},HL=(t,n,a,c)=>zh(t,a,!1,!0,a.length?a[0].loc:c);function WL(t,n,a=HL){n.helper(R_);const{children:c,loc:p}=t,m=[],o=[];let T=n.scopes.vSlot>0||n.scopes.vFor>0;const E=xs(t,"slot",!0);if(E){const{arg:ue,exp:ce}=E;ue&&!Ua(ue)&&(T=!0),m.push(Qi(ue||en("default",!0),a(ce,void 0,c,p)))}let M=!1,R=!1;const B=[],W=new Set;let ae=0;for(let ue=0;ue<c.length;ue++){const ce=c[ue];let Pe;if(!im(ce)||!(Pe=xs(ce,"slot",!0))){ce.type!==3&&B.push(ce);continue}if(E){n.onError(Si(37,Pe.loc));break}M=!0;const{children:Y,loc:se}=ce,{arg:Se=en("default",!0),exp:Me,loc:C}=Pe;let qe;Ua(Se)?qe=Se?Se.content:"default":T=!0;const we=xs(ce,"for"),Xe=a(Me,we,Y,se);let xt,Ge;if(xt=xs(ce,"if"))T=!0,o.push(wy(xt.exp,yd(Se,Xe,ae++),Cb));else if(Ge=xs(ce,/^else(-if)?$/,!0)){let tt=ue,Ht;for(;tt--&&(Ht=c[tt],Ht.type===3););if(Ht&&im(Ht)&&xs(Ht,/^(else-)?if$/)){let fr=o[o.length-1];for(;fr.alternate.type===19;)fr=fr.alternate;fr.alternate=Ge.exp?wy(Ge.exp,yd(Se,Xe,ae++),Cb):yd(Se,Xe,ae++)}else n.onError(Si(30,Ge.loc))}else if(we){T=!0;const tt=we.forParseResult;tt?(xS(tt),o.push(mo(n.helper(I_),[tt.source,zh(Ey(tt),yd(Se,Xe),!0)]))):n.onError(Si(32,we.loc))}else{if(qe){if(W.has(qe)){n.onError(Si(38,C));continue}W.add(qe),qe==="default"&&(R=!0)}m.push(Qi(Se,Xe))}}if(!E){const ue=(ce,Pe)=>{const Y=a(ce,void 0,Pe,p);return n.compatConfig&&(Y.isNonScopedSlot=!0),Qi("default",Y)};M?B.length&&B.some(ce=>wS(ce))&&(R?n.onError(Si(39,B[0].loc)):m.push(ue(void 0,B))):m.push(ue(void 0,c))}const ee=T?2:kd(t.children)?3:1;let re=Ts(m.concat(Qi("_",en(ee+"",!1))),p);return o.length&&(re=mo(n.helper(tS),[re,Tc(o)])),{slots:re,hasDynamicSlots:T}}function yd(t,n,a){const c=[Qi("name",t),Qi("fn",n)];return a!=null&&c.push(Qi("key",en(String(a),!0))),Ts(c)}function kd(t){for(let n=0;n<t.length;n++){const a=t[n];switch(a.type){case 1:if(a.tagType===2||kd(a.children))return!0;break;case 9:if(kd(a.branches))return!0;break;case 10:case 11:if(kd(a.children))return!0;break}}return!1}function wS(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():wS(t.content)}const SS=new WeakMap,$L=(t,n)=>function(){if(t=n.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:c,props:p}=t,m=t.tagType===1;let o=m?GL(t,n):`"${c}"`;const T=Wn(o)&&o.callee===T_;let E,M,R=0,B,W,ae,ee=T||o===Gf||o===v_||!m&&(c==="svg"||c==="foreignObject"||c==="math");if(p.length>0){const re=TS(t,n,void 0,m,T);E=re.props,R=re.patchFlag,W=re.dynamicPropNames;const ue=re.directives;ae=ue&&ue.length?Tc(ue.map(ce=>XL(ce,n))):void 0,re.shouldUseBlock&&(ee=!0)}if(t.children.length>0)if(o===em&&(ee=!0,R|=1024),m&&o!==Gf&&o!==em){const{slots:ue,hasDynamicSlots:ce}=WL(t,n);M=ue,ce&&(R|=1024)}else if(t.children.length===1&&o!==Gf){const ue=t.children[0],ce=ue.type,Pe=ce===5||ce===8;Pe&&os(ue,n)===0&&(R|=1),Pe||ce===2?M=ue:M=t.children}else M=t.children;W&&W.length&&(B=KL(W)),t.codegenNode=ap(n,o,E,M,R===0?void 0:R,B,ae,!!ee,!1,m,t.loc)};function GL(t,n,a=!1){let{tag:c}=t;const p=Cy(c),m=Um(t,"is",!1,!0);if(m)if(p||Ec("COMPILER_IS_ON_ELEMENT",n)){let T;if(m.type===6?T=m.value&&en(m.value.content,!0):(T=m.exp,T||(T=en("is",!1,m.arg.loc))),T)return mo(n.helper(T_),[T])}else m.type===6&&m.value.content.startsWith("vue:")&&(c=m.value.content.slice(4));const o=iS(c)||n.isBuiltInComponent(c);return o?(a||n.helper(o),o):(n.helper(S_),n.components.add(c),lp(c,"component"))}function TS(t,n,a=t.props,c,p,m=!1){const{tag:o,loc:T,children:E}=t;let M=[];const R=[],B=[],W=E.length>0;let ae=!1,ee=0,re=!1,ue=!1,ce=!1,Pe=!1,Y=!1,se=!1;const Se=[],Me=Xe=>{M.length&&(R.push(Ts(Ab(M),T)),M=[]),Xe&&R.push(Xe)},C=()=>{n.scopes.vFor>0&&M.push(Qi(en("ref_for",!0),en("true")))},qe=({key:Xe,value:xt})=>{if(Ua(Xe)){const Ge=Xe.content,tt=Pc(Ge);if(tt&&(!c||p)&&Ge.toLowerCase()!=="onclick"&&Ge!=="onUpdate:modelValue"&&!Pu(Ge)&&(Pe=!0),tt&&Pu(Ge)&&(se=!0),tt&&xt.type===14&&(xt=xt.arguments[0]),xt.type===20||(xt.type===4||xt.type===8)&&os(xt,n)>0)return;Ge==="ref"?re=!0:Ge==="class"?ue=!0:Ge==="style"?ce=!0:Ge!=="key"&&!Se.includes(Ge)&&Se.push(Ge),c&&(Ge==="class"||Ge==="style")&&!Se.includes(Ge)&&Se.push(Ge)}else Y=!0};for(let Xe=0;Xe<a.length;Xe++){const xt=a[Xe];if(xt.type===6){const{loc:Ge,name:tt,nameLoc:Ht,value:fr}=xt;let Lt=!0;if(tt==="ref"&&(re=!0,C()),tt==="is"&&(Cy(o)||fr&&fr.content.startsWith("vue:")||Ec("COMPILER_IS_ON_ELEMENT",n)))continue;M.push(Qi(en(tt,!0,Ht),en(fr?fr.content:"",Lt,fr?fr.loc:Ge)))}else{const{name:Ge,arg:tt,exp:Ht,loc:fr,modifiers:Lt}=xt,Jt=Ge==="bind",Zt=Ge==="on";if(Ge==="slot"){c||n.onError(Si(40,fr));continue}if(Ge==="once"||Ge==="memo"||Ge==="is"||Jt&&_c(tt,"is")&&(Cy(o)||Ec("COMPILER_IS_ON_ELEMENT",n))||Zt&&m)continue;if((Jt&&_c(tt,"key")||Zt&&W&&_c(tt,"vue:before-update"))&&(ae=!0),Jt&&_c(tt,"ref")&&C(),!tt&&(Jt||Zt)){if(Y=!0,Ht)if(Jt){if(C(),Me(),Ec("COMPILER_V_BIND_OBJECT_ORDER",n)){R.unshift(Ht);continue}R.push(Ht)}else Me({type:14,loc:fr,callee:n.helper(L_),arguments:c?[Ht]:[Ht,"true"]});else n.onError(Si(Jt?34:35,fr));continue}Jt&&Lt.some(Mn=>Mn.content==="prop")&&(ee|=32);const Zr=n.directiveTransforms[Ge];if(Zr){const{props:Mn,needRuntime:Kr}=Zr(xt,t,n);!m&&Mn.forEach(qe),Zt&&tt&&!Ua(tt)?Me(Ts(Mn,T)):M.push(...Mn),Kr&&(B.push(xt),qa(Kr)&&SS.set(xt,Kr))}else F2(Ge)||(B.push(xt),W&&(ae=!0))}}let we;if(R.length?(Me(),R.length>1?we=mo(n.helper(tm),R,T):we=R[0]):M.length&&(we=Ts(Ab(M),T)),Y?ee|=16:(ue&&!c&&(ee|=2),ce&&!c&&(ee|=4),Se.length&&(ee|=8),Pe&&(ee|=32)),!ae&&(ee===0||ee===32)&&(re||se||B.length>0)&&(ee|=512),!n.inSSR&&we)switch(we.type){case 15:let Xe=-1,xt=-1,Ge=!1;for(let fr=0;fr<we.properties.length;fr++){const Lt=we.properties[fr].key;Ua(Lt)?Lt.content==="class"?Xe=fr:Lt.content==="style"&&(xt=fr):Lt.isHandlerKey||(Ge=!0)}const tt=we.properties[Xe],Ht=we.properties[xt];Ge?we=mo(n.helper(op),[we]):(tt&&!Ua(tt.value)&&(tt.value=mo(n.helper(k_),[tt.value])),Ht&&(ce||Ht.value.type===4&&Ht.value.content.trim()[0]==="["||Ht.value.type===17)&&(Ht.value=mo(n.helper(P_),[Ht.value])));break;case 14:break;default:we=mo(n.helper(op),[mo(n.helper(xp),[we])]);break}return{props:we,directives:B,patchFlag:ee,dynamicPropNames:Se,shouldUseBlock:ae}}function Ab(t){const n=new Map,a=[];for(let c=0;c<t.length;c++){const p=t[c];if(p.key.type===8||!p.key.isStatic){a.push(p);continue}const m=p.key.content,o=n.get(m);o?(m==="style"||m==="class"||Pc(m))&&ZL(o,p):(n.set(m,p),a.push(p))}return a}function ZL(t,n){t.value.type===17?t.value.elements.push(n.value):t.value=Tc([t.value,n.value],t.loc)}function XL(t,n){const a=[],c=SS.get(t);c?a.push(n.helperString(c)):(n.helper(E_),n.directives.add(t.name),a.push(lp(t.name,"directive")));const{loc:p}=t;if(t.exp&&a.push(t.exp),t.arg&&(t.exp||a.push("void 0"),a.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||a.push("void 0"),a.push("void 0"));const m=en("true",!1,p);a.push(Ts(t.modifiers.map(o=>Qi(o,m)),p))}return Tc(a,t.loc)}function KL(t){let n="[";for(let a=0,c=t.length;a<c;a++)n+=JSON.stringify(t[a]),a<c-1&&(n+=", ");return n+"]"}function Cy(t){return t==="component"||t==="Component"}const YL=(t,n)=>{if(om(t)){const{children:a,loc:c}=t,{slotName:p,slotProps:m}=JL(t,n),o=[n.prefixIdentifiers?"_ctx.$slots":"$slots",p,"{}","undefined","true"];let T=2;m&&(o[2]=m,T=3),a.length&&(o[3]=zh([],a,!1,!1,c),T=4),n.scopeId&&!n.slotted&&(T=5),o.splice(T),t.codegenNode=mo(n.helper(eS),o,c)}};function JL(t,n){let a='"default"',c;const p=[];for(let m=0;m<t.props.length;m++){const o=t.props[m];if(o.type===6)o.value&&(o.name==="name"?a=JSON.stringify(o.value.content):(o.name=di(o.name),p.push(o)));else if(o.name==="bind"&&_c(o.arg,"name")){if(o.exp)a=o.exp;else if(o.arg&&o.arg.type===4){const T=di(o.arg.content);a=o.exp=en(T,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Ua(o.arg)&&(o.arg.content=di(o.arg.content)),p.push(o)}if(p.length>0){const{props:m,directives:o}=TS(t,n,p,!1,!1);c=m,o.length&&n.onError(Si(36,o[0].loc))}return{slotName:a,slotProps:c}}const ES=(t,n,a,c)=>{const{loc:p,modifiers:m,arg:o}=t;!t.exp&&!m.length&&a.onError(Si(35,p));let T;if(o.type===4)if(o.isStatic){let B=o.content;B.startsWith("vue:")&&(B=`vnode-${B.slice(4)}`);const W=n.tagType!==0||B.startsWith("vnode")||!/[A-Z]/.test(B)?Ah(di(B)):`on:${B}`;T=en(W,!0,o.loc)}else T=Hs([`${a.helperString(xy)}(`,o,")"]);else T=o,T.children.unshift(`${a.helperString(xy)}(`),T.children.push(")");let E=t.exp;E&&!E.content.trim()&&(E=void 0);let M=a.cacheHandlers&&!E&&!a.inVOnce;if(E){const B=aS(E),W=!(B||XP(E)),ae=E.content.includes(";");(W||M&&B)&&(E=Hs([`${W?"$event":"(...args)"} => ${ae?"{":"("}`,E,ae?"}":")"]))}let R={props:[Qi(T,E||en("() => {}",!1,p))]};return c&&(R=c(R)),M&&(R.props[0].value=a.cache(R.props[0].value)),R.props.forEach(B=>B.key.isHandlerKey=!0),R},QL=(t,n)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const a=t.children;let c,p=!1;for(let m=0;m<a.length;m++){const o=a[m];if(Vg(o)){p=!0;for(let T=m+1;T<a.length;T++){const E=a[T];if(Vg(E))c||(c=a[m]=Hs([o],o.loc)),c.children.push(" + ",E),a.splice(T,1),T--;else{c=void 0;break}}}}if(!(!p||a.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(m=>m.type===7&&!n.directiveTransforms[m.name])&&t.tag!=="template")))for(let m=0;m<a.length;m++){const o=a[m];if(Vg(o)||o.type===8){const T=[];(o.type!==2||o.content!==" ")&&T.push(o),!n.ssr&&os(o,n)===0&&T.push("1"),a[m]={type:12,content:o,loc:o.loc,codegenNode:mo(n.helper(w_),T)}}}}},Ib=new WeakSet,eR=(t,n)=>{if(t.type===1&&xs(t,"once",!0))return Ib.has(t)||n.inVOnce||n.inSSR?void 0:(Ib.add(t),n.inVOnce=!0,n.helper(rm),()=>{n.inVOnce=!1;const a=n.currentNode;a.codegenNode&&(a.codegenNode=n.cache(a.codegenNode,!0))})},CS=(t,n,a)=>{const{exp:c,arg:p}=t;if(!c)return a.onError(Si(41,t.loc)),_d();const m=c.loc.source.trim(),o=c.type===4?c.content:m,T=a.bindingMetadata[m];if(T==="props"||T==="props-aliased")return a.onError(Si(44,c.loc)),_d();if(!o.trim()||!aS(c)&&!!1)return a.onError(Si(42,c.loc)),_d();const M=p||en("modelValue",!0),R=p?Ua(p)?`onUpdate:${di(p.content)}`:Hs(['"onUpdate:" + ',p]):"onUpdate:modelValue";let B;const W=a.isTS?"($event: any)":"$event";B=Hs([`${W} => ((`,c,") = $event)"]);const ae=[Qi(M,t.exp),Qi(R,B)];if(t.modifiers.length&&n.tagType===1){const ee=t.modifiers.map(ue=>ue.content).map(ue=>(N_(ue)?ue:JSON.stringify(ue))+": true").join(", "),re=p?Ua(p)?`${p.content}Modifiers`:Hs([p,' + "Modifiers"']):"modelModifiers";ae.push(Qi(re,en(`{ ${ee} }`,!1,t.loc,2)))}return _d(ae)};function _d(t=[]){return{props:t}}const tR=/[\w).+\-_$\]]/,rR=(t,n)=>{Ec("COMPILER_FILTERS",n)&&(t.type===5?sm(t.content,n):t.type===1&&t.props.forEach(a=>{a.type===7&&a.name!=="for"&&a.exp&&sm(a.exp,n)}))};function sm(t,n){if(t.type===4)kb(t,n);else for(let a=0;a<t.children.length;a++){const c=t.children[a];typeof c=="object"&&(c.type===4?kb(c,n):c.type===8?sm(t,n):c.type===5&&sm(c.content,n))}}function kb(t,n){const a=t.content;let c=!1,p=!1,m=!1,o=!1,T=0,E=0,M=0,R=0,B,W,ae,ee,re=[];for(ae=0;ae<a.length;ae++)if(W=B,B=a.charCodeAt(ae),c)B===39&&W!==92&&(c=!1);else if(p)B===34&&W!==92&&(p=!1);else if(m)B===96&&W!==92&&(m=!1);else if(o)B===47&&W!==92&&(o=!1);else if(B===124&&a.charCodeAt(ae+1)!==124&&a.charCodeAt(ae-1)!==124&&!T&&!E&&!M)ee===void 0?(R=ae+1,ee=a.slice(0,ae).trim()):ue();else{switch(B){case 34:p=!0;break;case 39:c=!0;break;case 96:m=!0;break;case 40:M++;break;case 41:M--;break;case 91:E++;break;case 93:E--;break;case 123:T++;break;case 125:T--;break}if(B===47){let ce=ae-1,Pe;for(;ce>=0&&(Pe=a.charAt(ce),Pe===" ");ce--);(!Pe||!tR.test(Pe))&&(o=!0)}}ee===void 0?ee=a.slice(0,ae).trim():R!==0&&ue();function ue(){re.push(a.slice(R,ae).trim()),R=ae+1}if(re.length){for(ae=0;ae<re.length;ae++)ee=nR(ee,re[ae],n);t.content=ee,t.ast=void 0}}function nR(t,n,a){a.helper(C_);const c=n.indexOf("(");if(c<0)return a.filters.add(n),`${lp(n,"filter")}(${t})`;{const p=n.slice(0,c),m=n.slice(c+1);return a.filters.add(p),`${lp(p,"filter")}(${t}${m!==")"?","+m:m}`}}const Pb=new WeakSet,iR=(t,n)=>{if(t.type===1){const a=xs(t,"memo");return!a||Pb.has(t)?void 0:(Pb.add(t),()=>{const c=t.codegenNode||n.currentNode.codegenNode;c&&c.type===13&&(t.tagType!==1&&O_(c,n),t.codegenNode=mo(n.helper(M_),[a.exp,zh(void 0,c),"_cache",String(n.cached.length)]),n.cached.push(null))})}};function oR(t){return[[eR,NL,iR,UL,rR,YL,$L,qL,QL],{on:ES,bind:BL,model:CS}]}function aR(t,n={}){const a=n.onError||D_,c=n.mode==="module";n.prefixIdentifiers===!0?a(Si(47)):c&&a(Si(48));const p=!1;n.cacheHandlers&&a(Si(49)),n.scopeId&&!c&&a(Si(50));const m=xn({},n,{prefixIdentifiers:p}),o=Gr(t)?pL(t,m):t,[T,E]=oR();return yL(o,xn({},m,{nodeTransforms:[...T,...n.nodeTransforms||[]],directiveTransforms:xn({},E,n.directiveTransforms||{})})),xL(o,m)}const sR=()=>({props:[]});/**
* @vue/compiler-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const AS=Symbol(""),IS=Symbol(""),kS=Symbol(""),PS=Symbol(""),Ay=Symbol(""),LS=Symbol(""),RS=Symbol(""),MS=Symbol(""),OS=Symbol(""),DS=Symbol("");zP({[AS]:"vModelRadio",[IS]:"vModelCheckbox",[kS]:"vModelText",[PS]:"vModelSelect",[Ay]:"vModelDynamic",[LS]:"withModifiers",[RS]:"withKeys",[MS]:"vShow",[OS]:"Transition",[DS]:"TransitionGroup"});let vh;function lR(t,n=!1){return vh||(vh=document.createElement("div")),n?(vh.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,vh.children[0].getAttribute("foo")):(vh.innerHTML=t,vh.textContent)}const uR={parseMode:"html",isVoidTag:tA,isNativeTag:t=>J2(t)||Q2(t)||eA(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:lR,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return OS;if(t==="TransitionGroup"||t==="transition-group")return DS},getNamespace(t,n,a){let c=n?n.ns:a;if(n&&c===2)if(n.tag==="annotation-xml"){if(t==="svg")return 1;n.props.some(p=>p.type===6&&p.name==="encoding"&&p.value!=null&&(p.value.content==="text/html"||p.value.content==="application/xhtml+xml"))&&(c=0)}else/^m(?:[ions]|text)$/.test(n.tag)&&t!=="mglyph"&&t!=="malignmark"&&(c=0);else n&&c===1&&(n.tag==="foreignObject"||n.tag==="desc"||n.tag==="title")&&(c=0);if(c===0){if(t==="svg")return 1;if(t==="math")return 2}return c}},cR=t=>{t.type===1&&t.props.forEach((n,a)=>{n.type===6&&n.name==="style"&&n.value&&(t.props[a]={type:7,name:"bind",arg:en("style",!0,n.loc),exp:hR(n.value.content,n.loc),modifiers:[],loc:n.loc})})},hR=(t,n)=>{const a=Wx(t);return en(JSON.stringify(a),!1,n,3)};function Ou(t,n){return Si(t,n)}const fR=(t,n,a)=>{const{exp:c,loc:p}=t;return c||a.onError(Ou(53,p)),n.children.length&&(a.onError(Ou(54,p)),n.children.length=0),{props:[Qi(en("innerHTML",!0,p),c||en("",!0))]}},pR=(t,n,a)=>{const{exp:c,loc:p}=t;return c||a.onError(Ou(55,p)),n.children.length&&(a.onError(Ou(56,p)),n.children.length=0),{props:[Qi(en("textContent",!0),c?os(c,a)>0?c:mo(a.helperString(Bm),[c],p):en("",!0))]}},dR=(t,n,a)=>{const c=CS(t,n,a);if(!c.props.length||n.tagType===1)return c;t.arg&&a.onError(Ou(58,t.arg.loc));const{tag:p}=n,m=a.isCustomElement(p);if(p==="input"||p==="textarea"||p==="select"||m){let o=kS,T=!1;if(p==="input"||m){const E=Um(n,"type");if(E){if(E.type===7)o=Ay;else if(E.value)switch(E.value.content){case"radio":o=AS;break;case"checkbox":o=IS;break;case"file":T=!0,a.onError(Ou(59,t.loc));break}}else KP(n)&&(o=Ay)}else p==="select"&&(o=PS);T||(c.needRuntime=a.helper(o))}else a.onError(Ou(57,t.loc));return c.props=c.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),c},mR=cs("passive,once,capture"),gR=cs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),yR=cs("left,right"),NS=cs("onkeyup,onkeydown,onkeypress"),_R=(t,n,a,c)=>{const p=[],m=[],o=[];for(let T=0;T<n.length;T++){const E=n[T].content;E==="native"&&sp("COMPILER_V_ON_NATIVE",a)||mR(E)?o.push(E):yR(E)?Ua(t)?NS(t.content.toLowerCase())?p.push(E):m.push(E):(p.push(E),m.push(E)):gR(E)?m.push(E):p.push(E)}return{keyModifiers:p,nonKeyModifiers:m,eventOptionModifiers:o}},Lb=(t,n)=>Ua(t)&&t.content.toLowerCase()==="onclick"?en(n,!0):t.type!==4?Hs(["(",t,`) === "onClick" ? "${n}" : (`,t,")"]):t,vR=(t,n,a)=>ES(t,n,a,c=>{const{modifiers:p}=t;if(!p.length)return c;let{key:m,value:o}=c.props[0];const{keyModifiers:T,nonKeyModifiers:E,eventOptionModifiers:M}=_R(m,p,a,t.loc);if(E.includes("right")&&(m=Lb(m,"onContextmenu")),E.includes("middle")&&(m=Lb(m,"onMouseup")),E.length&&(o=mo(a.helper(LS),[o,JSON.stringify(E)])),T.length&&(!Ua(m)||NS(m.content.toLowerCase()))&&(o=mo(a.helper(RS),[o,JSON.stringify(T)])),M.length){const R=M.map(Rc).join("");m=Ua(m)?en(`${m.content}${R}`,!0):Hs(["(",m,`) + "${R}"`])}return{props:[Qi(m,o)]}}),bR=(t,n,a)=>{const{exp:c,loc:p}=t;return c||a.onError(Ou(61,p)),{props:[],needRuntime:a.helper(MS)}},xR=(t,n)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&n.removeNode()},wR=[cR],SR={cloak:sR,html:fR,text:pR,model:dR,on:vR,show:bR};function TR(t,n={}){return aR(t,xn({},uR,n,{nodeTransforms:[xR,...wR,...n.nodeTransforms||[]],directiveTransforms:xn({},SR,n.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Rb=Object.create(null);function ER(t,n){if(!Gr(t))if(t.nodeType)t=t.innerHTML;else return sa;const a=V2(t,n),c=Rb[a];if(c)return c;if(t[0]==="#"){const T=document.querySelector(t);t=T?T.innerHTML:""}const p=xn({hoistStatic:!0,onError:void 0,onWarn:sa},n);!p.isCustomElement&&typeof customElements<"u"&&(p.isCustomElement=T=>!!customElements.get(T));const{code:m}=TR(t,p),o=new Function("Vue",m)(LP);return o._rc=!0,Rb[a]=o}xw(ER);/*!
  * shared v9.14.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const lm=typeof window<"u",Vu=(t,n=!1)=>n?Symbol.for(t):Symbol(t),CR=(t,n,a)=>AR({l:t,k:n,s:a}),AR=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),yo=t=>typeof t=="number"&&isFinite(t),IR=t=>FS(t)==="[object Date]",Fu=t=>FS(t)==="[object RegExp]",qm=t=>$r(t)&&Object.keys(t).length===0,Uo=Object.assign;let Mb;const Yl=()=>Mb||(Mb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ob(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const kR=Object.prototype.hasOwnProperty;function um(t,n){return kR.call(t,n)}const pi=Array.isArray,oi=t=>typeof t=="function",er=t=>typeof t=="string",mn=t=>typeof t=="boolean",Dn=t=>t!==null&&typeof t=="object",PR=t=>Dn(t)&&oi(t.then)&&oi(t.catch),zS=Object.prototype.toString,FS=t=>zS.call(t),$r=t=>{if(!Dn(t))return!1;const n=Object.getPrototypeOf(t);return n===null||n.constructor===Object},LR=t=>t==null?"":pi(t)||$r(t)&&t.toString===zS?JSON.stringify(t,null,2):String(t);function RR(t,n=""){return t.reduce((a,c,p)=>p===0?a+c:a+n+c,"")}function Hm(t){let n=t;return()=>++n}function MR(t,n){typeof console<"u"&&(console.warn("[intlify] "+t),n&&console.warn(n.stack))}const vd=t=>!Dn(t)||pi(t);function Pd(t,n){if(vd(t)||vd(n))throw new Error("Invalid value");const a=[{src:t,des:n}];for(;a.length;){const{src:c,des:p}=a.pop();Object.keys(c).forEach(m=>{Dn(c[m])&&!Dn(p[m])&&(p[m]=Array.isArray(c[m])?[]:{}),vd(p[m])||vd(c[m])?p[m]=c[m]:a.push({src:c[m],des:p[m]})})}}/*!
  * message-compiler v9.14.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function OR(t,n,a){return{line:t,column:n,offset:a}}function cm(t,n,a){return{start:t,end:n}}const DR=/\{([0-9a-zA-Z]+)\}/g;function BS(t,...n){return n.length===1&&NR(n[0])&&(n=n[0]),(!n||!n.hasOwnProperty)&&(n={}),t.replace(DR,(a,c)=>n.hasOwnProperty(c)?n[c]:"")}const US=Object.assign,Db=t=>typeof t=="string",NR=t=>t!==null&&typeof t=="object";function VS(t,n=""){return t.reduce((a,c,p)=>p===0?a+c:a+n+c,"")}const B_={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},zR={[B_.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function FR(t,n,...a){const c=BS(zR[t],...a||[]),p={message:String(c),code:t};return n&&(p.location=n),p}const Dr={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},BR={[Dr.EXPECTED_TOKEN]:"Expected token: '{0}'",[Dr.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Dr.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Dr.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Dr.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Dr.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Dr.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Dr.EMPTY_PLACEHOLDER]:"Empty placeholder",[Dr.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Dr.INVALID_LINKED_FORMAT]:"Invalid linked format",[Dr.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Dr.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Dr.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Dr.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Dr.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Dr.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Xh(t,n,a={}){const{domain:c,messages:p,args:m}=a,o=BS((p||BR)[t]||"",...m||[]),T=new SyntaxError(String(o));return T.code=t,n&&(T.location=n),T.domain=c,T}function UR(t){throw t}const ql=" ",VR="\r",ga=`
`,jR="\u2028",qR="\u2029";function HR(t){const n=t;let a=0,c=1,p=1,m=0;const o=C=>n[C]===VR&&n[C+1]===ga,T=C=>n[C]===ga,E=C=>n[C]===qR,M=C=>n[C]===jR,R=C=>o(C)||T(C)||E(C)||M(C),B=()=>a,W=()=>c,ae=()=>p,ee=()=>m,re=C=>o(C)||E(C)||M(C)?ga:n[C],ue=()=>re(a),ce=()=>re(a+m);function Pe(){return m=0,R(a)&&(c++,p=0),o(a)&&a++,a++,p++,n[a]}function Y(){return o(a+m)&&m++,m++,n[a+m]}function se(){a=0,c=1,p=1,m=0}function Se(C=0){m=C}function Me(){const C=a+m;for(;C!==a;)Pe();m=0}return{index:B,line:W,column:ae,peekOffset:ee,charAt:re,currentChar:ue,currentPeek:ce,next:Pe,peek:Y,reset:se,resetPeek:Se,skipToPeek:Me}}const Su=void 0,WR=".",Nb="'",$R="tokenizer";function GR(t,n={}){const a=n.location!==!1,c=HR(t),p=()=>c.index(),m=()=>OR(c.line(),c.column(),c.index()),o=m(),T=p(),E={currentType:14,offset:T,startLoc:o,endLoc:o,lastType:14,lastOffset:T,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},M=()=>E,{onError:R}=n;function B(le,pe,Ne,...ht){const wt=M();if(pe.column+=Ne,pe.offset+=Ne,R){const Ve=a?cm(wt.startLoc,pe):null,Be=Xh(le,Ve,{domain:$R,args:ht});R(Be)}}function W(le,pe,Ne){le.endLoc=m(),le.currentType=pe;const ht={type:pe};return a&&(ht.loc=cm(le.startLoc,le.endLoc)),Ne!=null&&(ht.value=Ne),ht}const ae=le=>W(le,14);function ee(le,pe){return le.currentChar()===pe?(le.next(),pe):(B(Dr.EXPECTED_TOKEN,m(),0,pe),"")}function re(le){let pe="";for(;le.currentPeek()===ql||le.currentPeek()===ga;)pe+=le.currentPeek(),le.peek();return pe}function ue(le){const pe=re(le);return le.skipToPeek(),pe}function ce(le){if(le===Su)return!1;const pe=le.charCodeAt(0);return pe>=97&&pe<=122||pe>=65&&pe<=90||pe===95}function Pe(le){if(le===Su)return!1;const pe=le.charCodeAt(0);return pe>=48&&pe<=57}function Y(le,pe){const{currentType:Ne}=pe;if(Ne!==2)return!1;re(le);const ht=ce(le.currentPeek());return le.resetPeek(),ht}function se(le,pe){const{currentType:Ne}=pe;if(Ne!==2)return!1;re(le);const ht=le.currentPeek()==="-"?le.peek():le.currentPeek(),wt=Pe(ht);return le.resetPeek(),wt}function Se(le,pe){const{currentType:Ne}=pe;if(Ne!==2)return!1;re(le);const ht=le.currentPeek()===Nb;return le.resetPeek(),ht}function Me(le,pe){const{currentType:Ne}=pe;if(Ne!==8)return!1;re(le);const ht=le.currentPeek()===".";return le.resetPeek(),ht}function C(le,pe){const{currentType:Ne}=pe;if(Ne!==9)return!1;re(le);const ht=ce(le.currentPeek());return le.resetPeek(),ht}function qe(le,pe){const{currentType:Ne}=pe;if(!(Ne===8||Ne===12))return!1;re(le);const ht=le.currentPeek()===":";return le.resetPeek(),ht}function we(le,pe){const{currentType:Ne}=pe;if(Ne!==10)return!1;const ht=()=>{const Ve=le.currentPeek();return Ve==="{"?ce(le.peek()):Ve==="@"||Ve==="%"||Ve==="|"||Ve===":"||Ve==="."||Ve===ql||!Ve?!1:Ve===ga?(le.peek(),ht()):Ge(le,!1)},wt=ht();return le.resetPeek(),wt}function Xe(le){re(le);const pe=le.currentPeek()==="|";return le.resetPeek(),pe}function xt(le){const pe=re(le),Ne=le.currentPeek()==="%"&&le.peek()==="{";return le.resetPeek(),{isModulo:Ne,hasSpace:pe.length>0}}function Ge(le,pe=!0){const Ne=(wt=!1,Ve="",Be=!1)=>{const lt=le.currentPeek();return lt==="{"?Ve==="%"?!1:wt:lt==="@"||!lt?Ve==="%"?!0:wt:lt==="%"?(le.peek(),Ne(wt,"%",!0)):lt==="|"?Ve==="%"||Be?!0:!(Ve===ql||Ve===ga):lt===ql?(le.peek(),Ne(!0,ql,Be)):lt===ga?(le.peek(),Ne(!0,ga,Be)):!0},ht=Ne();return pe&&le.resetPeek(),ht}function tt(le,pe){const Ne=le.currentChar();return Ne===Su?Su:pe(Ne)?(le.next(),Ne):null}function Ht(le){const pe=le.charCodeAt(0);return pe>=97&&pe<=122||pe>=65&&pe<=90||pe>=48&&pe<=57||pe===95||pe===36}function fr(le){return tt(le,Ht)}function Lt(le){const pe=le.charCodeAt(0);return pe>=97&&pe<=122||pe>=65&&pe<=90||pe>=48&&pe<=57||pe===95||pe===36||pe===45}function Jt(le){return tt(le,Lt)}function Zt(le){const pe=le.charCodeAt(0);return pe>=48&&pe<=57}function Zr(le){return tt(le,Zt)}function Mn(le){const pe=le.charCodeAt(0);return pe>=48&&pe<=57||pe>=65&&pe<=70||pe>=97&&pe<=102}function Kr(le){return tt(le,Mn)}function Yr(le){let pe="",Ne="";for(;pe=Zr(le);)Ne+=pe;return Ne}function mi(le){ue(le);const pe=le.currentChar();return pe!=="%"&&B(Dr.EXPECTED_TOKEN,m(),0,pe),le.next(),"%"}function Ti(le){let pe="";for(;;){const Ne=le.currentChar();if(Ne==="{"||Ne==="}"||Ne==="@"||Ne==="|"||!Ne)break;if(Ne==="%")if(Ge(le))pe+=Ne,le.next();else break;else if(Ne===ql||Ne===ga)if(Ge(le))pe+=Ne,le.next();else{if(Xe(le))break;pe+=Ne,le.next()}else pe+=Ne,le.next()}return pe}function gn(le){ue(le);let pe="",Ne="";for(;pe=Jt(le);)Ne+=pe;return le.currentChar()===Su&&B(Dr.UNTERMINATED_CLOSING_BRACE,m(),0),Ne}function En(le){ue(le);let pe="";return le.currentChar()==="-"?(le.next(),pe+=`-${Yr(le)}`):pe+=Yr(le),le.currentChar()===Su&&B(Dr.UNTERMINATED_CLOSING_BRACE,m(),0),pe}function On(le){return le!==Nb&&le!==ga}function Qn(le){ue(le),ee(le,"'");let pe="",Ne="";for(;pe=tt(le,On);)pe==="\\"?Ne+=Cr(le):Ne+=pe;const ht=le.currentChar();return ht===ga||ht===Su?(B(Dr.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,m(),0),ht===ga&&(le.next(),ee(le,"'")),Ne):(ee(le,"'"),Ne)}function Cr(le){const pe=le.currentChar();switch(pe){case"\\":case"'":return le.next(),`\\${pe}`;case"u":return sn(le,pe,4);case"U":return sn(le,pe,6);default:return B(Dr.UNKNOWN_ESCAPE_SEQUENCE,m(),0,pe),""}}function sn(le,pe,Ne){ee(le,pe);let ht="";for(let wt=0;wt<Ne;wt++){const Ve=Kr(le);if(!Ve){B(Dr.INVALID_UNICODE_ESCAPE_SEQUENCE,m(),0,`\\${pe}${ht}${le.currentChar()}`);break}ht+=Ve}return`\\${pe}${ht}`}function Mi(le){return le!=="{"&&le!=="}"&&le!==ql&&le!==ga}function _n(le){ue(le);let pe="",Ne="";for(;pe=tt(le,Mi);)Ne+=pe;return Ne}function xe(le){let pe="",Ne="";for(;pe=fr(le);)Ne+=pe;return Ne}function de(le){const pe=Ne=>{const ht=le.currentChar();return ht==="{"||ht==="%"||ht==="@"||ht==="|"||ht==="("||ht===")"||!ht||ht===ql?Ne:(Ne+=ht,le.next(),pe(Ne))};return pe("")}function $e(le){ue(le);const pe=ee(le,"|");return ue(le),pe}function vt(le,pe){let Ne=null;switch(le.currentChar()){case"{":return pe.braceNest>=1&&B(Dr.NOT_ALLOW_NEST_PLACEHOLDER,m(),0),le.next(),Ne=W(pe,2,"{"),ue(le),pe.braceNest++,Ne;case"}":return pe.braceNest>0&&pe.currentType===2&&B(Dr.EMPTY_PLACEHOLDER,m(),0),le.next(),Ne=W(pe,3,"}"),pe.braceNest--,pe.braceNest>0&&ue(le),pe.inLinked&&pe.braceNest===0&&(pe.inLinked=!1),Ne;case"@":return pe.braceNest>0&&B(Dr.UNTERMINATED_CLOSING_BRACE,m(),0),Ne=bt(le,pe)||ae(pe),pe.braceNest=0,Ne;default:{let wt=!0,Ve=!0,Be=!0;if(Xe(le))return pe.braceNest>0&&B(Dr.UNTERMINATED_CLOSING_BRACE,m(),0),Ne=W(pe,1,$e(le)),pe.braceNest=0,pe.inLinked=!1,Ne;if(pe.braceNest>0&&(pe.currentType===5||pe.currentType===6||pe.currentType===7))return B(Dr.UNTERMINATED_CLOSING_BRACE,m(),0),pe.braceNest=0,dt(le,pe);if(wt=Y(le,pe))return Ne=W(pe,5,gn(le)),ue(le),Ne;if(Ve=se(le,pe))return Ne=W(pe,6,En(le)),ue(le),Ne;if(Be=Se(le,pe))return Ne=W(pe,7,Qn(le)),ue(le),Ne;if(!wt&&!Ve&&!Be)return Ne=W(pe,13,_n(le)),B(Dr.INVALID_TOKEN_IN_PLACEHOLDER,m(),0,Ne.value),ue(le),Ne;break}}return Ne}function bt(le,pe){const{currentType:Ne}=pe;let ht=null;const wt=le.currentChar();switch((Ne===8||Ne===9||Ne===12||Ne===10)&&(wt===ga||wt===ql)&&B(Dr.INVALID_LINKED_FORMAT,m(),0),wt){case"@":return le.next(),ht=W(pe,8,"@"),pe.inLinked=!0,ht;case".":return ue(le),le.next(),W(pe,9,".");case":":return ue(le),le.next(),W(pe,10,":");default:return Xe(le)?(ht=W(pe,1,$e(le)),pe.braceNest=0,pe.inLinked=!1,ht):Me(le,pe)||qe(le,pe)?(ue(le),bt(le,pe)):C(le,pe)?(ue(le),W(pe,12,xe(le))):we(le,pe)?(ue(le),wt==="{"?vt(le,pe)||ht:W(pe,11,de(le))):(Ne===8&&B(Dr.INVALID_LINKED_FORMAT,m(),0),pe.braceNest=0,pe.inLinked=!1,dt(le,pe))}}function dt(le,pe){let Ne={type:14};if(pe.braceNest>0)return vt(le,pe)||ae(pe);if(pe.inLinked)return bt(le,pe)||ae(pe);switch(le.currentChar()){case"{":return vt(le,pe)||ae(pe);case"}":return B(Dr.UNBALANCED_CLOSING_BRACE,m(),0),le.next(),W(pe,3,"}");case"@":return bt(le,pe)||ae(pe);default:{if(Xe(le))return Ne=W(pe,1,$e(le)),pe.braceNest=0,pe.inLinked=!1,Ne;const{isModulo:wt,hasSpace:Ve}=xt(le);if(wt)return Ve?W(pe,0,Ti(le)):W(pe,4,mi(le));if(Ge(le))return W(pe,0,Ti(le));break}}return Ne}function Ft(){const{currentType:le,offset:pe,startLoc:Ne,endLoc:ht}=E;return E.lastType=le,E.lastOffset=pe,E.lastStartLoc=Ne,E.lastEndLoc=ht,E.offset=p(),E.startLoc=m(),c.currentChar()===Su?W(E,14):dt(c,E)}return{nextToken:Ft,currentOffset:p,currentPosition:m,context:M}}const ZR="parser",XR=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function KR(t,n,a){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const c=parseInt(n||a,16);return c<=55295||c>=57344?String.fromCodePoint(c):"�"}}}function YR(t={}){const n=t.location!==!1,{onError:a,onWarn:c}=t;function p(Y,se,Se,Me,...C){const qe=Y.currentPosition();if(qe.offset+=Me,qe.column+=Me,a){const we=n?cm(Se,qe):null,Xe=Xh(se,we,{domain:ZR,args:C});a(Xe)}}function m(Y,se,Se,Me,...C){const qe=Y.currentPosition();if(qe.offset+=Me,qe.column+=Me,c){const we=n?cm(Se,qe):null;c(FR(se,we,C))}}function o(Y,se,Se){const Me={type:Y};return n&&(Me.start=se,Me.end=se,Me.loc={start:Se,end:Se}),Me}function T(Y,se,Se,Me){n&&(Y.end=se,Y.loc&&(Y.loc.end=Se))}function E(Y,se){const Se=Y.context(),Me=o(3,Se.offset,Se.startLoc);return Me.value=se,T(Me,Y.currentOffset(),Y.currentPosition()),Me}function M(Y,se){const Se=Y.context(),{lastOffset:Me,lastStartLoc:C}=Se,qe=o(5,Me,C);return qe.index=parseInt(se,10),Y.nextToken(),T(qe,Y.currentOffset(),Y.currentPosition()),qe}function R(Y,se,Se){const Me=Y.context(),{lastOffset:C,lastStartLoc:qe}=Me,we=o(4,C,qe);return we.key=se,Se===!0&&(we.modulo=!0),Y.nextToken(),T(we,Y.currentOffset(),Y.currentPosition()),we}function B(Y,se){const Se=Y.context(),{lastOffset:Me,lastStartLoc:C}=Se,qe=o(9,Me,C);return qe.value=se.replace(XR,KR),Y.nextToken(),T(qe,Y.currentOffset(),Y.currentPosition()),qe}function W(Y){const se=Y.nextToken(),Se=Y.context(),{lastOffset:Me,lastStartLoc:C}=Se,qe=o(8,Me,C);return se.type!==12?(p(Y,Dr.UNEXPECTED_EMPTY_LINKED_MODIFIER,Se.lastStartLoc,0),qe.value="",T(qe,Me,C),{nextConsumeToken:se,node:qe}):(se.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Bs(se)),qe.value=se.value||"",T(qe,Y.currentOffset(),Y.currentPosition()),{node:qe})}function ae(Y,se){const Se=Y.context(),Me=o(7,Se.offset,Se.startLoc);return Me.value=se,T(Me,Y.currentOffset(),Y.currentPosition()),Me}function ee(Y){const se=Y.context(),Se=o(6,se.offset,se.startLoc);let Me=Y.nextToken();if(Me.type===9){const C=W(Y);Se.modifier=C.node,Me=C.nextConsumeToken||Y.nextToken()}switch(Me.type!==10&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Me)),Me=Y.nextToken(),Me.type===2&&(Me=Y.nextToken()),Me.type){case 11:Me.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Me)),Se.key=ae(Y,Me.value||"");break;case 5:Me.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Me)),Se.key=R(Y,Me.value||"");break;case 6:Me.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Me)),Se.key=M(Y,Me.value||"");break;case 7:Me.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Me)),Se.key=B(Y,Me.value||"");break;default:{p(Y,Dr.UNEXPECTED_EMPTY_LINKED_KEY,se.lastStartLoc,0);const C=Y.context(),qe=o(7,C.offset,C.startLoc);return qe.value="",T(qe,C.offset,C.startLoc),Se.key=qe,T(Se,C.offset,C.startLoc),{nextConsumeToken:Me,node:Se}}}return T(Se,Y.currentOffset(),Y.currentPosition()),{node:Se}}function re(Y){const se=Y.context(),Se=se.currentType===1?Y.currentOffset():se.offset,Me=se.currentType===1?se.endLoc:se.startLoc,C=o(2,Se,Me);C.items=[];let qe=null,we=null;do{const Ge=qe||Y.nextToken();switch(qe=null,Ge.type){case 0:Ge.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Ge)),C.items.push(E(Y,Ge.value||""));break;case 6:Ge.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Ge)),C.items.push(M(Y,Ge.value||""));break;case 4:we=!0;break;case 5:Ge.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Ge)),C.items.push(R(Y,Ge.value||"",!!we)),we&&(m(Y,B_.USE_MODULO_SYNTAX,se.lastStartLoc,0,Bs(Ge)),we=null);break;case 7:Ge.value==null&&p(Y,Dr.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,Bs(Ge)),C.items.push(B(Y,Ge.value||""));break;case 8:{const tt=ee(Y);C.items.push(tt.node),qe=tt.nextConsumeToken||null;break}}}while(se.currentType!==14&&se.currentType!==1);const Xe=se.currentType===1?se.lastOffset:Y.currentOffset(),xt=se.currentType===1?se.lastEndLoc:Y.currentPosition();return T(C,Xe,xt),C}function ue(Y,se,Se,Me){const C=Y.context();let qe=Me.items.length===0;const we=o(1,se,Se);we.cases=[],we.cases.push(Me);do{const Xe=re(Y);qe||(qe=Xe.items.length===0),we.cases.push(Xe)}while(C.currentType!==14);return qe&&p(Y,Dr.MUST_HAVE_MESSAGES_IN_PLURAL,Se,0),T(we,Y.currentOffset(),Y.currentPosition()),we}function ce(Y){const se=Y.context(),{offset:Se,startLoc:Me}=se,C=re(Y);return se.currentType===14?C:ue(Y,Se,Me,C)}function Pe(Y){const se=GR(Y,US({},t)),Se=se.context(),Me=o(0,Se.offset,Se.startLoc);return n&&Me.loc&&(Me.loc.source=Y),Me.body=ce(se),t.onCacheKey&&(Me.cacheKey=t.onCacheKey(Y)),Se.currentType!==14&&p(se,Dr.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Y[Se.offset]||""),T(Me,se.currentOffset(),se.currentPosition()),Me}return{parse:Pe}}function Bs(t){if(t.type===14)return"EOF";const n=(t.value||"").replace(/\r?\n/gu,"\\n");return n.length>10?n.slice(0,9)+"…":n}function JR(t,n={}){const a={ast:t,helpers:new Set};return{context:()=>a,helper:m=>(a.helpers.add(m),m)}}function zb(t,n){for(let a=0;a<t.length;a++)U_(t[a],n)}function U_(t,n){switch(t.type){case 1:zb(t.cases,n),n.helper("plural");break;case 2:zb(t.items,n);break;case 6:{U_(t.key,n),n.helper("linked"),n.helper("type");break}case 5:n.helper("interpolate"),n.helper("list");break;case 4:n.helper("interpolate"),n.helper("named");break}}function QR(t,n={}){const a=JR(t);a.helper("normalize"),t.body&&U_(t.body,a);const c=a.context();t.helpers=Array.from(c.helpers)}function eM(t){const n=t.body;return n.type===2?Fb(n):n.cases.forEach(a=>Fb(a)),t}function Fb(t){if(t.items.length===1){const n=t.items[0];(n.type===3||n.type===9)&&(t.static=n.value,delete n.value)}else{const n=[];for(let a=0;a<t.items.length;a++){const c=t.items[a];if(!(c.type===3||c.type===9)||c.value==null)break;n.push(c.value)}if(n.length===t.items.length){t.static=VS(n);for(let a=0;a<t.items.length;a++){const c=t.items[a];(c.type===3||c.type===9)&&delete c.value}}}}const tM="minifier";function wh(t){switch(t.t=t.type,t.type){case 0:{const n=t;wh(n.body),n.b=n.body,delete n.body;break}case 1:{const n=t,a=n.cases;for(let c=0;c<a.length;c++)wh(a[c]);n.c=a,delete n.cases;break}case 2:{const n=t,a=n.items;for(let c=0;c<a.length;c++)wh(a[c]);n.i=a,delete n.items,n.static&&(n.s=n.static,delete n.static);break}case 3:case 9:case 8:case 7:{const n=t;n.value&&(n.v=n.value,delete n.value);break}case 6:{const n=t;wh(n.key),n.k=n.key,delete n.key,n.modifier&&(wh(n.modifier),n.m=n.modifier,delete n.modifier);break}case 5:{const n=t;n.i=n.index,delete n.index;break}case 4:{const n=t;n.k=n.key,delete n.key;break}default:throw Xh(Dr.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:tM,args:[t.type]})}delete t.type}const rM="parser";function nM(t,n){const{sourceMap:a,filename:c,breakLineCode:p,needIndent:m}=n,o=n.location!==!1,T={filename:c,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:p,needIndent:m,indentLevel:0};o&&t.loc&&(T.source=t.loc.source);const E=()=>T;function M(ue,ce){T.code+=ue}function R(ue,ce=!0){const Pe=ce?p:"";M(m?Pe+"  ".repeat(ue):Pe)}function B(ue=!0){const ce=++T.indentLevel;ue&&R(ce)}function W(ue=!0){const ce=--T.indentLevel;ue&&R(ce)}function ae(){R(T.indentLevel)}return{context:E,push:M,indent:B,deindent:W,newline:ae,helper:ue=>`_${ue}`,needIndent:()=>T.needIndent}}function iM(t,n){const{helper:a}=t;t.push(`${a("linked")}(`),Uh(t,n.key),n.modifier?(t.push(", "),Uh(t,n.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function oM(t,n){const{helper:a,needIndent:c}=t;t.push(`${a("normalize")}([`),t.indent(c());const p=n.items.length;for(let m=0;m<p&&(Uh(t,n.items[m]),m!==p-1);m++)t.push(", ");t.deindent(c()),t.push("])")}function aM(t,n){const{helper:a,needIndent:c}=t;if(n.cases.length>1){t.push(`${a("plural")}([`),t.indent(c());const p=n.cases.length;for(let m=0;m<p&&(Uh(t,n.cases[m]),m!==p-1);m++)t.push(", ");t.deindent(c()),t.push("])")}}function sM(t,n){n.body?Uh(t,n.body):t.push("null")}function Uh(t,n){const{helper:a}=t;switch(n.type){case 0:sM(t,n);break;case 1:aM(t,n);break;case 2:oM(t,n);break;case 6:iM(t,n);break;case 8:t.push(JSON.stringify(n.value),n);break;case 7:t.push(JSON.stringify(n.value),n);break;case 5:t.push(`${a("interpolate")}(${a("list")}(${n.index}))`,n);break;case 4:t.push(`${a("interpolate")}(${a("named")}(${JSON.stringify(n.key)}))`,n);break;case 9:t.push(JSON.stringify(n.value),n);break;case 3:t.push(JSON.stringify(n.value),n);break;default:throw Xh(Dr.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:rM,args:[n.type]})}}const lM=(t,n={})=>{const a=Db(n.mode)?n.mode:"normal",c=Db(n.filename)?n.filename:"message.intl",p=!!n.sourceMap,m=n.breakLineCode!=null?n.breakLineCode:a==="arrow"?";":`
`,o=n.needIndent?n.needIndent:a!=="arrow",T=t.helpers||[],E=nM(t,{mode:a,filename:c,sourceMap:p,breakLineCode:m,needIndent:o});E.push(a==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),E.indent(o),T.length>0&&(E.push(`const { ${VS(T.map(B=>`${B}: _${B}`),", ")} } = ctx`),E.newline()),E.push("return "),Uh(E,t),E.deindent(o),E.push("}"),delete t.helpers;const{code:M,map:R}=E.context();return{ast:t,code:M,map:R?R.toJSON():void 0}};function uM(t,n={}){const a=US({},n),c=!!a.jit,p=!!a.minify,m=a.optimize==null?!0:a.optimize,T=YR(a).parse(t);return c?(m&&eM(T),p&&wh(T),{ast:T,code:""}):(QR(T,a),lM(T,a))}/*!
  * core-base v9.14.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function cM(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Yl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Yl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Yl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const ju=[];ju[0]={w:[0],i:[3,0],"[":[4],o:[7]};ju[1]={w:[1],".":[2],"[":[4],o:[7]};ju[2]={w:[2],i:[3,0],0:[3,0]};ju[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ju[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ju[5]={"'":[4,0],o:8,l:[5,0]};ju[6]={'"':[4,0],o:8,l:[6,0]};const hM=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function fM(t){return hM.test(t)}function pM(t){const n=t.charCodeAt(0),a=t.charCodeAt(t.length-1);return n===a&&(n===34||n===39)?t.slice(1,-1):t}function dM(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function mM(t){const n=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:fM(n)?pM(n):"*"+n}function gM(t){const n=[];let a=-1,c=0,p=0,m,o,T,E,M,R,B;const W=[];W[0]=()=>{o===void 0?o=T:o+=T},W[1]=()=>{o!==void 0&&(n.push(o),o=void 0)},W[2]=()=>{W[0](),p++},W[3]=()=>{if(p>0)p--,c=4,W[0]();else{if(p=0,o===void 0||(o=mM(o),o===!1))return!1;W[1]()}};function ae(){const ee=t[a+1];if(c===5&&ee==="'"||c===6&&ee==='"')return a++,T="\\"+ee,W[0](),!0}for(;c!==null;)if(a++,m=t[a],!(m==="\\"&&ae())){if(E=dM(m),B=ju[c],M=B[E]||B.l||8,M===8||(c=M[0],M[1]!==void 0&&(R=W[M[1]],R&&(T=m,R()===!1))))return;if(c===7)return n}}const Bb=new Map;function yM(t,n){return Dn(t)?t[n]:null}function _M(t,n){if(!Dn(t))return null;let a=Bb.get(n);if(a||(a=gM(n),a&&Bb.set(n,a)),!a)return null;const c=a.length;let p=t,m=0;for(;m<c;){const o=p[a[m]];if(o===void 0||oi(p))return null;p=o,m++}return p}const vM=t=>t,bM=t=>"",xM="text",wM=t=>t.length===0?"":RR(t),SM=LR;function Ub(t,n){return t=Math.abs(t),n===2?t?t>1?1:0:1:t?Math.min(t,2):0}function TM(t){const n=yo(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(yo(t.named.count)||yo(t.named.n))?yo(t.named.count)?t.named.count:yo(t.named.n)?t.named.n:n:n}function EM(t,n){n.count||(n.count=t),n.n||(n.n=t)}function CM(t={}){const n=t.locale,a=TM(t),c=Dn(t.pluralRules)&&er(n)&&oi(t.pluralRules[n])?t.pluralRules[n]:Ub,p=Dn(t.pluralRules)&&er(n)&&oi(t.pluralRules[n])?Ub:void 0,m=ce=>ce[c(a,ce.length,p)],o=t.list||[],T=ce=>o[ce],E=t.named||{};yo(t.pluralIndex)&&EM(a,E);const M=ce=>E[ce];function R(ce){const Pe=oi(t.messages)?t.messages(ce):Dn(t.messages)?t.messages[ce]:!1;return Pe||(t.parent?t.parent.message(ce):bM)}const B=ce=>t.modifiers?t.modifiers[ce]:vM,W=$r(t.processor)&&oi(t.processor.normalize)?t.processor.normalize:wM,ae=$r(t.processor)&&oi(t.processor.interpolate)?t.processor.interpolate:SM,ee=$r(t.processor)&&er(t.processor.type)?t.processor.type:xM,ue={list:T,named:M,plural:m,linked:(ce,...Pe)=>{const[Y,se]=Pe;let Se="text",Me="";Pe.length===1?Dn(Y)?(Me=Y.modifier||Me,Se=Y.type||Se):er(Y)&&(Me=Y||Me):Pe.length===2&&(er(Y)&&(Me=Y||Me),er(se)&&(Se=se||Se));const C=R(ce)(ue),qe=Se==="vnode"&&pi(C)&&Me?C[0]:C;return Me?B(Me)(qe,Se):qe},message:R,type:ee,interpolate:ae,normalize:W,values:Uo({},o,E)};return ue}let cp=null;function AM(t){cp=t}function IM(t,n,a){cp&&cp.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:n,meta:a})}const kM=PM("function:translate");function PM(t){return n=>cp&&cp.emit(t,n)}const jS=B_.__EXTEND_POINT__,dc=Hm(jS),LM={NOT_FOUND_KEY:jS,FALLBACK_TO_TRANSLATE:dc(),CANNOT_FORMAT_NUMBER:dc(),FALLBACK_TO_NUMBER_FORMAT:dc(),CANNOT_FORMAT_DATE:dc(),FALLBACK_TO_DATE_FORMAT:dc(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:dc(),__EXTEND_POINT__:dc()},qS=Dr.__EXTEND_POINT__,mc=Hm(qS),js={INVALID_ARGUMENT:qS,INVALID_DATE_ARGUMENT:mc(),INVALID_ISO_DATE_ARGUMENT:mc(),NOT_SUPPORT_NON_STRING_MESSAGE:mc(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:mc(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:mc(),NOT_SUPPORT_LOCALE_TYPE:mc(),__EXTEND_POINT__:mc()};function gl(t){return Xh(t,null,void 0)}function V_(t,n){return n.locale!=null?Vb(n.locale):Vb(t.locale)}let qg;function Vb(t){if(er(t))return t;if(oi(t)){if(t.resolvedOnce&&qg!=null)return qg;if(t.constructor.name==="Function"){const n=t();if(PR(n))throw gl(js.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return qg=n}else throw gl(js.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw gl(js.NOT_SUPPORT_LOCALE_TYPE)}function RM(t,n,a){return[...new Set([a,...pi(n)?n:Dn(n)?Object.keys(n):er(n)?[n]:[a]])]}function HS(t,n,a){const c=er(a)?a:Vh,p=t;p.__localeChainCache||(p.__localeChainCache=new Map);let m=p.__localeChainCache.get(c);if(!m){m=[];let o=[a];for(;pi(o);)o=jb(m,o,n);const T=pi(n)||!$r(n)?n:n.default?n.default:null;o=er(T)?[T]:T,pi(o)&&jb(m,o,!1),p.__localeChainCache.set(c,m)}return m}function jb(t,n,a){let c=!0;for(let p=0;p<n.length&&mn(c);p++){const m=n[p];er(m)&&(c=MM(t,n[p],a))}return c}function MM(t,n,a){let c;const p=n.split("-");do{const m=p.join("-");c=OM(t,m,a),p.splice(-1,1)}while(p.length&&c===!0);return c}function OM(t,n,a){let c=!1;if(!t.includes(n)&&(c=!0,n)){c=n[n.length-1]!=="!";const p=n.replace(/!/g,"");t.push(p),(pi(a)||$r(a))&&a[p]&&(c=a[p])}return c}const DM="9.14.1",Wm=-1,Vh="en-US",qb="",Hb=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function NM(){return{upper:(t,n)=>n==="text"&&er(t)?t.toUpperCase():n==="vnode"&&Dn(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,n)=>n==="text"&&er(t)?t.toLowerCase():n==="vnode"&&Dn(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,n)=>n==="text"&&er(t)?Hb(t):n==="vnode"&&Dn(t)&&"__v_isVNode"in t?Hb(t.children):t}}let WS;function Wb(t){WS=t}let $S;function zM(t){$S=t}let GS;function FM(t){GS=t}let ZS=null;const BM=t=>{ZS=t},UM=()=>ZS;let XS=null;const $b=t=>{XS=t},VM=()=>XS;let Gb=0;function jM(t={}){const n=oi(t.onWarn)?t.onWarn:MR,a=er(t.version)?t.version:DM,c=er(t.locale)||oi(t.locale)?t.locale:Vh,p=oi(c)?Vh:c,m=pi(t.fallbackLocale)||$r(t.fallbackLocale)||er(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:p,o=$r(t.messages)?t.messages:{[p]:{}},T=$r(t.datetimeFormats)?t.datetimeFormats:{[p]:{}},E=$r(t.numberFormats)?t.numberFormats:{[p]:{}},M=Uo({},t.modifiers||{},NM()),R=t.pluralRules||{},B=oi(t.missing)?t.missing:null,W=mn(t.missingWarn)||Fu(t.missingWarn)?t.missingWarn:!0,ae=mn(t.fallbackWarn)||Fu(t.fallbackWarn)?t.fallbackWarn:!0,ee=!!t.fallbackFormat,re=!!t.unresolving,ue=oi(t.postTranslation)?t.postTranslation:null,ce=$r(t.processor)?t.processor:null,Pe=mn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,Y=!!t.escapeParameter,se=oi(t.messageCompiler)?t.messageCompiler:WS,Se=oi(t.messageResolver)?t.messageResolver:$S||yM,Me=oi(t.localeFallbacker)?t.localeFallbacker:GS||RM,C=Dn(t.fallbackContext)?t.fallbackContext:void 0,qe=t,we=Dn(qe.__datetimeFormatters)?qe.__datetimeFormatters:new Map,Xe=Dn(qe.__numberFormatters)?qe.__numberFormatters:new Map,xt=Dn(qe.__meta)?qe.__meta:{};Gb++;const Ge={version:a,cid:Gb,locale:c,fallbackLocale:m,messages:o,modifiers:M,pluralRules:R,missing:B,missingWarn:W,fallbackWarn:ae,fallbackFormat:ee,unresolving:re,postTranslation:ue,processor:ce,warnHtmlMessage:Pe,escapeParameter:Y,messageCompiler:se,messageResolver:Se,localeFallbacker:Me,fallbackContext:C,onWarn:n,__meta:xt};return Ge.datetimeFormats=T,Ge.numberFormats=E,Ge.__datetimeFormatters=we,Ge.__numberFormatters=Xe,__INTLIFY_PROD_DEVTOOLS__&&IM(Ge,a,xt),Ge}function j_(t,n,a,c,p){const{missing:m,onWarn:o}=t;if(m!==null){const T=m(t,a,n,p);return er(T)?T:n}else return n}function zf(t,n,a){const c=t;c.__localeChainCache=new Map,t.localeFallbacker(t,a,n)}function qM(t,n){return t===n?!1:t.split("-")[0]===n.split("-")[0]}function HM(t,n){const a=n.indexOf(t);if(a===-1)return!1;for(let c=a+1;c<n.length;c++)if(qM(t,n[c]))return!0;return!1}function Hg(t){return a=>WM(a,t)}function WM(t,n){const a=n.b||n.body;if((a.t||a.type)===1){const c=a,p=c.c||c.cases;return t.plural(p.reduce((m,o)=>[...m,Zb(t,o)],[]))}else return Zb(t,a)}function Zb(t,n){const a=n.s||n.static;if(a)return t.type==="text"?a:t.normalize([a]);{const c=(n.i||n.items).reduce((p,m)=>[...p,Iy(t,m)],[]);return t.normalize(c)}}function Iy(t,n){const a=n.t||n.type;switch(a){case 3:{const c=n;return c.v||c.value}case 9:{const c=n;return c.v||c.value}case 4:{const c=n;return t.interpolate(t.named(c.k||c.key))}case 5:{const c=n;return t.interpolate(t.list(c.i!=null?c.i:c.index))}case 6:{const c=n,p=c.m||c.modifier;return t.linked(Iy(t,c.k||c.key),p?Iy(t,p):void 0,t.type)}case 7:{const c=n;return c.v||c.value}case 8:{const c=n;return c.v||c.value}default:throw new Error(`unhandled node type on format message part: ${a}`)}}const KS=t=>t;let Th=Object.create(null);const jh=t=>Dn(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function YS(t,n={}){let a=!1;const c=n.onError||UR;return n.onError=p=>{a=!0,c(p)},{...uM(t,n),detectError:a}}const $M=(t,n)=>{if(!er(t))throw gl(js.NOT_SUPPORT_NON_STRING_MESSAGE);{mn(n.warnHtmlMessage)&&n.warnHtmlMessage;const c=(n.onCacheKey||KS)(t),p=Th[c];if(p)return p;const{code:m,detectError:o}=YS(t,n),T=new Function(`return ${m}`)();return o?T:Th[c]=T}};function GM(t,n){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&er(t)){mn(n.warnHtmlMessage)&&n.warnHtmlMessage;const c=(n.onCacheKey||KS)(t),p=Th[c];if(p)return p;const{ast:m,detectError:o}=YS(t,{...n,location:!1,jit:!0}),T=Hg(m);return o?T:Th[c]=T}else{const a=t.cacheKey;if(a){const c=Th[a];return c||(Th[a]=Hg(t))}else return Hg(t)}}const Xb=()=>"",ws=t=>oi(t);function Kb(t,...n){const{fallbackFormat:a,postTranslation:c,unresolving:p,messageCompiler:m,fallbackLocale:o,messages:T}=t,[E,M]=ky(...n),R=mn(M.missingWarn)?M.missingWarn:t.missingWarn,B=mn(M.fallbackWarn)?M.fallbackWarn:t.fallbackWarn,W=mn(M.escapeParameter)?M.escapeParameter:t.escapeParameter,ae=!!M.resolvedMessage,ee=er(M.default)||mn(M.default)?mn(M.default)?m?E:()=>E:M.default:a?m?E:()=>E:"",re=a||ee!=="",ue=V_(t,M);W&&ZM(M);let[ce,Pe,Y]=ae?[E,ue,T[ue]||{}]:JS(t,E,ue,o,B,R),se=ce,Se=E;if(!ae&&!(er(se)||jh(se)||ws(se))&&re&&(se=ee,Se=se),!ae&&(!(er(se)||jh(se)||ws(se))||!er(Pe)))return p?Wm:E;let Me=!1;const C=()=>{Me=!0},qe=ws(se)?se:QS(t,E,Pe,se,Se,C);if(Me)return se;const we=YM(t,Pe,Y,M),Xe=CM(we),xt=XM(t,qe,Xe),Ge=c?c(xt,E):xt;if(__INTLIFY_PROD_DEVTOOLS__){const tt={timestamp:Date.now(),key:er(E)?E:ws(se)?se.key:"",locale:Pe||(ws(se)?se.locale:""),format:er(se)?se:ws(se)?se.source:"",message:Ge};tt.meta=Uo({},t.__meta,UM()||{}),kM(tt)}return Ge}function ZM(t){pi(t.list)?t.list=t.list.map(n=>er(n)?Ob(n):n):Dn(t.named)&&Object.keys(t.named).forEach(n=>{er(t.named[n])&&(t.named[n]=Ob(t.named[n]))})}function JS(t,n,a,c,p,m){const{messages:o,onWarn:T,messageResolver:E,localeFallbacker:M}=t,R=M(t,c,a);let B={},W,ae=null;const ee="translate";for(let re=0;re<R.length&&(W=R[re],B=o[W]||{},(ae=E(B,n))===null&&(ae=B[n]),!(er(ae)||jh(ae)||ws(ae)));re++)if(!HM(W,R)){const ue=j_(t,n,W,m,ee);ue!==n&&(ae=ue)}return[ae,W,B]}function QS(t,n,a,c,p,m){const{messageCompiler:o,warnHtmlMessage:T}=t;if(ws(c)){const M=c;return M.locale=M.locale||a,M.key=M.key||n,M}if(o==null){const M=()=>c;return M.locale=a,M.key=n,M}const E=o(c,KM(t,a,p,c,T,m));return E.locale=a,E.key=n,E.source=c,E}function XM(t,n,a){return n(a)}function ky(...t){const[n,a,c]=t,p={};if(!er(n)&&!yo(n)&&!ws(n)&&!jh(n))throw gl(js.INVALID_ARGUMENT);const m=yo(n)?String(n):(ws(n),n);return yo(a)?p.plural=a:er(a)?p.default=a:$r(a)&&!qm(a)?p.named=a:pi(a)&&(p.list=a),yo(c)?p.plural=c:er(c)?p.default=c:$r(c)&&Uo(p,c),[m,p]}function KM(t,n,a,c,p,m){return{locale:n,key:a,warnHtmlMessage:p,onError:o=>{throw m&&m(o),o},onCacheKey:o=>CR(n,a,o)}}function YM(t,n,a,c){const{modifiers:p,pluralRules:m,messageResolver:o,fallbackLocale:T,fallbackWarn:E,missingWarn:M,fallbackContext:R}=t,W={locale:n,modifiers:p,pluralRules:m,messages:ae=>{let ee=o(a,ae);if(ee==null&&R){const[,,re]=JS(R,ae,n,T,E,M);ee=o(re,ae)}if(er(ee)||jh(ee)){let re=!1;const ce=QS(t,ae,n,ee,ae,()=>{re=!0});return re?Xb:ce}else return ws(ee)?ee:Xb}};return t.processor&&(W.processor=t.processor),c.list&&(W.list=c.list),c.named&&(W.named=c.named),yo(c.plural)&&(W.pluralIndex=c.plural),W}function Yb(t,...n){const{datetimeFormats:a,unresolving:c,fallbackLocale:p,onWarn:m,localeFallbacker:o}=t,{__datetimeFormatters:T}=t,[E,M,R,B]=Py(...n),W=mn(R.missingWarn)?R.missingWarn:t.missingWarn;mn(R.fallbackWarn)?R.fallbackWarn:t.fallbackWarn;const ae=!!R.part,ee=V_(t,R),re=o(t,p,ee);if(!er(E)||E==="")return new Intl.DateTimeFormat(ee,B).format(M);let ue={},ce,Pe=null;const Y="datetime format";for(let Me=0;Me<re.length&&(ce=re[Me],ue=a[ce]||{},Pe=ue[E],!$r(Pe));Me++)j_(t,E,ce,W,Y);if(!$r(Pe)||!er(ce))return c?Wm:E;let se=`${ce}__${E}`;qm(B)||(se=`${se}__${JSON.stringify(B)}`);let Se=T.get(se);return Se||(Se=new Intl.DateTimeFormat(ce,Uo({},Pe,B)),T.set(se,Se)),ae?Se.formatToParts(M):Se.format(M)}const eT=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Py(...t){const[n,a,c,p]=t,m={};let o={},T;if(er(n)){const E=n.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!E)throw gl(js.INVALID_ISO_DATE_ARGUMENT);const M=E[3]?E[3].trim().startsWith("T")?`${E[1].trim()}${E[3].trim()}`:`${E[1].trim()}T${E[3].trim()}`:E[1].trim();T=new Date(M);try{T.toISOString()}catch{throw gl(js.INVALID_ISO_DATE_ARGUMENT)}}else if(IR(n)){if(isNaN(n.getTime()))throw gl(js.INVALID_DATE_ARGUMENT);T=n}else if(yo(n))T=n;else throw gl(js.INVALID_ARGUMENT);return er(a)?m.key=a:$r(a)&&Object.keys(a).forEach(E=>{eT.includes(E)?o[E]=a[E]:m[E]=a[E]}),er(c)?m.locale=c:$r(c)&&(o=c),$r(p)&&(o=p),[m.key||"",T,m,o]}function Jb(t,n,a){const c=t;for(const p in a){const m=`${n}__${p}`;c.__datetimeFormatters.has(m)&&c.__datetimeFormatters.delete(m)}}function Qb(t,...n){const{numberFormats:a,unresolving:c,fallbackLocale:p,onWarn:m,localeFallbacker:o}=t,{__numberFormatters:T}=t,[E,M,R,B]=Ly(...n),W=mn(R.missingWarn)?R.missingWarn:t.missingWarn;mn(R.fallbackWarn)?R.fallbackWarn:t.fallbackWarn;const ae=!!R.part,ee=V_(t,R),re=o(t,p,ee);if(!er(E)||E==="")return new Intl.NumberFormat(ee,B).format(M);let ue={},ce,Pe=null;const Y="number format";for(let Me=0;Me<re.length&&(ce=re[Me],ue=a[ce]||{},Pe=ue[E],!$r(Pe));Me++)j_(t,E,ce,W,Y);if(!$r(Pe)||!er(ce))return c?Wm:E;let se=`${ce}__${E}`;qm(B)||(se=`${se}__${JSON.stringify(B)}`);let Se=T.get(se);return Se||(Se=new Intl.NumberFormat(ce,Uo({},Pe,B)),T.set(se,Se)),ae?Se.formatToParts(M):Se.format(M)}const tT=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ly(...t){const[n,a,c,p]=t,m={};let o={};if(!yo(n))throw gl(js.INVALID_ARGUMENT);const T=n;return er(a)?m.key=a:$r(a)&&Object.keys(a).forEach(E=>{tT.includes(E)?o[E]=a[E]:m[E]=a[E]}),er(c)?m.locale=c:$r(c)&&(o=c),$r(p)&&(o=p),[m.key||"",T,m,o]}function ex(t,n,a){const c=t;for(const p in a){const m=`${n}__${p}`;c.__numberFormatters.has(m)&&c.__numberFormatters.delete(m)}}cM();/*!
  * vue-i18n v9.14.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const JM="9.14.1";function QM(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Yl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Yl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Yl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Yl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Yl().__INTLIFY_PROD_DEVTOOLS__=!1)}const rT=LM.__EXTEND_POINT__,Hl=Hm(rT);Hl(),Hl(),Hl(),Hl(),Hl(),Hl(),Hl(),Hl(),Hl();const nT=js.__EXTEND_POINT__,Da=Hm(nT),vo={UNEXPECTED_RETURN_TYPE:nT,INVALID_ARGUMENT:Da(),MUST_BE_CALL_SETUP_TOP:Da(),NOT_INSTALLED:Da(),NOT_AVAILABLE_IN_LEGACY_MODE:Da(),REQUIRED_VALUE:Da(),INVALID_VALUE:Da(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Da(),NOT_INSTALLED_WITH_PROVIDE:Da(),UNEXPECTED_ERROR:Da(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Da(),BRIDGE_SUPPORT_VUE_2_ONLY:Da(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Da(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Da(),__EXTEND_POINT__:Da()};function Ro(t,...n){return Xh(t,null,void 0)}const Ry=Vu("__translateVNode"),My=Vu("__datetimeParts"),Oy=Vu("__numberParts"),iT=Vu("__setPluralRules"),oT=Vu("__injectWithOption"),Dy=Vu("__dispose");function hp(t){if(!Dn(t))return t;for(const n in t)if(um(t,n))if(!n.includes("."))Dn(t[n])&&hp(t[n]);else{const a=n.split("."),c=a.length-1;let p=t,m=!1;for(let o=0;o<c;o++){if(a[o]in p||(p[a[o]]={}),!Dn(p[a[o]])){m=!0;break}p=p[a[o]]}m||(p[a[c]]=t[n],delete t[n]),Dn(p[a[c]])&&hp(p[a[c]])}return t}function $m(t,n){const{messages:a,__i18n:c,messageResolver:p,flatJson:m}=n,o=$r(a)?a:pi(c)?{}:{[t]:{}};if(pi(c)&&c.forEach(T=>{if("locale"in T&&"resource"in T){const{locale:E,resource:M}=T;E?(o[E]=o[E]||{},Pd(M,o[E])):Pd(M,o)}else er(T)&&Pd(JSON.parse(T),o)}),p==null&&m)for(const T in o)um(o,T)&&hp(o[T]);return o}function aT(t){return t.type}function sT(t,n,a){let c=Dn(n.messages)?n.messages:{};"__i18nGlobal"in a&&(c=$m(t.locale.value,{messages:c,__i18n:a.__i18nGlobal}));const p=Object.keys(c);p.length&&p.forEach(m=>{t.mergeLocaleMessage(m,c[m])});{if(Dn(n.datetimeFormats)){const m=Object.keys(n.datetimeFormats);m.length&&m.forEach(o=>{t.mergeDateTimeFormat(o,n.datetimeFormats[o])})}if(Dn(n.numberFormats)){const m=Object.keys(n.numberFormats);m.length&&m.forEach(o=>{t.mergeNumberFormat(o,n.numberFormats[o])})}}}function tx(t){return ai(Jl,null,t,0)}const rx="__INTLIFY_META__",nx=()=>[],eO=()=>!1;let ix=0;function ox(t){return(n,a,c,p)=>t(a,c,Vo()||void 0,p)}const tO=()=>{const t=Vo();let n=null;return t&&(n=aT(t)[rx])?{[rx]:n}:null};function q_(t={},n){const{__root:a,__injectWithOption:c}=t,p=a===void 0,m=t.flatJson,o=lm?Us:Am,T=!!t.translateExistCompatible;let E=mn(t.inheritLocale)?t.inheritLocale:!0;const M=o(a&&E?a.locale.value:er(t.locale)?t.locale:Vh),R=o(a&&E?a.fallbackLocale.value:er(t.fallbackLocale)||pi(t.fallbackLocale)||$r(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:M.value),B=o($m(M.value,t)),W=o($r(t.datetimeFormats)?t.datetimeFormats:{[M.value]:{}}),ae=o($r(t.numberFormats)?t.numberFormats:{[M.value]:{}});let ee=a?a.missingWarn:mn(t.missingWarn)||Fu(t.missingWarn)?t.missingWarn:!0,re=a?a.fallbackWarn:mn(t.fallbackWarn)||Fu(t.fallbackWarn)?t.fallbackWarn:!0,ue=a?a.fallbackRoot:mn(t.fallbackRoot)?t.fallbackRoot:!0,ce=!!t.fallbackFormat,Pe=oi(t.missing)?t.missing:null,Y=oi(t.missing)?ox(t.missing):null,se=oi(t.postTranslation)?t.postTranslation:null,Se=a?a.warnHtmlMessage:mn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,Me=!!t.escapeParameter;const C=a?a.modifiers:$r(t.modifiers)?t.modifiers:{};let qe=t.pluralRules||a&&a.pluralRules,we;we=(()=>{p&&$b(null);const Be={version:JM,locale:M.value,fallbackLocale:R.value,messages:B.value,modifiers:C,pluralRules:qe,missing:Y===null?void 0:Y,missingWarn:ee,fallbackWarn:re,fallbackFormat:ce,unresolving:!0,postTranslation:se===null?void 0:se,warnHtmlMessage:Se,escapeParameter:Me,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};Be.datetimeFormats=W.value,Be.numberFormats=ae.value,Be.__datetimeFormatters=$r(we)?we.__datetimeFormatters:void 0,Be.__numberFormatters=$r(we)?we.__numberFormatters:void 0;const lt=jM(Be);return p&&$b(lt),lt})(),zf(we,M.value,R.value);function xt(){return[M.value,R.value,B.value,W.value,ae.value]}const Ge=Ss({get:()=>M.value,set:Be=>{M.value=Be,we.locale=M.value}}),tt=Ss({get:()=>R.value,set:Be=>{R.value=Be,we.fallbackLocale=R.value,zf(we,M.value,Be)}}),Ht=Ss(()=>B.value),fr=Ss(()=>W.value),Lt=Ss(()=>ae.value);function Jt(){return oi(se)?se:null}function Zt(Be){se=Be,we.postTranslation=Be}function Zr(){return Pe}function Mn(Be){Be!==null&&(Y=ox(Be)),Pe=Be,we.missing=Y}const Kr=(Be,lt,hr,pr,wn,Sn)=>{xt();let Ln;try{__INTLIFY_PROD_DEVTOOLS__,p||(we.fallbackContext=a?VM():void 0),Ln=Be(we)}finally{__INTLIFY_PROD_DEVTOOLS__,p||(we.fallbackContext=void 0)}if(hr!=="translate exists"&&yo(Ln)&&Ln===Wm||hr==="translate exists"&&!Ln){const[pn,ei]=lt();return a&&ue?pr(a):wn(pn)}else{if(Sn(Ln))return Ln;throw Ro(vo.UNEXPECTED_RETURN_TYPE)}};function Yr(...Be){return Kr(lt=>Reflect.apply(Kb,null,[lt,...Be]),()=>ky(...Be),"translate",lt=>Reflect.apply(lt.t,lt,[...Be]),lt=>lt,lt=>er(lt))}function mi(...Be){const[lt,hr,pr]=Be;if(pr&&!Dn(pr))throw Ro(vo.INVALID_ARGUMENT);return Yr(lt,hr,Uo({resolvedMessage:!0},pr||{}))}function Ti(...Be){return Kr(lt=>Reflect.apply(Yb,null,[lt,...Be]),()=>Py(...Be),"datetime format",lt=>Reflect.apply(lt.d,lt,[...Be]),()=>qb,lt=>er(lt))}function gn(...Be){return Kr(lt=>Reflect.apply(Qb,null,[lt,...Be]),()=>Ly(...Be),"number format",lt=>Reflect.apply(lt.n,lt,[...Be]),()=>qb,lt=>er(lt))}function En(Be){return Be.map(lt=>er(lt)||yo(lt)||mn(lt)?tx(String(lt)):lt)}const Qn={normalize:En,interpolate:Be=>Be,type:"vnode"};function Cr(...Be){return Kr(lt=>{let hr;const pr=lt;try{pr.processor=Qn,hr=Reflect.apply(Kb,null,[pr,...Be])}finally{pr.processor=null}return hr},()=>ky(...Be),"translate",lt=>lt[Ry](...Be),lt=>[tx(lt)],lt=>pi(lt))}function sn(...Be){return Kr(lt=>Reflect.apply(Qb,null,[lt,...Be]),()=>Ly(...Be),"number format",lt=>lt[Oy](...Be),nx,lt=>er(lt)||pi(lt))}function Mi(...Be){return Kr(lt=>Reflect.apply(Yb,null,[lt,...Be]),()=>Py(...Be),"datetime format",lt=>lt[My](...Be),nx,lt=>er(lt)||pi(lt))}function _n(Be){qe=Be,we.pluralRules=qe}function xe(Be,lt){return Kr(()=>{if(!Be)return!1;const hr=er(lt)?lt:M.value,pr=vt(hr),wn=we.messageResolver(pr,Be);return T?wn!=null:jh(wn)||ws(wn)||er(wn)},()=>[Be],"translate exists",hr=>Reflect.apply(hr.te,hr,[Be,lt]),eO,hr=>mn(hr))}function de(Be){let lt=null;const hr=HS(we,R.value,M.value);for(let pr=0;pr<hr.length;pr++){const wn=B.value[hr[pr]]||{},Sn=we.messageResolver(wn,Be);if(Sn!=null){lt=Sn;break}}return lt}function $e(Be){const lt=de(Be);return lt??(a?a.tm(Be)||{}:{})}function vt(Be){return B.value[Be]||{}}function bt(Be,lt){if(m){const hr={[Be]:lt};for(const pr in hr)um(hr,pr)&&hp(hr[pr]);lt=hr[Be]}B.value[Be]=lt,we.messages=B.value}function dt(Be,lt){B.value[Be]=B.value[Be]||{};const hr={[Be]:lt};if(m)for(const pr in hr)um(hr,pr)&&hp(hr[pr]);lt=hr[Be],Pd(lt,B.value[Be]),we.messages=B.value}function Ft(Be){return W.value[Be]||{}}function le(Be,lt){W.value[Be]=lt,we.datetimeFormats=W.value,Jb(we,Be,lt)}function pe(Be,lt){W.value[Be]=Uo(W.value[Be]||{},lt),we.datetimeFormats=W.value,Jb(we,Be,lt)}function Ne(Be){return ae.value[Be]||{}}function ht(Be,lt){ae.value[Be]=lt,we.numberFormats=ae.value,ex(we,Be,lt)}function wt(Be,lt){ae.value[Be]=Uo(ae.value[Be]||{},lt),we.numberFormats=ae.value,ex(we,Be,lt)}ix++,a&&lm&&(Mu(a.locale,Be=>{E&&(M.value=Be,we.locale=Be,zf(we,M.value,R.value))}),Mu(a.fallbackLocale,Be=>{E&&(R.value=Be,we.fallbackLocale=Be,zf(we,M.value,R.value))}));const Ve={id:ix,locale:Ge,fallbackLocale:tt,get inheritLocale(){return E},set inheritLocale(Be){E=Be,Be&&a&&(M.value=a.locale.value,R.value=a.fallbackLocale.value,zf(we,M.value,R.value))},get availableLocales(){return Object.keys(B.value).sort()},messages:Ht,get modifiers(){return C},get pluralRules(){return qe||{}},get isGlobal(){return p},get missingWarn(){return ee},set missingWarn(Be){ee=Be,we.missingWarn=ee},get fallbackWarn(){return re},set fallbackWarn(Be){re=Be,we.fallbackWarn=re},get fallbackRoot(){return ue},set fallbackRoot(Be){ue=Be},get fallbackFormat(){return ce},set fallbackFormat(Be){ce=Be,we.fallbackFormat=ce},get warnHtmlMessage(){return Se},set warnHtmlMessage(Be){Se=Be,we.warnHtmlMessage=Be},get escapeParameter(){return Me},set escapeParameter(Be){Me=Be,we.escapeParameter=Be},t:Yr,getLocaleMessage:vt,setLocaleMessage:bt,mergeLocaleMessage:dt,getPostTranslationHandler:Jt,setPostTranslationHandler:Zt,getMissingHandler:Zr,setMissingHandler:Mn,[iT]:_n};return Ve.datetimeFormats=fr,Ve.numberFormats=Lt,Ve.rt=mi,Ve.te=xe,Ve.tm=$e,Ve.d=Ti,Ve.n=gn,Ve.getDateTimeFormat=Ft,Ve.setDateTimeFormat=le,Ve.mergeDateTimeFormat=pe,Ve.getNumberFormat=Ne,Ve.setNumberFormat=ht,Ve.mergeNumberFormat=wt,Ve[oT]=c,Ve[Ry]=Cr,Ve[My]=Mi,Ve[Oy]=sn,Ve}function rO(t){const n=er(t.locale)?t.locale:Vh,a=er(t.fallbackLocale)||pi(t.fallbackLocale)||$r(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:n,c=oi(t.missing)?t.missing:void 0,p=mn(t.silentTranslationWarn)||Fu(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,m=mn(t.silentFallbackWarn)||Fu(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=mn(t.fallbackRoot)?t.fallbackRoot:!0,T=!!t.formatFallbackMessages,E=$r(t.modifiers)?t.modifiers:{},M=t.pluralizationRules,R=oi(t.postTranslation)?t.postTranslation:void 0,B=er(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,W=!!t.escapeParameterHtml,ae=mn(t.sync)?t.sync:!0;let ee=t.messages;if($r(t.sharedMessages)){const Me=t.sharedMessages;ee=Object.keys(Me).reduce((qe,we)=>{const Xe=qe[we]||(qe[we]={});return Uo(Xe,Me[we]),qe},ee||{})}const{__i18n:re,__root:ue,__injectWithOption:ce}=t,Pe=t.datetimeFormats,Y=t.numberFormats,se=t.flatJson,Se=t.translateExistCompatible;return{locale:n,fallbackLocale:a,messages:ee,flatJson:se,datetimeFormats:Pe,numberFormats:Y,missing:c,missingWarn:p,fallbackWarn:m,fallbackRoot:o,fallbackFormat:T,modifiers:E,pluralRules:M,postTranslation:R,warnHtmlMessage:B,escapeParameter:W,messageResolver:t.messageResolver,inheritLocale:ae,translateExistCompatible:Se,__i18n:re,__root:ue,__injectWithOption:ce}}function Ny(t={},n){{const a=q_(rO(t)),{__extender:c}=t,p={id:a.id,get locale(){return a.locale.value},set locale(m){a.locale.value=m},get fallbackLocale(){return a.fallbackLocale.value},set fallbackLocale(m){a.fallbackLocale.value=m},get messages(){return a.messages.value},get datetimeFormats(){return a.datetimeFormats.value},get numberFormats(){return a.numberFormats.value},get availableLocales(){return a.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(m){},get missing(){return a.getMissingHandler()},set missing(m){a.setMissingHandler(m)},get silentTranslationWarn(){return mn(a.missingWarn)?!a.missingWarn:a.missingWarn},set silentTranslationWarn(m){a.missingWarn=mn(m)?!m:m},get silentFallbackWarn(){return mn(a.fallbackWarn)?!a.fallbackWarn:a.fallbackWarn},set silentFallbackWarn(m){a.fallbackWarn=mn(m)?!m:m},get modifiers(){return a.modifiers},get formatFallbackMessages(){return a.fallbackFormat},set formatFallbackMessages(m){a.fallbackFormat=m},get postTranslation(){return a.getPostTranslationHandler()},set postTranslation(m){a.setPostTranslationHandler(m)},get sync(){return a.inheritLocale},set sync(m){a.inheritLocale=m},get warnHtmlInMessage(){return a.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(m){a.warnHtmlMessage=m!=="off"},get escapeParameterHtml(){return a.escapeParameter},set escapeParameterHtml(m){a.escapeParameter=m},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(m){},get pluralizationRules(){return a.pluralRules||{}},__composer:a,t(...m){const[o,T,E]=m,M={};let R=null,B=null;if(!er(o))throw Ro(vo.INVALID_ARGUMENT);const W=o;return er(T)?M.locale=T:pi(T)?R=T:$r(T)&&(B=T),pi(E)?R=E:$r(E)&&(B=E),Reflect.apply(a.t,a,[W,R||B||{},M])},rt(...m){return Reflect.apply(a.rt,a,[...m])},tc(...m){const[o,T,E]=m,M={plural:1};let R=null,B=null;if(!er(o))throw Ro(vo.INVALID_ARGUMENT);const W=o;return er(T)?M.locale=T:yo(T)?M.plural=T:pi(T)?R=T:$r(T)&&(B=T),er(E)?M.locale=E:pi(E)?R=E:$r(E)&&(B=E),Reflect.apply(a.t,a,[W,R||B||{},M])},te(m,o){return a.te(m,o)},tm(m){return a.tm(m)},getLocaleMessage(m){return a.getLocaleMessage(m)},setLocaleMessage(m,o){a.setLocaleMessage(m,o)},mergeLocaleMessage(m,o){a.mergeLocaleMessage(m,o)},d(...m){return Reflect.apply(a.d,a,[...m])},getDateTimeFormat(m){return a.getDateTimeFormat(m)},setDateTimeFormat(m,o){a.setDateTimeFormat(m,o)},mergeDateTimeFormat(m,o){a.mergeDateTimeFormat(m,o)},n(...m){return Reflect.apply(a.n,a,[...m])},getNumberFormat(m){return a.getNumberFormat(m)},setNumberFormat(m,o){a.setNumberFormat(m,o)},mergeNumberFormat(m,o){a.mergeNumberFormat(m,o)},getChoiceIndex(m,o){return-1}};return p.__extender=c,p}}const H_={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function nO({slots:t},n){return n.length===1&&n[0]==="default"?(t.default?t.default():[]).reduce((c,p)=>[...c,...p.type===oo?p.children:[p]],[]):n.reduce((a,c)=>{const p=t[c];return p&&(a[c]=p()),a},{})}function lT(t){return oo}const iO=Gh({name:"i18n-t",props:Uo({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>yo(t)||!isNaN(t)}},H_),setup(t,n){const{slots:a,attrs:c}=n,p=t.i18n||W_({useScope:t.scope,__useComponent:!0});return()=>{const m=Object.keys(a).filter(B=>B!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=er(t.plural)?+t.plural:t.plural);const T=nO(n,m),E=p[Ry](t.keypath,T,o),M=Uo({},c),R=er(t.tag)||Dn(t.tag)?t.tag:lT();return zm(R,M,E)}}}),ax=iO;function oO(t){return pi(t)&&!er(t[0])}function uT(t,n,a,c){const{slots:p,attrs:m}=n;return()=>{const o={part:!0};let T={};t.locale&&(o.locale=t.locale),er(t.format)?o.key=t.format:Dn(t.format)&&(er(t.format.key)&&(o.key=t.format.key),T=Object.keys(t.format).reduce((W,ae)=>a.includes(ae)?Uo({},W,{[ae]:t.format[ae]}):W,{}));const E=c(t.value,o,T);let M=[o.key];pi(E)?M=E.map((W,ae)=>{const ee=p[W.type],re=ee?ee({[W.type]:W.value,index:ae,parts:E}):[W.value];return oO(re)&&(re[0].key=`${W.type}-${ae}`),re}):er(E)&&(M=[E]);const R=Uo({},m),B=er(t.tag)||Dn(t.tag)?t.tag:lT();return zm(B,R,M)}}const aO=Gh({name:"i18n-n",props:Uo({value:{type:Number,required:!0},format:{type:[String,Object]}},H_),setup(t,n){const a=t.i18n||W_({useScope:t.scope,__useComponent:!0});return uT(t,n,tT,(...c)=>a[Oy](...c))}}),sx=aO,sO=Gh({name:"i18n-d",props:Uo({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},H_),setup(t,n){const a=t.i18n||W_({useScope:t.scope,__useComponent:!0});return uT(t,n,eT,(...c)=>a[My](...c))}}),lx=sO;function lO(t,n){const a=t;if(t.mode==="composition")return a.__getInstance(n)||t.global;{const c=a.__getInstance(n);return c!=null?c.__composer:t.global.__composer}}function uO(t){const n=o=>{const{instance:T,modifiers:E,value:M}=o;if(!T||!T.$)throw Ro(vo.UNEXPECTED_ERROR);const R=lO(t,T.$),B=ux(M);return[Reflect.apply(R.t,R,[...cx(B)]),R]};return{created:(o,T)=>{const[E,M]=n(T);lm&&t.global===M&&(o.__i18nWatcher=Mu(M.locale,()=>{T.instance&&T.instance.$forceUpdate()})),o.__composer=M,o.textContent=E},unmounted:o=>{lm&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:T})=>{if(o.__composer){const E=o.__composer,M=ux(T);o.textContent=Reflect.apply(E.t,E,[...cx(M)])}},getSSRProps:o=>{const[T]=n(o);return{textContent:T}}}}function ux(t){if(er(t))return{path:t};if($r(t)){if(!("path"in t))throw Ro(vo.REQUIRED_VALUE,"path");return t}else throw Ro(vo.INVALID_VALUE)}function cx(t){const{path:n,locale:a,args:c,choice:p,plural:m}=t,o={},T=c||{};return er(a)&&(o.locale=a),yo(p)&&(o.plural=p),yo(m)&&(o.plural=m),[n,T,o]}function cO(t,n,...a){const c=$r(a[0])?a[0]:{},p=!!c.useI18nComponentName;(mn(c.globalInstall)?c.globalInstall:!0)&&([p?"i18n":ax.name,"I18nT"].forEach(o=>t.component(o,ax)),[sx.name,"I18nN"].forEach(o=>t.component(o,sx)),[lx.name,"I18nD"].forEach(o=>t.component(o,lx))),t.directive("t",uO(n))}function hO(t,n,a){return{beforeCreate(){const c=Vo();if(!c)throw Ro(vo.UNEXPECTED_ERROR);const p=this.$options;if(p.i18n){const m=p.i18n;if(p.__i18n&&(m.__i18n=p.__i18n),m.__root=n,this===this.$root)this.$i18n=hx(t,m);else{m.__injectWithOption=!0,m.__extender=a.__vueI18nExtend,this.$i18n=Ny(m);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(p.__i18n)if(this===this.$root)this.$i18n=hx(t,p);else{this.$i18n=Ny({__i18n:p.__i18n,__injectWithOption:!0,__extender:a.__vueI18nExtend,__root:n});const m=this.$i18n;m.__extender&&(m.__disposer=m.__extender(this.$i18n))}else this.$i18n=t;p.__i18nGlobal&&sT(n,p,p),this.$t=(...m)=>this.$i18n.t(...m),this.$rt=(...m)=>this.$i18n.rt(...m),this.$tc=(...m)=>this.$i18n.tc(...m),this.$te=(m,o)=>this.$i18n.te(m,o),this.$d=(...m)=>this.$i18n.d(...m),this.$n=(...m)=>this.$i18n.n(...m),this.$tm=m=>this.$i18n.tm(m),a.__setInstance(c,this.$i18n)},mounted(){},unmounted(){const c=Vo();if(!c)throw Ro(vo.UNEXPECTED_ERROR);const p=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,p.__disposer&&(p.__disposer(),delete p.__disposer,delete p.__extender),a.__deleteInstance(c),delete this.$i18n}}}function hx(t,n){t.locale=n.locale||t.locale,t.fallbackLocale=n.fallbackLocale||t.fallbackLocale,t.missing=n.missing||t.missing,t.silentTranslationWarn=n.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=n.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=n.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=n.postTranslation||t.postTranslation,t.warnHtmlInMessage=n.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=n.escapeParameterHtml||t.escapeParameterHtml,t.sync=n.sync||t.sync,t.__composer[iT](n.pluralizationRules||t.pluralizationRules);const a=$m(t.locale,{messages:n.messages,__i18n:n.__i18n});return Object.keys(a).forEach(c=>t.mergeLocaleMessage(c,a[c])),n.datetimeFormats&&Object.keys(n.datetimeFormats).forEach(c=>t.mergeDateTimeFormat(c,n.datetimeFormats[c])),n.numberFormats&&Object.keys(n.numberFormats).forEach(c=>t.mergeNumberFormat(c,n.numberFormats[c])),t}const fO=Vu("global-vue-i18n");function pO(t={},n){const a=__VUE_I18N_LEGACY_API__&&mn(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,c=mn(t.globalInjection)?t.globalInjection:!0,p=__VUE_I18N_LEGACY_API__&&a?!!t.allowComposition:!0,m=new Map,[o,T]=dO(t,a),E=Vu("");function M(W){return m.get(W)||null}function R(W,ae){m.set(W,ae)}function B(W){m.delete(W)}{const W={get mode(){return __VUE_I18N_LEGACY_API__&&a?"legacy":"composition"},get allowComposition(){return p},async install(ae,...ee){if(ae.__VUE_I18N_SYMBOL__=E,ae.provide(ae.__VUE_I18N_SYMBOL__,W),$r(ee[0])){const ce=ee[0];W.__composerExtend=ce.__composerExtend,W.__vueI18nExtend=ce.__vueI18nExtend}let re=null;!a&&c&&(re=SO(ae,W.global)),__VUE_I18N_FULL_INSTALL__&&cO(ae,W,...ee),__VUE_I18N_LEGACY_API__&&a&&ae.mixin(hO(T,T.__composer,W));const ue=ae.unmount;ae.unmount=()=>{re&&re(),W.dispose(),ue()}},get global(){return T},dispose(){o.stop()},__instances:m,__getInstance:M,__setInstance:R,__deleteInstance:B};return W}}function W_(t={}){const n=Vo();if(n==null)throw Ro(vo.MUST_BE_CALL_SETUP_TOP);if(!n.isCE&&n.appContext.app!=null&&!n.appContext.app.__VUE_I18N_SYMBOL__)throw Ro(vo.NOT_INSTALLED);const a=mO(n),c=yO(a),p=aT(n),m=gO(t,p);if(__VUE_I18N_LEGACY_API__&&a.mode==="legacy"&&!t.__useComponent){if(!a.allowComposition)throw Ro(vo.NOT_AVAILABLE_IN_LEGACY_MODE);return xO(n,m,c,t)}if(m==="global")return sT(c,t,p),c;if(m==="parent"){let E=_O(a,n,t.__useComponent);return E==null&&(E=c),E}const o=a;let T=o.__getInstance(n);if(T==null){const E=Uo({},t);"__i18n"in p&&(E.__i18n=p.__i18n),c&&(E.__root=c),T=q_(E),o.__composerExtend&&(T[Dy]=o.__composerExtend(T)),bO(o,n,T),o.__setInstance(n,T)}return T}function dO(t,n,a){const c=Kx();{const p=__VUE_I18N_LEGACY_API__&&n?c.run(()=>Ny(t)):c.run(()=>q_(t));if(p==null)throw Ro(vo.UNEXPECTED_ERROR);return[c,p]}}function mO(t){{const n=Ph(t.isCE?fO:t.appContext.app.__VUE_I18N_SYMBOL__);if(!n)throw Ro(t.isCE?vo.NOT_INSTALLED_WITH_PROVIDE:vo.UNEXPECTED_ERROR);return n}}function gO(t,n){return qm(t)?"__i18n"in n?"local":"global":t.useScope?t.useScope:"local"}function yO(t){return t.mode==="composition"?t.global:t.global.__composer}function _O(t,n,a=!1){let c=null;const p=n.root;let m=vO(n,a);for(;m!=null;){const o=t;if(t.mode==="composition")c=o.__getInstance(m);else if(__VUE_I18N_LEGACY_API__){const T=o.__getInstance(m);T!=null&&(c=T.__composer,a&&c&&!c[oT]&&(c=null))}if(c!=null||p===m)break;m=m.parent}return c}function vO(t,n=!1){return t==null?null:n&&t.vnode.ctx||t.parent}function bO(t,n,a){Zh(()=>{},n),yp(()=>{const c=a;t.__deleteInstance(n);const p=c[Dy];p&&(p(),delete c[Dy])},n)}function xO(t,n,a,c={}){const p=n==="local",m=Am(null);if(p&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Ro(vo.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=mn(c.inheritLocale)?c.inheritLocale:!er(c.locale),T=Us(!p||o?a.locale.value:er(c.locale)?c.locale:Vh),E=Us(!p||o?a.fallbackLocale.value:er(c.fallbackLocale)||pi(c.fallbackLocale)||$r(c.fallbackLocale)||c.fallbackLocale===!1?c.fallbackLocale:T.value),M=Us($m(T.value,c)),R=Us($r(c.datetimeFormats)?c.datetimeFormats:{[T.value]:{}}),B=Us($r(c.numberFormats)?c.numberFormats:{[T.value]:{}}),W=p?a.missingWarn:mn(c.missingWarn)||Fu(c.missingWarn)?c.missingWarn:!0,ae=p?a.fallbackWarn:mn(c.fallbackWarn)||Fu(c.fallbackWarn)?c.fallbackWarn:!0,ee=p?a.fallbackRoot:mn(c.fallbackRoot)?c.fallbackRoot:!0,re=!!c.fallbackFormat,ue=oi(c.missing)?c.missing:null,ce=oi(c.postTranslation)?c.postTranslation:null,Pe=p?a.warnHtmlMessage:mn(c.warnHtmlMessage)?c.warnHtmlMessage:!0,Y=!!c.escapeParameter,se=p?a.modifiers:$r(c.modifiers)?c.modifiers:{},Se=c.pluralRules||p&&a.pluralRules;function Me(){return[T.value,E.value,M.value,R.value,B.value]}const C=Ss({get:()=>m.value?m.value.locale.value:T.value,set:de=>{m.value&&(m.value.locale.value=de),T.value=de}}),qe=Ss({get:()=>m.value?m.value.fallbackLocale.value:E.value,set:de=>{m.value&&(m.value.fallbackLocale.value=de),E.value=de}}),we=Ss(()=>m.value?m.value.messages.value:M.value),Xe=Ss(()=>R.value),xt=Ss(()=>B.value);function Ge(){return m.value?m.value.getPostTranslationHandler():ce}function tt(de){m.value&&m.value.setPostTranslationHandler(de)}function Ht(){return m.value?m.value.getMissingHandler():ue}function fr(de){m.value&&m.value.setMissingHandler(de)}function Lt(de){return Me(),de()}function Jt(...de){return m.value?Lt(()=>Reflect.apply(m.value.t,null,[...de])):Lt(()=>"")}function Zt(...de){return m.value?Reflect.apply(m.value.rt,null,[...de]):""}function Zr(...de){return m.value?Lt(()=>Reflect.apply(m.value.d,null,[...de])):Lt(()=>"")}function Mn(...de){return m.value?Lt(()=>Reflect.apply(m.value.n,null,[...de])):Lt(()=>"")}function Kr(de){return m.value?m.value.tm(de):{}}function Yr(de,$e){return m.value?m.value.te(de,$e):!1}function mi(de){return m.value?m.value.getLocaleMessage(de):{}}function Ti(de,$e){m.value&&(m.value.setLocaleMessage(de,$e),M.value[de]=$e)}function gn(de,$e){m.value&&m.value.mergeLocaleMessage(de,$e)}function En(de){return m.value?m.value.getDateTimeFormat(de):{}}function On(de,$e){m.value&&(m.value.setDateTimeFormat(de,$e),R.value[de]=$e)}function Qn(de,$e){m.value&&m.value.mergeDateTimeFormat(de,$e)}function Cr(de){return m.value?m.value.getNumberFormat(de):{}}function sn(de,$e){m.value&&(m.value.setNumberFormat(de,$e),B.value[de]=$e)}function Mi(de,$e){m.value&&m.value.mergeNumberFormat(de,$e)}const _n={get id(){return m.value?m.value.id:-1},locale:C,fallbackLocale:qe,messages:we,datetimeFormats:Xe,numberFormats:xt,get inheritLocale(){return m.value?m.value.inheritLocale:o},set inheritLocale(de){m.value&&(m.value.inheritLocale=de)},get availableLocales(){return m.value?m.value.availableLocales:Object.keys(M.value)},get modifiers(){return m.value?m.value.modifiers:se},get pluralRules(){return m.value?m.value.pluralRules:Se},get isGlobal(){return m.value?m.value.isGlobal:!1},get missingWarn(){return m.value?m.value.missingWarn:W},set missingWarn(de){m.value&&(m.value.missingWarn=de)},get fallbackWarn(){return m.value?m.value.fallbackWarn:ae},set fallbackWarn(de){m.value&&(m.value.missingWarn=de)},get fallbackRoot(){return m.value?m.value.fallbackRoot:ee},set fallbackRoot(de){m.value&&(m.value.fallbackRoot=de)},get fallbackFormat(){return m.value?m.value.fallbackFormat:re},set fallbackFormat(de){m.value&&(m.value.fallbackFormat=de)},get warnHtmlMessage(){return m.value?m.value.warnHtmlMessage:Pe},set warnHtmlMessage(de){m.value&&(m.value.warnHtmlMessage=de)},get escapeParameter(){return m.value?m.value.escapeParameter:Y},set escapeParameter(de){m.value&&(m.value.escapeParameter=de)},t:Jt,getPostTranslationHandler:Ge,setPostTranslationHandler:tt,getMissingHandler:Ht,setMissingHandler:fr,rt:Zt,d:Zr,n:Mn,tm:Kr,te:Yr,getLocaleMessage:mi,setLocaleMessage:Ti,mergeLocaleMessage:gn,getDateTimeFormat:En,setDateTimeFormat:On,mergeDateTimeFormat:Qn,getNumberFormat:Cr,setNumberFormat:sn,mergeNumberFormat:Mi};function xe(de){de.locale.value=T.value,de.fallbackLocale.value=E.value,Object.keys(M.value).forEach($e=>{de.mergeLocaleMessage($e,M.value[$e])}),Object.keys(R.value).forEach($e=>{de.mergeDateTimeFormat($e,R.value[$e])}),Object.keys(B.value).forEach($e=>{de.mergeNumberFormat($e,B.value[$e])}),de.escapeParameter=Y,de.fallbackFormat=re,de.fallbackRoot=ee,de.fallbackWarn=ae,de.missingWarn=W,de.warnHtmlMessage=Pe}return Mm(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Ro(vo.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const de=m.value=t.proxy.$i18n.__composer;n==="global"?(T.value=de.locale.value,E.value=de.fallbackLocale.value,M.value=de.messages.value,R.value=de.datetimeFormats.value,B.value=de.numberFormats.value):p&&xe(de)}),_n}const wO=["locale","fallbackLocale","availableLocales"],fx=["t","rt","d","n","tm","te"];function SO(t,n){const a=Object.create(null);return wO.forEach(p=>{const m=Object.getOwnPropertyDescriptor(n,p);if(!m)throw Ro(vo.UNEXPECTED_ERROR);const o=so(m.value)?{get(){return m.value.value},set(T){m.value.value=T}}:{get(){return m.get&&m.get()}};Object.defineProperty(a,p,o)}),t.config.globalProperties.$i18n=a,fx.forEach(p=>{const m=Object.getOwnPropertyDescriptor(n,p);if(!m||!m.value)throw Ro(vo.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${p}`,m)}),()=>{delete t.config.globalProperties.$i18n,fx.forEach(p=>{delete t.config.globalProperties[`$${p}`]})}}QM();__INTLIFY_JIT_COMPILATION__?Wb(GM):Wb($M);zM(_M);FM(HS);if(__INTLIFY_PROD_DEVTOOLS__){const t=Yl();t.__INTLIFY__=!0,AM(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const TO={signIn:"تسجيل دخول",SignUp:"انشاء حساب",forgotPassword:"نسيت كلمة المرور ؟",WelcomeBack:"مرحبا بعودتك !","Dont have an account?":"ليس لديك حساب؟",IAlreadyHaveAnAccount:"لدي حساب بالفعل","Terms&Conditions":"الموافقة بالشروط والأحكام"},EO={email:"البريد الالكترونى",emailOrPhone:"البريد الالكترونى او رقم التليفون",password:"كلمة المرور",rememberPassword:"تذكر كلمة المرور ؟",title:"العنوان",description:"الوصف",expire_date_status:"حالة الصلاحية",image:"صورة",status:"الحالة",arabic:"عربي",amount:"المبلغ",numOffer:"رقم العرض الترويجى",endDate:"تاريخ النهاية",color:"لون",minPoint:"اقل النقاط",maxPoint:"أقصى النقاط",points:"نقاط",values:"قيمة",phone:"رقم الهاتف",numVoucher:"رقم قسيمة الشراء",promoValue:"القيمة الترويجية",maximumDiscount:"الحد الأقصى للخصم",minimumOrderValue:"الحد الأدنى لقيمة الطلب",numberOfCouponUsers:"عدد مستخدمي الكوبون",address:"عنوان",brand:"ماركة",reviewDriversPapers:"فترة مراجعة اوراق السائقين",nextBookingCancellationPeriod:"فترة الغاء الحجوزات القادمة",requestVisibilityRange:"نطاق رؤية الطلبات",requestVisibilityRangeLe:"نطاق رؤية طلبات لى انا معاك",reasonType:"نوع السبب",reasonModel:"نموذج السبب",type:"النوع",prefix:"يبدأ ب",startNumber:"رقم البداية",subTotal:"المجموع الفرعي",total:"الاجمالي",discount:"الخصم",taxiesAmount:"الضرائب",feesAmount:"الرسوم",color_code:"كود اللون",achieved_booking:"عدد الرحلات",discount_amount:"مبلغ الخصم",start_date:"تاريخ البداية",received_date:"تاريخ الاستلام",delivery_date:"تاريخ التسليم",end_date:"تاريخ الانتهاء",offerMessageText:"نص رسالة العرض",waiting_period:"فترة الانتظار المسموح بها",additional_amount_added_to_user_wallet:"المبلغ الاضافي المضاف للمحفظة",code:"الكود",driver_search_period:"فترة البحث عن السائق",branches:"الفروع",limit_withdrawal_request_wallet:"الحد الادنى لطلب سحب رصيد المحفظه",minimum_amount_to_receive_request:"الحد الادنى لمديونيات السائق فى المحفظه",ingredient:"المكون",web_view:"عرض ويب",delivery_on:"تم التسليم في",delivery_time:"وقت التسليم",is_cash:"الدفع نقدى",platform_commission:"عمولة المنصة",additional:"الاضافات",driver_rental_requests_visibility:"نطاق رؤية طلبات تاجير السائق"},CO={notifications:"الأشعارات",unRead:"غير مقروء",NoNewNotifications:"لا يوجد أشعارات جديدة"},AO={fieldRequired:"هذا الحقل مطلوب",TitleIsMustHaveAtLeast:"العنوان يجب ان يحتوى على الاقل",thisFieldIsMustHaveAtLeast:"هذا الحقل يجب ان يحتوى على الاقل",Letters:"حروف",TitleIsMustHaveAtMost:"العنوان يجب ان يحتوى على الاكثر",ThisFieldIsNumeric:"هذا الحقل يجب ان يكون رقم ولا يكون سالبا .",ThisFieldIsInteger:"هذا الحقل يجب ان يكون رقم .",thisFieldIsMustHaveAtMost:"هذا الحقل يجب ان يحتوى على الاكثر"},IO={last_active:"اخر ظهور",home:"الرئيسية",drivers_places:"اماكن السائقين",shared_booking_with:"مشاركة الحجز مع",other_person_contact:"بيانات الشخص المحجوز له",arrival_time:"وقت الوصول",drivers_on_map:"السائقين على الخريطة",message:"الرسالة",topFiveUsersHasBookings:" اكثر 5 مستخدمين لديهم حجوزات",topFiveDriversHasBookings:" اكثر 5 سائقين لديهم حجوزات",email:"البريد الالكترونى",bookings_revenue_for_this_month_and_last_month_for_each_week:"عائد الرحلات المكتملة لهذا الشهر والشهر الماضي لكل اسبوع",number_of_bookings_for_this_month_and_last_month_for_each_week:"عدد الرحلات المكتملة لهذا الشهر والشهر الماضي لكل اسبوع",first_week:"الاسبوع الأول",second_week:"الاسبوع الثاني",third_week:"الاسبوع الثالث",fourth_week:"الاسبوع الرابع",fifth_week:"الاسبوع الخامس",current_month:"الشهر الحالي",last_month:"الشهر الماضي",from_time:"من الساعة",to_time:"الي الساعة",january:"يناير",february:"فبراير",march:"مارس",april:"ابريل",may:"مايو",june:"يونيو",july:"يوليو",august:"اغسطس",september:"سبتمبر",october:"أكتوبر",november:"نوفمبر",december:"ديسمبر",allowed_booking_cancellation_driver_no:"عدد المرات المسموح بها يوميا لالغاء الرحلة من السائق ",allowed_booking_cancellation_user_no:"عدد المرات المسموح بها يوميا لالغاء الرحلة من المستخدم",client_fine_after_booking_cancellation:"عقوبة المستخدم بعد الغاء الرحلة",driver_fine_after_booking_cancellation:"عقوبة السائق بعد الغاء الرحلة",driver_day_work_price:"مبلغ تأجير السائق باليوم",peak_periods:"اوقات الذروة",total_amount_for_each_month_in_the_year:"المبلغ الكلي لكل شهر في العام",total_bookings_for_each_month_in_the_year:"عدد الرحلات المكتملة لكل شهر في العام",password:"كلمة المرور",rememberPassword:"تذكر كلمة المرور ؟",title:"العنوان",total_revenue_and_count_of_bookings_for_each_month_in_the_year:"عدد الرحلات المكتملة والعائد الكلي لها لكل شهر في العام",description:"الوصف",image:"صورة",SentSuccessfully:"تم الارسال بنجاح",arabic:"عربي",status:"الحالة",send_notification_to_all:"ارسال اشعار للجميع",send_notification:"ارسال اشعار",send_notification_to:"ارسال اشعار ل",name:"الاسم",phone:"رقم الهاتف",admins:"المدراء",banners:"الاعلانات",payment_methods:"طرق الدفع",roles:"صلاحيات المدراء",profile:"الملف الشخصى",logout:"تسجيل خروج",categoriesAndServices:"الخدمات والاقسام",action:"اجراء",customers_service:"خدمة العملاء",add:"اضافة",activities:"النشاطات",recent_activities:"النشاطات الحديثة",code:"الكود",capacity:"السعة",duration:"المدة",amount:"المبلغ",AreYouSureToChangeStatusTo:"هل انت متاكد من تغيير الحالة الى ",ChangedSuccessfully:"تم تغيير الحالة بنجاح",comment:"التعليق",next_bookings:"الحجوزات القادمة",opened:"مفتوحة",closed:"مغلقة",resolved:"تم حلها",this_ticket_has_been:"هذه البطاقة ",type_your_comment_here:" اكتب تعليقك هنا ...",by:" بواسطة",admin:"المسؤول",reply:"الرد",close:"اغلاق",wallet_transactions:"معاملات المحفظة",reopen:"اعادة فتح",reopened:"تم فتحها مرة اخرى",driver:"سائق",select_user_type:"اختر نوع المستخدم",select_user:"اختر المستخدم",languages:"اللغات",NoDataFound:"لا يوجد بيانات",NoFilesFound:"لا يوجد ملفات",activated:"مفعل",receiver_wallet_number:"محفظة المستلم",sender_wallet_number:"المحفظة الراسل",invoice_id:"رقم الفاتورة",transaction_id:"رقم التحويل",balance:"الرصيد",from_location:"مكان الالتقاط",to_location:"الواجهة",Inactive:"غير مفعل",addCategory:"اضافة الخدمات والاقسام",editCategory:"تعديل الخدمات والاقسام",ImagesIsMustHaveAtLeast1Photos:"يجب اختيار صورة",FilesSelected:"تم اختيار الملف",NoFilesChosen:"لم يتم اختيار ملف",Loading:"تحميل...",location:" الموقع الجغرافي",Notification:"اشعار",notifications:"الاشعارات",view_all_notifications:"عرض جميع الاشعارات",loading:"تحميل...",booking_details:"تفاصيل الحجز",started:"بدأت الرحلة",paid_amount:"المبلغ المدفوع",remaining_amount:"المبلغ المتبقي",Submit:"حفظ",paid_partially:"مدفوعة جزئيا",paid:"مدفوع",unpaid:"غير مدفوع",returned_to_wallet:"مرتجع للمحفظة",locations:"المواقع",distance:"المسافة",km:"كيلومتر",waiting_time:"وقت الانتظار",fees_amount:"الرسوم",taxes_amount:"الضرائب",sub_total:"تكلفة الرحلة",driver_data:"بيانات السائق",user_data:"بيانات المستخدم",sar:"ر.س",price_for_kilometer:"السعر بالكيلومتر",car_levels:"فئات السائقين",taxes:"الضرائب",percentage:"النسبة المئوية",clear_all_notifications:"مسح جميع الاشعارات",ThereIsANewNotification:"يوجد اشعار جديد",AddNewRecord:"اضافة سجل جديد",AreYouSureDelete:"هل انت متأكد من الحذف ؟",AreYouSureUpdate:"هل انت متأكد من التعديل ؟",AreYouSureSendTheInvoice:"هل انت متأكد من إرسال الفاتورة؟",DeletedSuccessfully:"تم الحذف بنجاح .",YouWontBeAbleToRevertThis:"لن تتمكن من التراجع عن هذا!",ThereIsAnErrorInTheSystem:"يوجد خطا في النظام...",YouCanNotDelete:"لا تستطيع الحذف !",EditSuccessfully:"تم التعديل بنجاح",AddedSuccessfully:"تمت الاضافة بنجاح",ChooseImages:"اختر الصورة او قم بألصاق صوره",show:"عرض",chat_type:"نوع الدردشة",user1:"المستخدم الاول",user2:"المستخدم الثاني",Search:"بحث",choose_role:"اختر دور المدير",choose_branch:"اختر الفرع",PasswordIsRequired:"كلمة المرور مطلوبة",MustBeLettersOrNumbers:"الحقل يجب ان يحتوى على حروف او ارقام",PasswordIsMustHaveAtLeast:"كلمة المرور يجب ان تحتوى على الاقل",PasswordIsMustHaveAtMost:"كلمة المرور يجب ان تحتوى على الاكثر",ConfirmIsRequired:"تاكيد الحقل مطلوب",password_confirmation:"تاكيد كلمة المرور",ConfirmationMustMatchPassword:" يجب ان يتطابق كلمة المرور وتأكيد كلمة المرور",car_level:"نوع الفئة",total:"الاجمالي",no_driver:"لا يوجد سائق",booking_at:"تاريخ الحجز",update:"تعديل",bookings:"الحجوزات",booking_no:"رقم الحجز",car_number:"رقم السيارة",pending:"معلق",arrived:"تم وصول السائق للعميل",waiting_for_driver:"في انتظار السائق",processing:"جاري التوصيل",canceled:"تم الالغاء",completed:"تم التوصيل",role_name:"اسم الدور او الوظيفة",permissions:"الصلاحيات",addAdmin:"اضف مدير",typesOfFees:"أنواع الرسوم",created_at:"تاريخ الاضافة",addFees:"اضافة أنواع الرسوم",editFees:"تعديل أنواع الرسوم",addLevel:"اضافة أنواع المستويات",editLevel:"تعديل أنواع المستويات",addRating:"اضافة أنواع التقيمات",editRating:"تعديل أنواع التقيمات",addReasonsCancellation:"اضافة أنواع أسباب الغاء الرحالات",editReasonsCancellation:"تعديل أنواع أسباب الغاء الرحالات",addReward:"اضافة المكافآت",editReward:"تعديل المكافآت",promotionalOffer:"العروض الترويجية",addPromotionalOffer:"اضافة العروض الترويجية",editPromotionalOffer:"تعديل العروض الترويجية",users_chat:"دردشة المستخدمين",Next:"التالى",Previous:"السابق",LooksGood:"يبدو جيدا",EmailIsRequired:"البريد الالكتروني مطلوب",ThisFieldMastBeEmail:"الحقل يجب ان يحتوى على البريد الالكتروني",PhoneIsRequired:"رقم الهاتف مطلوب",PhoneIsMustHaveAtLeast:"رقم الهاتف غير صحيح",Letters:"حروف ",ThisFieldIsRequired:"الحقل مطلوب",position:"الموقع",top:"فوق",bottom:"تحت",right:"يمين",left:"يسار",transfer_to_details:"تفاصيل حساب التحويل",request_amount:"المبلغ المطلوب",yes:"نعم",withdrawal_method:"وسيلة السحب",no:"لا",driverWithdrawalRequests:"طلبات سحب رصيد للسائق",driverWithdrawalRequest:"طلب سحب  رصيد للسائق",user_type:"نوع المستخدم",assign_admin:"تعيين مسؤول",key:"key",secert:"secret",is_online:"اونلاين ؟",credentials:"credentials",vehicles:"المركبات",levelsType:"أنواع المستويات",ratingType:"أنواع التقيمات",reasonsCancellation:"أنواع أسباب الغاء الرحالات",rewards:"المكافآت",rewardsUsed:"المكافآت المستخدمه",user:"المستخدم",reward:"المكافأة",users:"المستخدمين",choose_gender:"اختر الجنس",male:"ذكر",female:"أنثى",gender:"الجنس",birthday:"تاريخ الميلاد",drivers:"السائقين",pages:"الصفحات",vouchers:"قسائم الشراء",coupons:"الكوبونات",carBrands:"ماركات السيارات",carModels:"موديلات السيارات",selectBrand:"اختر الماركة",selectModel:"اختر الموديل",fromYear:"من سنة",toYear:"الى سنه",is_important:"مهمه",brand:"ماركة",model:"موديل",driverInformation:"بيانات السائق",personal_picture:"الصورة الشخصية",national_identity:"بطاقة الهوية الوطنية",driving_license:"رخصة القيادة",work_permit:"تصريح العمل",constants_certificate:"شهادة خلو الثوابت",selectCategory:"اختر القسم",driverSetting:"اعدادات السائقين",hour:"ساعة",kilometer:"كيلو متر",riyal:"ريال",reasons:"الأسباب",selectReasonType:"اختر نوع السبب",selectReasonModel:"اختر نموذج السبب",selectRatingModel:"اختر نموذج التقييم",activation:"تفعيل",deactivate:"ايقاف تفعيل",delete:"حذف",all_bookings:"كل الحجوزات",pending_bookings:"الحجوزات المعلقة",pleaseSpecifyTheReason:"الرجاء تحديد السبب .",closeButton:"الغاء",sender:"الراسل",receiver:"المستلم",number_of_bookings:"عدد الحجوزات",other:"اخرى",heatmap_for_bookings:"الخريطة الحرارية للحجوزات",heatmap_for_bookings_places:"الخريطة الحرارية لاماكن الحجوزات",driver_rating:"تقييم السائق",user_rating:"تقييم العميل",ratings:"التقييمات",operationAccomplishedSuccessfully:"تمت العملية بنجاح",passengerTransportationService:"خدمه توصيل الركاب",restaurantDeliveryService:"خدمه توصيل المطاعم",waterService:"خدمه المياه",gasService:"خدمه الغاز",storeService:"خدمه المتاجر",homeCleaningService:"خدمه تنظيف المنازل",fuelService:"خدمه الوقود",printingService:"خدمه المطابع",designService:"خدمه التصاميم",hotelAndFlightService:"خدمه الفنادق والطيران",administrativeService:"خدمه الادارية",similarToSnapchat:"شبيه سناب شات",offers:"العروض",clients:"العملاء",settings:"الاعدادات",categories:"الفئات",roleAndPermissions:"الادوار والصلاحيات",employees:"الموظفين",invoices:"الفواتير",seriesNumber:"رقم المسلسل",invoiceSeriesNumber:"رقم مسلسل الفاتورة",clientName:"اسم العميل",driverName:"اسم السائق",paymentMethod:"طريقه السداد",payments:"المدفوعات",walletTransfers:"تحويلات المحفظه",TransferringClientName:"اسم العميل المحول",NameClientWhomYouAreTransferring:"اسم العميل المحول له",date:"التاريخ",clientBalance:"رصيد العملاء",latestClientEvents:"أحدث العملاء",latestDriverEvents:"أحدث السائقين",driverBalance:"رصيد السائقين",clientOrderRead:"طلبات العملاء",clientSearchRead:"بحث العملاء",rewardPointsClientRead:"نقاط المكافآت للعملاء",discountVoucherRead:"قسائم التخفيض",reports:"التقارير",marketing:"تسويق",databaseBackup:"نسخه احتياطيه لقاعدة البيانات",reasonsTypes:"انواع الاسباب",WelcomeBack:"مرحبا بعودتك",HereAreSomeStatisticsAboutThePassengerTransportationService:"اليك بعض الاحصائيات الخاصة بخدمة توصيل الركاب.",HereAreSomeStatisticsAboutHotelAndFlightService:"اليك بعض الاحصائيات الخاصة بخدمة الفنادق والطيران.",driverCount:"عدد السائقين",clientCount:"عدد العملاء",viewAll:"عرض الكل",thisMonth:"هذا الشهر",totalRevenue:"اجمالى الايرادات",RS:"ر.س",revenueAnalytics:"تحليلات الإيرادات",Today:"اليوم",LastWeek:"الأسبوع الماضي",serials:"المسلسلات",invoiceNumber:"رقم الفاتورة",invoiceDate:"تاريخ الفاتورة",invoiceAmount:"مبلغ الفاتورة",invoiceStatus:"حالة الفاتورة",select_client:"اختر العميل",select_driver:"اختر السائق",select_fees:"اختر الرسوم",print:"طباعة",notes:"ملاحظات",clientData:"بيانات العميل",driverData:"بيانات السائق",dateIssued:"تاريخ الإصدار",dueAmount:"المبلغ المستحق",client_type:"نوع العميل",selectClientType:"اختر نوع العميل",pages_key:"نوع الصفحة",selectPagesKey:"اختر نوع الصفحة",frequentlyAskedQuestion:"الاسئلة الشائعة",wallet_amount:"المحفظه",reward_points:"النقاط",booking_count:"الحجوزات",ContactInformation:"معلومات التواصل",user_contacts:"جهات الاتصال",theInvoices:"الفواتير",PreviousBooking:"الحجوزات السابقة",NextBooking:"الحجوزات القادمة",client:"العميل",attachments:"المرفقات",downloadFile:"تحميل الملف",downloadFiles:"تحميل الملفات",fileStatus:"حالة الملف",approved:"تمت الموافقة",bookingManagement:"ادارة الحجوزات",CanceledBookings:"حجوزات ملغاه",BookingRating:"تقييم الحجوزات",select_blocked_area:"اختر المنطقة المحظورة",colors:"الالون",car:"السيارة",carType:"نوع السيارة",color:"اللون",vehicle_insurance:"تأمين المركبة",periodic_inspection:"الفحص الدورى",owner_authorization:"التفويض من مالك السيارة",no_car:"لا يوجد سيارة لهذا السائق",application_commission:"عمولة التتطبيق في الرحلات",application_commission_in_rent_driver:" عمولة التتطبيق في تأجير السائقين",application_commission_in_learn_driving:" عمولة التتطبيق في تعليم القيادة",commissionSetting:"عمولة التطبيق",smsSetting:"اعدادات sms",link:"الرابط",api_key:"Api Key",api_secret:"Api Secret",debtAmountManagement:"ادارة مبلغ المديونية",IndebtednessAmount:"مبلغ المديونية",remainingIndebtednessAmount:"المبلغ المتبقي للمديونيه",currencies:"العملات",default:"اختيار رئيسي",joinUs:"انضم الينا",facebook:"فيسبوك",twitter:"تويتر",instagram:"انستجرام",linkedin:"لينكدان",youtube:"يوتيوب",android_app_client:"رابط متجر جوجل بلاي للراكب",ios_app_client:"رابط متجر ابل استور للراكب",android_app_driver:"رابط متجر جوجل بلاي للسائق",ios_app_driver:"رابط متجر ابل استور للسائق",generateCode:"انشاء الكود",file_name:"اسم الملف",minute:"دقيقة",clientStatistics:"احصائيات العملاء",driverStatistics:"احصائيات السائقين",invoicesCount:"عدد الفواتير",totalInvoiceRevenue:"اجمالى متحصلات الفواتير",invoiceStatisticsMonth:"الرسم البيانى لمتحصلات الفواتير خلال الشهر","Chart of hotel booking bills receipts during the month":"رسم بياني لتحصيل فواتير حجز الفنادق خلال الشهر","Chart of airline booking invoices receipts during the month":"رسم بياني لتحصيل فواتير حجز الطيران خلال الشهر",AnalysisOfBillCollectionsDuringTheMonth:"تحليل تحصيلات الفواتير خلال الشهر",AnalysisOfBillCollectionsHotelBookingDuringTheMonth:"تحليل تحصيلات فواتير حجز الفنادق خلال الشهر","Analysis of airline booking invoice collections during the month":"تحليل تحصيلات فواتير حجز الطيران خلال الشهر",paymentMoves:"حركة الدفع",bookingStatistics:"احصائيات الحجوزات",nextBookingStatistics:"احصائيات الحجوزات القادمة",areaManagement:"ادارة المناطق",areas:"المناطق",latitude:"خط العرض",longitude:"خط الطول",areaName:"اسم المنطقة",cityName:"اسم المدينة",cities:"المدن",selectArea:"اختر المنطقة",selectCity:"اختر المدينة",neighborhoods:"الأحياء",price:"السعر",walletBalance:"رصيد المحفظه",fromDate:"من تاريخ",toDate:"الى تاريخ",myfatoorahSetting:"اعدادات ماى فاتورة",token:"token",distancePoint:"نقاط مقابل المسافة",from:"من",to:"الى",DistanceTimePerMinute:"وقت المسافة بالدقيقة",repeatRequest:"تكرار الطلب",numberOfRepetitions:"عدد مرات التكرار",referral:"الإحالات",trip_number:"عدد الرحلات",profit:"المكسب",emergencyNumber:"أرقام الطوارئ",number:"الرقم",requestNewDriver:"طلبات السائقين الجدد",requestNewDriverWithoutCar:"طلبات السائقين الجدد بدون سيارة",manufacture_year:"سنة الصنع",carImages:"صور السيارة",approve:"موافقة",AreYouSureApprove:"هل انت متأكد من الموافقة ؟",AreYouSureApproveDriver:"لقد وافقت على جميع الملفات هل تريد قبول السائق الان ؟",mapSetting:"اعدادات الخرائط",device_type:"نوع الجهاز",map:"Map",direction:"Direction",applicationType:"نوع التطبيق",services:"الخدمات",ordersManagement:"ادارة الطلبات",orders:"الطلبات",ordersCancel:"طلبات ملغاه",Restaurants:"المطاعم",allRestaurants:"المطاعم",pending_orders:"الطلبات المعلقة",branches:"الفروع",requestUpdateProfileUser:"طلبات تعديل بيانات العملاء",currentData:"البيانات الحالية",dataToBeChanged:"البيانات المطلوب تغييرها",updateUserProfile:"تعديل بيانات العميل",requestForAccountRecoveryClient:"طلب استرجاع الحساب للعميل",requestForAccountRecoveryDriver:"طلب استرجاع الحساب للسائق",request_date:"تاريخ الطلب",accept:"قبول",reject:"رفض",AreYouSureAcceptRequest:"هل أنت متأكد من قبول الطلب ؟",AreYouSureRejectRequest:"هل أنت متأكد من رفض الطلب ؟",rejectRequest:"رفض الطلب",rejectReason:"سبب الرفض",rejected:"مرفوضة",AreYouSureReject:"هل أنت متأكد من الرفض ؟",requestUpdateProfileDriver:"طلبات تعديل بيانات السائقين",updateDriverProfile:"تعديل بيانات السائق",kitchenSection:"أنواع المطابخ",foodType:"أنواع الطعام",mealCategory:"تصنيفات الأكلات",firebaseSetting:"اعدادات الفايربيز",send:"ارسال",restaurantName:"اسم المطعم",showroomName:"اسم المعرض",branchName:"اسم الفرع",country:"البلد",openTime:"وقت الأفتتاح",closingTime:"وقت الأغلاق",RestaurantOwnerName:"أسم مالك المطعم",showroomOwnerName:"أسم مالك المعرض",business_id:"رقم تعريف النشاط التجاري",Saturday:"السبت",Sunday:"الأحد",Monday:"الإثنين",Tuesday:"الثلاثاء",Wednesday:"الأربعاء",Thursday:"الخميس",Friday:"الجمعة",downloadLogo:"تحميل الشعار",workingDays:"أيام الدوام",restaurantPictures:"صور المطعم",showroomPictures:"صور المعرض",branchPictures:"صور الفرع",downloadLegalDocuments:"تحميل الوثائق القانونية",downloadDish:"تحميل صور الوجبة",TheDataHasBeenSentSuccessfullyAndYouWillBeRespondedToByCustomerServiceSoon:"تم ارسال البيانات بنجاح وسيتم الرد عليك من خدمه العملاء قريبا",TheDataIsBeingReviewedAndYouWillBeRespondedToWithin48Hours:"جاري مراجعه البيانات وسوف يتم الرد عليكم خلال ٤٨ ساعه.",RegistrationStatus:"حالة التسجيل",Waiting:"في الانتظار",stopped:"متوقف",newRestaurant:"المطاعم الجديدة",rejectedRestaurant:"المطاعم المرفوضة",AreYouSureYouWantToAccept:"هل انت متأكد من قبول الطلب ؟",AreYouSureYouWantToRejected:"هل انت متأكد من رفض الطلب ؟",ThisAccountIsSuspendedPleaseReturnToSupport:"هذا الحساب موقوف بالرجاء العوده الي الدعم .",detailRestaurant:"تفاصيل المطعم",area:"المنطقة",clientUsedDiscount:"الخصومات المستخدمه للعملاء",driverUsedDiscount:"الخصومات المستخدمه للسائقين",discountValue:"قيمة الخصم",coupon:"الكوبونات",discountType:"نوع الخصم",discountTitle:"العنوان",num_offer:"الكود",offer:"العرض الترويجى",all:"الكل",selectUserType:"اختر نوع المستخدم",selectCouponStatus:"اختر حالة الكوبون",active:"مفعل",inactive:"غير مفعل",ingredient:" المكونات",dish:" القائمة",cover:"الصوره الاساسية",acceptanceAndCancellationRate:"معدل القبول والالغاء للرحلات",Managers:"المديرين",type:"النوع",selectRateType:"اختر نوع المعدل",dishSize:"احجام الوجبة",dishName:"اسم الوجبة",size:"الحجم",large:"كبير",small:"صغير",medium:"متوسط",quantity:"الكمية",branchManagement:"اداره الفروع",revenueManagement:"اداره العائدات",paymentHistory:"سجل الدفع",inventoryManagement:"اداره المخزون",orderManagement:"اداره الطلبات",couponManagement:"اداره الخصومات",evaluationManagement:"اداره التقيمات",totalSales:"أجمالي المبيعات",monthly:"شهري",daily:"يومي",yearly:"سنوي",summaryOfRequests:"ملخص الطلبات",TotalSalesOnline:"إجمالي المبيعات (أولاين)",TotalSalesCash:"إجمالي المبيعات (كاش)",TotalRevenue:"إجمالي الإيرادات",Online:"أونلاين",Platformcommission:"عمولة المنصة",Cash:"كاش",TotalAmountToBeTransferredToThePlatform:"أجمالي الملبغ المراد تحويله للمنصة",RestaurantRevenue:"إيرادات المطاعم",TotalNetAmount:"أجمالي الملبغ الصافي",CancelledOrders:"الطلبات الملغية",OrdersDelivered:"الطلبات التي تم تسليمها",TotalRequests:"مجموع الطلبات",withdrawal_methods:"وسائل السحب",bank_account:"حساب بنكى",wallet_account:"محفظه الكترونية",swift:"Swift",iban:"IBAN",withdrawalRequests:"طلبات سحب الأمول",person_name:"اسم الشخص",bank_name:"اسم البنك",wallet_num:"رقم المحفظه",temporary:"مؤقت",permanent:"دائم",order_id:"رقم الطلب",deliveryAddress:"عنوان التسليم",allBranch:"كل الفروع",item:"العنصر",totalPrice:"السعر الاجمالي",sub_total_dish:"تكلفة الوجبات",delivery_fees:"رسوم التوصيل",total_saved:"اجمالي التوفير",applied_coupon:"القسيمة المطبقة",client_details:"تفاصيل العميل",send_updates_to:"إرسال التحديثات إلى",order_summary:"ملخص الطلب",branchAddress:"عنوان الفرع",NumberOfValidityDays:"عدد ايام الصلاحية",rewardSetting:"اعدادات المكافآت",points:"النقاط",appLink:"لنكات التطبيقات",selectStore:"اختر المتجر",store:"المتجر",measurementUnit:"وحدات القياس",suppliers:"الموردين",supplier:"المورد",unit:"وحده قياس",inventories:"المخازن","main-branch":"الفرع الرئيسي",settingSerialNumber:"اعداد الارقام التسلسلية",serialNumberOf:"الرقم التسلسلي الخاص ب",restaurantsSetting:"اعدادات المطاعم",minimum_order:"الحد الادنى للطلب",HereIsInformationAboutAllAssessmentManagement:"إليك المعلومات حول جميع إدارة التقييمات",order_details:"تفاصيل الطلب",rating_details:"تفاصيل التقيم",instructionsConnector:"تعليمات لموصل الطلب",usedRewardReport:"تقرير المكافآت المستخدمة",noRequests:"لا يوجد طلبات",noRatings:"لا يوجد تقيمات",versionSetting:"اصدارات التطبيقات",is_mandatory:"إلزامي",version_name:"اسم الإصدار",version_code:"كود الإصدار",waiting_time_price_per_minute:"سعر وقت الانتظار لكل دقيقة",introduction:"نبذة مختصره",fuel_type:"نوع الوقود",gear_type:"نوع القير",car_capacity:"سعة السيارة",hour_price:"سعر الساعه",day_price:"سعر اليوم",number_of_seats:"عدد المقاعد",year_of_manufacture:"سنه الصنع",downloadVehicle:"تحميل صور السياره",downloadMainVehicle:"تحميل صورة الاساسيه للسياره",highest_power:"اعلي قوة",kilos_per_liter:"الوقود لكل لتر (الكيلو في الساعة)",highest_speed:"اعلي سرعة (الكيلو في الساعة)",mph:"تسارع السيارة (الثانية)",carShowroom:"معارض السيارات",address:"عنوان",showroomCars:"سيارات المعرض",category:"الفئة",VIP:"كبار الشخصيات",Medium:"المتوسطة",Economy:"الاقتصادية",Family:"العائلية",privacyPolicyShowroom:"شروط و احكام المعرض",bank_account_number:"الحساب البنكي",Links:"الروابط",AddSetting:"اضافة اعدادات",subTotalShowroom:"التكلفة",extra_kilometer_price:"سعر الكيلو الزيادة",number_of_kilometers:"عدد كيلومترات",comprehensive_insurance:"التأمين الشامل",traderChannels:"قنوات التجار",page_url:"لينك الصفحة",viewers_count:"عدد الزوار",is_reserve_amount:"هل يوجد حجز المبلغ للسيارة ؟",reserve_amount:"قيمة حجز المبلغ للسيارة",activate_insurance:"تفعيل التأمين",platform_rental_cancellation_ratio:"نسبه الغاء الايجار للمنصه",exhibition_rental_cancellation_ratio:"نسبه الغاء الايجار للمعرض",CarRentalSetting:"اعدادات ايجار السيارات",insurance_price:"سعر التأمين",selectDriverType:"اختر نوع السائق",withCar:"لديه سيارة",withoutCar:"بدون سيارة",driverType:"نوع السائق",selectIsTrainer:"اختر حاله التدريب",isTrainer:"مدرب",isNotTrainer:"غير مدرب",count_trip_image:"عدد الرحلات المطلوبة لتغيير الصورة",reserved_vehicles:"السيارات المحجوزه",cars_that_have_been_cancelled:"السيارات التي تم الغاء حجزها",reported_cars:"السيارات التي تم التبليغ عنها",unreservedCars:"السيارات المتاحة",booked:"تم الحجز",received:"تم تسليم المركبه",completed_car:"تم استلام المركبه",reported:"تم الابلاغ",vehicleCount:"عدد المركبات",vehiclesStatistics:"احصائيات المركبات",topFiveVehiclesHasBookings:"اكثر 5 مركبات لديهم حجوزات",delay_amount:"مبلغ التأخير",number_of_days_allowed:"عدد الايام مسموح بها لبداية الحجز",TheCarWasNotReceivedOnTheSpecifiedDate:"لم يتم استلام السياره في المعاد المحدد ({date}) أذا كنت تريد اضافه مبلغ التأخير",num_days:"عدد ايام",number_of_cancellation_days:"عدد ايام الالغاء",refund_details:"تفاصيل الاسترداد",total_refund_amount:"اجمالي المبلغ المسترد",rentDriverBooking:"حجز سائق بدون سيارة",user_id_number:"رقم الهوية",user_id_image:"صورة الهوية",no_of_days:"عدد الايام",no_of_hours_per_day:"عدد الساعات في اليوم",working_time:"وقت العمل",driver_work_day_price:"سعر يوم العمل للسائق",rest_work_day_price:"سعر يوم ",receiveTheCarOnTime:"استلام السياره في المعاد",receiveTheCarAfterTime:"استلام السياره بعد المعاد",receiveTheCarBeforeTime:"استلام السياره قبل المعاد",carProblem:"حدوث مشكلة في السيارة",insuranceDeductions:"الاموال المقطوعة من التأمين",thisProcessIsWithinTheSystem:"(هذة العملية داخل النظام)",ThisProcessIsOutOfOrder:"(هذة العملية خارج النظام)",thereIsAProblemWithTheCarIfYouWantTtoCutSome:"حدوث مشكلة في السياره اذا كنت تريد قطع بعض او كل الاموال من فلوس التأمين قيمتهم ({money})",ThereIsNoCarInsurance:"لا يوجد تأمين علي السيارة .",ThisTypeDoesNotWorkWithThisBookingNow:"هذا النوع لا يعمل مع هذا الحجز الان",carSpecification:"مواصفات السيارة",emergency_number:"رقم الطوارئ",drivingEducationSetting:"اعدادات تعليم القيادة",driving_education_url:"لينك تعليم القيادة",city:"المدينة",showFiles:"عرض الملفات",completeBooking:"حجوزات مكتملة",currentBooking:"الحجوزات الحاليه",bookingsTheVehicleWasNotDelivered:"حجوزات لم يتم تسليم السيارة للعميل",selectNeighborhood:"اختر الحي",neighborhood:"الحي",vehicleAvailabilityBranches:"توافر المركبات في الفروع",pending_order_period:"فترة الطلب المعلق",hours:"ساعات",month_price:"سعر الشهري",sort_num:"الترتيب",bookedType:"نوع الحجز",clickHere:"اضغط هنا",thisReservationIsAnExtensionOfTheReservationNumber:"هذا الحجز امتداد لحجز رقم",thisReservationIsAnExtensionOfTheInvoiceNumber:"هذه فاتورة امتداد لحجز رقم",showAllExtensionsForTheClient:"عرض جميع الامتدادات للعميل",excelSheet:"إكسل",paid_client_debt:"الديون المدفوعة للعميل",previous_client_debt:"الديون السابقة للعميل",current_client_debt:"الديون الحالية للعميل",driver_profit:"ربح السائق",app_profit:"ربح التطبيق",rent_car_commission:"عمولة تأجير السيارات (نسبة)",viewAllInvoices:"عرض جميع الفواتير للحجز:  ",domain:"domain",countries:"البلاد",phone_code:"رمز الهاتف",sendInovice:"ارسالة الفاتورة",carBooked:"حجز السيارة",SearchCar:"بحث عن سيارة",reset:"إعادة تعيين",doYouHaveAnAccountOnTheApp:"هل لديك حساب علي التطبيق ؟",doYouHaveAnCuppon:"هل لديك كود خصم ؟",cuppon:"كود الخصم",doYouWantToPay:"هل تريد الدفع  {method} ؟",visa:"فيزا",selectCountry:"اختر البلد",AvailableVehicles:"المركبات المتاحة",vehiclesBookingDailyStatistics:"احصائيات حجز السيارات اليوم",NotBooked:"غير محجوز",Booked:"محجوز",VehiclesAvailableInBranchesToday:"المركبات المتاحة في الفروع اليوم",CurrencyAbbreviation:"اختصار العملة",chatbot:"الدردشة الآلية",selectMainQuestion:"اختر السؤال الرئيسي",thisCodeIsWrong:"هذه الكود خطأ ",couponConfirmed:"تم تأكيد الكوبون ",personalPhoto:"الصوره الشخصية",personalInformation:"معلومات شخصية",typeOfWork:"نوع العمل",restaurant:"المطعم",termAndCondition:"الشروط والأحكام",documents:"المستندات",occasions:"المناسبات",optional:"اختياري",price_before_discount:"السعر بعد الخصم",chef:"شيف",locationRest:" الموقع",housewife:"وجبات منزلية",coffeeMaker:"قهوجي",commercialName:"اسم التجاري",about:"نبذه عن",nameOfPlaceOrBranch:"اسم المكان او الفرع",uploadDocumentsOrCertificates:"تحميل الوثائق او شهادات",userWalletTransactionSetting:"اعدادات تحويلات المحفظه للمستخدم",max_limit_per_transaction:"الحد الاقصي للتحويل",max_limit_per_day:"الحد الاقصي للتحويل في اليوم",max_limit_per_month:"الحد الاقصي للتحويل في الشهر",number_of_phone_digits:"عدد ارقام الهاتف",alpha_code:"الكود الأبجدي",blockedUsersFromService:"المستخدمين المحظورين من الخدمات",expire_at:"تاريخ الانتهاء",service:"الخدمة",AreYouSureTheBanIsLifted:"هل انت متأكد من رفع الحظر ؟",LiftTheBan:"رفع الحظر",selectService:"اختر الخدمة",ChooseTheLanguagesThatSupportIt:"اختر اللغات التى تدعمها",service_required:"جعل هذه اللغة الزامية فى لوحات تحكم العملاء",showroomInformation:"بيانات المعرض",AccountInformation:"بيانات الحساب",BackToLanguages:"الرجوع الى اللغات",BackToShowroomInformation:"الرجوع الى بيانات المعرض",MainBranchInformation:"بيانات الفرع الرئيسي",BackToAccountInformation:"الرجوع الى بيانات الحساب",Confirmation:"التأكيد",ThankYouForJoiningUs:"شكرا لانضمامك إلينا.",DataRecordingIsComplete:"تم الانتهاء من تسجيل البيانات يرجى الاطلاع على الشروط والاحكام قبل ارسال بياناتك...","Terms&Conditions":"الشروط والاحكام",PleaseCheckTheDataAndTryAgain:"يرجى التحقق من البيانات والمحاولة مرة أخرى",ThereIsAnErrorInYourData:"هناك خطأ في بياناتك",TheLanguagesThatSupportIt:"اللغات التى تدعمها",times_passenger_refuse_driver_per_day:"عدد مرات رفض الراكب للسائق في اليوم",amount_added_to_price_per_kilo_if_rain:"المبلغ المضاف لسعر الكيلو اذا كان هناك مطر",amount_added_to_price_per_kilo_if_road_congestion:"المبلغ المضاف لسعر الكيلو اذا كان هناك زحام علي الطريق",editData:"تعديل البيانات",restaurantTypes:"انواع المطاعم",AdministratorName:"اسم المسؤل",is_options:"هل يوجد اضافات ؟",is_rest_categories:"هل يوجد اصناف ؟",is_sizes:"هل يوجد احجام للوجبة ؟",removeAll:"حزف الكل",count_person:"الوجبة تكفي كام شخص ؟",additions:"قوائم الخيارات",no_of_selected_items:"عدد العناصر التي يتم اختيارها",is_required:"اجباري ؟",options:"الخيارات",option:"الخيار",restaurant_description:"وصف المطعم",food_type:"نوع الطعام",kitchen_section:"نوع المطبخ",meal_category:"تصنيف الوجبة",deleteImage:"حذف الصوره",coffeeShop:"القهوجي",chefs:"الشيفات",features:"المميزات",apartment:"اعلانات العملاء",Advertiser:"المعلن",apartmentTitle:"عنوان الاعلان",price_per_day:"السعر لليوم",price_per_month:"السعر للشهر",apartmentData:"بيانات الاعلان",approving_status:"حالة الموافقة",apartment_status:"حالة الاعلان",ActionTaker:"متخذ الاجراء",apartment_description:"وصف الاعلان",detailApartment:"تفاصيل الاعلان",apartmentFeatures:"مميزات الاعلان",reviews:"التقييمات",rating:"التقييم",meals:"الوجبات",drinks:"المشروبات",aboutTheFood:"نبذه عن الاكلات",restCategories:"الاصناف",maximum:"الحد الاقصي",run_time:"وقت التشغيل (الاوبن بوفية)",closing_time:"وقت اغلاق (الاوبن بوفية) ",years_of_experience:"سنوات الخبرة",hall_price:"سعر القاعة",meal:"وجبة",open_buffet:"بوفية مفتوح",is_location:"عرض موقعك في التطبيق ؟",howManyPeopleIsTheOpenBuffetEnough:"البوفية المفتوح يكفي كام شخص ؟",number_of_helpers:"عدد المساعدين",apartment_type:"نوع الاعلان",pickupTime:"وقت الاستلام",numberOfPeople:"عدد الاشخاص",delivery:"توصيل",inTheHall:"في القاعة",manageReservations:"أدارة الحجوزات",doYouHaveHallOrAWebsiteForBooking:"لديك قاعة او موقع للحجز",dtyFreeOffers:"عروض السوق المفتوحة ",placePrice:"سعر المكان",freeMarket:"السوق المفتوحة",theSettings:"الاعدادات",endDateFreeMarket:"تاريخ نهاية السوق المفتوحة",freeMarketStatus:"حالة السوق",delivery_time:"وقت التوصيل (دقائق)",minimum_order_amount:"الحد الأدنى للطلب في المطعم",finished:"منتهي",app_comm_in_hotel_reservation:"عمولة التطبيق في حجز الفنادق",app_comm_in_flight_reservation:"عمولة التطبيق في حجز طيران",servicePaymentMethods:"طرق دفع الخدمات",has_discount:"يوجد خصم ؟",end_point:"End Point",minimum_delivery_distance:"اقصي مسافة التوصيل",order_minimum_booking_days:"أقصى أيام حجز الاوردر",minimum_booking_lead_time_hours:"الحد الأدنى لساعات الحجز",articlesAndTips:"مقالات ونصائح",hotelBooking:"حجز الفنادق",payment_status:"حالة الدفع",hotelData:"بيانات الفندق",hotel_amount:"مبلغ الفندق",hotel_name:"اسم الفندق",HotelId:"رقم الفندق",order_date:"تاريخ الطلب",reparation_time:"وقت التحضير (دقائق)",room_number:"رقم الغرفة",application_commission_in_rest:"عمولة التطبيق في المطاعم",BelongsTo:"ينتمي الى",flightBooking:"حجز الطيران",flight_booking_id:"رقم حجز الطيران",flight_amount:"مبلغ الطيران",travelers:"المسافرين",contact:"تواصل",dateOfBirth:"تاريخ الميلاد",itineraries:"المسارات",aircraft_code:"كود الطائرة",cabin_type:"نوع المقصورة",allowable_weight:"الوزن المسموح به",departure_date:"تاريخ المغادرة",departure_iataCode:"كود المغادرة",arrival_date:"تاريخ الوصول",arrival_iataCode:"كود الوصول",going_trip:"رحلة الذهاب",return_trip:"رحلة العودة",merchantType:"نوع التاجر","Customer Ad Status Statistics":"احصائيات حالة اعلانات العملاء",available:"متاح",not_available:"غير متاح",CustomerAdsStatistics:"احصائيات اعلانات العملاء","Number of hotel reservations":"عدد حجوزات الفنادق","Number of flight reservations":"عدد حجوزات الطيران","Hotel booking statistics":"احصائيات حجز الفنادق","Flight booking statistics":"احصائيات حجز الطيران",TotalAppProfit:"اجمالي ربح التطبيق",learnDriverBooking:"حجوزات تعليم القيادة",hours_per_day:"عدد الساعات اليومية",booking_amunt:"مبلغ الحجز"},kO={"Banners (taxi)":"الاعلانات (تاكسي)","Banners (restaurant)":"الاعلانات (مطاعم)",Admins:"المدراء",Categories:"الاقسام",Countries:"البلاد","Version Settings":"اصدارات التطبيقات","Coupons (taxi)":"الكوبونات (تاكسي)","Coupons (restaurant)":"الكوبونات (مطاعم)",Vouchers:"قسائم الشراء",Vehicles:" المركبات","Pages (taxi)":" الصفحات (تاكسي)","Pages (restaurant)":" الصفحات (مطاعم)",Tickets:" خدمة العملاء",Roles:" الادوار او المهام","Payment Methods (taxi)":"طرق الدفع","Payment Methods (restaurant)":"طرق الدفع","Service Payment Methods":"طرق الدفع الخدمات",Fees:"أنواع الرسوم","Promotional Offers (taxi)":"العروض الترويجية (تاكسي)","Promotional Offers (restaurant)":"العروض الترويجية (مطاعم)","Driver Setting":"اعدادات السائقين",Languages:"اللغات",Invoices:"الفواتير",Payments:"المدفوعات","Serials (taxi)":"المسلسلات (تاكسي)","Serials (restaurant)":"المسلسلات (مطاعم)","Meal Category (restaurant)":"تصنيفات الأكلات (مطاعم)","Instructions Connector (restaurant)":"تعليمات لموصل الطلب (مطاعم)","Apartment Features (hotel)":"مميزات الشقق (فنادق)","Apartment Categories (hotel)":"تصنيفات (فنادق)ال","Apartment Articles And Tips (hotel)":"مقالات ونصائح (فنادق)","Apartment (hotel)":"الشقق (فنادق)","Hotel Booking (hotel)":"حجز الفنادق (فنادق)","Hotel Invoice Booking (hotel)":"فواتير حجز الفنادق (فنادق)","Hotel Payment Booking (hotel)":"مدفوعات حجز الفنادق (فنادق)","Flight Booking (hotel)":"حجز الطيران (فنادق)","Flight Invoice Booking (hotel)":"فواتير حجز الطيران (فنادق)","Flight Payment Booking (hotel)":"مدفوعات حجز الطيران (فنادق)","Wallet Transactions":"تحويلات المحفظه","Passenger Transportation Reports":"تقارير توصيل الركاب",Setting:"الاعدادات",Levels:"أنواع المستويات","Ratings (taxi)":"أنواع التقييمات (تاكسي)","Ratings (restaurant)":"أنواع التقييمات (مطاعم)","Request Update Profile User":"طلبات تعديل بيانات العملاء","Myfatoorah setting":"اعدادات ماى فاتورة","Firebase Setting":"اعدادات الفايربيز","Rewards (taxi)":"المكافآت (تاكسي)","Rewards (restaurant)":"المكافآت (مطاعم)","Referrals (taxi)":"الإحالات (تاكسي)","Referrals (restaurant)":"الإحالات (مطاعم)","Distance Points":"نقاط مقابل المسافة","Emergency Numbers (taxi)":"أرقام الطوارئ (تاكسي)","Emergency Numbers (restaurant)":"أرقام الطوارئ (مطاعم)","Kitchen Sections (restaurant)":"أنواع المطابخ (مطاعم)","Food Types (restaurant)":"أنواع الطعام (مطاعم)","Repeat Requests":"تكرار الطلب",Currencies:"العملات","Join Us":"انضم الينا","Map Setting (taxi)":"اعدادات الخرائط (تاكسي)","Map Setting (restaurant)":"اعدادات الخرائط (مطاعم)",Areas:"المناطق",Cities:"المدن",Neighborhoods:"الأحياء",Colors:"الألوان","Frequently Asked Question (taxi)":"الاسئلة الشائعة (تاكسي)","Chatbot (taxi)":"الدردشة الآلية (تاكسي)","Acceptance And Cancellation Rate (taxi)":"معدل القبول والالغاء للرحلات (تاكسي)","Frequently Asked Question (restaurant)":"الاسئلة الشائعة (مطاعم)","Setting (restaurant)":"اعدادات (مطاعم)","Restaurant Type (restaurant)":"انواع المطاعم (مطاعم)","Free Markets (restaurant)":"الأسواق الحرة (مطاعم)","Free Market Category (restaurant)":"عروض الأسواق الحرة (مطاعم)","Commission Setting":"عمولة التطبيق","Reward Setting":"اعدادات المكافآت","App Link":"لنكات التطبيقات",Inventory:"المخازن","SMS Setting":"اعدادات sms","Database Backup":"نسخه احتياطيه لقاعدة البيانات",Users:"المستخدمين","Taxes (taxi)":"الضرائب (تاكسي)","Taxes (restaurant)":"الضرائب (مطاعم)","Reasons (taxi)":"الأسباب (تاكسي)","Reasons (restaurant)":"الأسباب (مطاعم)",Bookings:"الحجوزات","Car Levels":"فئات السيارات","Users Chat":"دردشه المستخدمين","Car Specification":"مواصفات السيارة",Drivers:"السائقين","Request New Drivers":"طلبات السائقين الجدد","Request New Drivers Without Car":"طلبات السائقين الجدد بدون سيارة","Car Brands":"ماركات السيارات",Order:"الطلبات",Revenue:"العائدات",Supplier:"الموردين","Car Models":"موديلات السيارات",Dashboard:"لوحة التحكم",Restaurant:"المطاعم","Car Showroom Bookings":" الحجوزات المعارض","Car Rental Settings":"اعدادات ايجار السيارات","Request For Account Recovery Client":" طلب استرجاع الحساب للعملاء","Request For Account Recovery Driver":" طلب استرجاع للسائقين","Request Update Profile Driver":"طلبات تعديل بيانات للسائقين","Reasons Cancellation":"أنواع أسباب الغاء الرحالات","Rewards Used":"المكافآت المستخدمه","vehicle read":"عرض المركبات","vehicle create":"اضافة المركبات","vehicle edit":"تعديل المركبات","vehicle delete":"حذف المركبات","role read":"عرض ادوار المدراء","role create":"اضافة ادوار المدراء","role edit":"تعديل ادوار المدراء","role delete":"حذف ادوار المدراء","role read rest":"عرض ادوار المدراء","role create rest":"اضافة ادوار المدراء","role edit rest":"تعديل ادوار المدراء","role delete rest":"حذف ادوار المدراء","inventory read rest":"عرض المخازن","inventory create rest":"اضافة المخازن","inventory edit rest":"تعديل المخازن","inventory delete rest":"حذف المخازن","revenue read rest":"عرض العائدات","supplier read rest":"عرض الموردين","supplier create rest":"اضافة مورد","supplier edit rest":"تعديل مورد","supplier delete rest":"حذف مورد","banner read":"عرض الاعلانات (تاكسي)","banner create":"اضافة الاعلانات (تاكسي)","banner edit":"تعديل الاعلانات (تاكسي)","banner delete":"حذف الاعلانات (تاكسي)","banner read restaurant":"عرض الاعلانات (للمطاعم)","banner create restaurant":"اضافة الاعلانات (للمطاعم)","banner edit restaurant":"تعديل الاعلانات (للمطاعم)","banner delete restaurant":"حذف الاعلانات (للمطاعم)","admin read":"عرض المدراء","admin create":"اضافة المدراء","admin edit":"تعديل المدراء","admin delete":"حذف المدراء","car specification read":"عرض مواصفات السيارة","car specification create":"اضافة مواصفات السيارة","car specification edit":"تعديل مواصفات السيارة","car specification delete":"حذف مواصفات السيارة","admin read rest":"عرض المدراء","admin create rest":"اضافة المدراء","admin edit rest":"تعديل المدراء","admin delete rest":"حذف المدراء","page read":"عرض الصفحات (تاكسي)","page create":"اضافة الصفحات (تاكسي)","page edit":"تعديل الصفحات (تاكسي)","page delete":"حذف الصفحات (تاكسي)","page read restaurant":"عرض الصفحات (للمطاعم)","page create restaurant":"اضافة الصفحات (للمطاعم)","page edit restaurant":"تعديل الصفحات (للمطاعم)","page delete restaurant":"حذف الصفحات (للمطاعم)","category read":"عرض الاقسام","category create":"اضافة الاقسام","category edit":"تعديل الاقسام","category delete":"حذف الاقسام","Blocked Users From Service":"المستخدمين المحظورين من الخدمات","blocked users from service read":"عرض المستخدمين المحظورين من الخدمات","blocked users from service edit":"تعديل المستخدمين المحظورين من الخدمات","chatbot read":"عرض الدردشة الآلية","chatbot create":"اضافة الدردشة الآلية","chatbot edit":"تعديل الدردشة الآلية","chatbot delete":"حذف الدردشة الآلية","country read":"عرض البلاد","country create":"اضافة البلاد","country edit":"تعديل البلاد","country delete":"حذف البلاد","version setting read":"عرض اصدارات التطبيقات","version setting create":"اضافة اصدارات التطبيقات","version setting edit":"تعديل اصدارات التطبيقات","version setting delete":"حذف اصدارات التطبيقات","coupon read":"عرض الكوبونات (تاكسي)","coupon create":"اضافة الكوبونات (تاكسي)","coupon edit":"تعديل الكوبونات (تاكسي)","coupon delete":"حذف الكوبونات (تاكسي)","coupon read restaurant":"عرض الكوبونات (للمطاعم)","coupon create restaurant":"اضافة الكوبونات (للمطاعم)","coupon edit restaurant":"تعديل الكوبونات (للمطاعم)","coupon delete restaurant":"حذف الكوبونات (للمطاعم)","language read":"عرض اللغات","language create":"اضافة اللغات","language edit":"تعديل اللغات","language delete":"حذف اللغات","acceptance and cancellation rate read":"عرض معدل القبول والالغاء للرحلات","acceptance and cancellation rate create":"اضافة معدل القبول والالغاء للرحلات","acceptance and cancellation rate edit":"تعديل معدل القبول والالغاء للرحلات","acceptance and cancellation rate delete":"حذف معدل القبول والالغاء للرحلات","payment method read":"عرض طرق الدفع","payment method create":"اضافة طرق الدفع","payment method edit":"تعديل طرق الدفع","payment method delete":"حذف طرق الدفع","service payment method read":"عرض طرق دفع الخدمات","service payment method create":"اضافة طرق دفع الخدمات","service payment method edit":"تعديل طرق دفع الخدمات","service payment method delete":"حذف طرق دفع الخدمات","Traders Channels":"قنوات التجار","trader channel read":"عرض قنوات التجار","trader channel create":"اضافة قنوات التجار","trader channel edit":"تعديل قنوات التجار","trader channel delete":"حذف قنوات التجار","payment method read restaurant":"عرض طرق الدفع","payment method create restaurant":"اضافة طرق الدفع","payment method edit restaurant":"تعديل طرق الدفع","payment method delete restaurant":"حذف طرق الدفع","dashboard read":"عرض الداشبورد","voucher read":"عرض قسائم الشراء","voucher create":"اضافة قسائم الشراء","voucher edit":"تعديل قسائم الشراء","voucher delete":"حذف قسائم الشراء","ticket read":"عرض خدمة العملاء","ticket create":"اضافة خدمة العملاء","ticket edit":"تعديل خدمة العملاء","ticket assign admin":"تعيين مسؤول لخدمة العملاء","fees read":"عرض أنواع الرسوم","fees create":"اضافة أنواع الرسوم","fees edit":"تعديل أنواع الرسوم","fees delete":"حذف أنواع الرسوم","promotional offer read":"عرض العروض الترويجية (تاكسي)","promotional offer create":"اضافة العروض الترويجية (تاكسي)","promotional offer edit":"تعديل العروض الترويجية (تاكسي)","promotional offer delete":"حذف العروض الترويجية (تاكسي)","promotional offer read restaurant":"عرض العروض الترويجية (للمطاعم)","promotional offer create restaurant":"اضافة العروض الترويجية (للمطاعم)","promotional offer edit restaurant":"تعديل العروض الترويجية (للمطاعم)","promotional offer delete restaurant":"حذف العروض الترويجية (للمطاعم)","level read":"عرض أنواع المستويات","level create":"اضافة أنواع المستويات","level edit":"تعديل أنواع المستويات","level delete":"حذف أنواع المستويات","rating read":"عرض أنواع التقييمات (تاكسي)","rating create":"اضافة أنواع التقييمات (تاكسي)","rating edit":"تعديل أنواع التقييمات (تاكسي)","rating delete":"حذف أنواع التقييمات (تاكسي)","rating read restaurant":"عرض أنواع التقييمات (للمطاعم)","rating create restaurant":"اضافة أنواع التقييمات (للمطاعم)","rating edit restaurant":"تعديل أنواع التقييمات (للمطاعم)","rating delete restaurant":"حذف أنواع التقييمات (للمطاعم)","reasons cancellation read":"عرض أنواع أسباب الغاء الرحالات","reasons cancellation create":"اضافة أنواع أسباب الغاء الرحالات","reasons cancellation edit":"تعديل أنواع أسباب الغاء الرحالات","reasons cancellation delete":"حذف أنواع أسباب الغاء الرحالات","reward read":"عرض المكافآت (تاكسي)","reward create":"اضافة المكافآت (تاكسي)","reward edit":"تعديل المكافآت (تاكسي)","reward delete":"حذف المكافآت (تاكسي)","reward read restaurant":"عرض المكافآت (للمطاعم)","reward create restaurant":"اضافة المكافآت (للمطاعم)","reward edit restaurant":"تعديل المكافآت (للمطاعم)","reward delete restaurant":"حذف المكافآت (للمطاعم)","reward used read":"عرض المكافآت المستخدمه","user read":"عرض المستخدمين","user create":"اضافة المستخدمين","user edit":"تعديل المستخدمين","user delete":"حذف المستخدمين","driver read":"عرض السائقين","driver create":"اضافة السائقين","driver edit":"تعديل السائقين","driver delete":"حذف السائقين","car showroom bookings read":"عرض حجوزات المعارض","car brands read":"عرض ماركات السيارات","car brands create":"اضافة ماركات السيارات","car brands edit":"تعديل ماركات السيارات","car brands delete":"حذف ماركات السيارات","car models read":"عرض موديلات السيارات","car models create":"اضافة موديلات السيارات","car models edit":"تعديل موديلات السيارات","car models delete":"حذف موديلات السيارات","driver setting read":"عرض اعدادات السائقين","driver setting edit":"تعديل اعدادات السائقين","reason read":"عرض الأسباب (تاكسي)","reason create":"اضافة الأسباب (تاكسي)","reason edit":"تعديل الأسباب (تاكسي)","reason delete":"حذف الأسباب (تاكسي)","reason read restaurant":"عرض الأسباب (للمطاعم)","reason create restaurant":"اضافة الأسباب (للمطاعم)","reason edit restaurant":"تعديل الأسباب (للمطاعم)","reason delete restaurant":"حذف الأسباب (للمطاعم)","admin send notification":"ارسال اشعار الى الموظف","admin send notification rest":"ارسال اشعار الى الموظف","user send notification":"ارسال اشعار الى المستخدم","driver send notification":"ارسال اشعار الى السائق","tax read":"عرض الضرائب (تاكسي)","tax create":"اضافة الضرائب (تاكسي)","tax edit":"تعديل الضرائب (تاكسي)","tax delete":"حذف الضرائب (تاكسي)","tax read restaurant":"عرض الضرائب (للمطاعم)","tax create restaurant":"اضافة الضرائب (للمطاعم)","tax edit restaurant":"تعديل الضرائب (للمطاعم)","tax delete restaurant":"حذف الضرائب (للمطاعم)","car level read":"عرض فئات السيارات","car level create":"اضافة فئات السيارات","car level edit":"تعديل فئات السيارات","car level delete":"حذف فئات السيارات","invoice read":"عرض الفواتير","invoice create":"اضافة الفواتير","invoice edit":"تعديل الفواتير","invoice delete":"حذف الفواتير","payment read":"عرض المدفوعات","payment create":"اضافة المدفوعات","payment edit":"تعديل المدفوعات","payment delete":"حذف المدفوعات","wallet transaction read":"عرض تحويلات المحفظه","booking read":"عرض الحجوزات","rent driver booking read":"عرض حجوزات سائق بدون سيارة","learn driver booking read":"عرض حجوزات تعليم القيادة","next booking read":" عرض الحجوزات القادمة","canceled booking read":"عرض الحجوزات الملغاه","booking rating read":"عرض تقييم الحجوزات","users chat read":"عرض دردشة المستخدمين","client balance read":"عرض رصيد العملاء","latest client events read":"عرض أحدث العملاء","latest driver events read":"عرض أحدث السائقين","driver balance read":"عرض رصيد السائقين","client order read":"عرض طلبات العملاء","reward points client read":"عرض نقاط المكافآت للعملاء","debt amount management read":"عرض ادارة مبلغ المديونية","coupon report read":"عرض تقرير الكوبونات","reward report read":"عرض تقرير المكافآت","promotional offer report read":"عرض تقرير العروض الترويجية","client used discount report read":"عرض تقرير الخصومات المستخدمه للعملاء","driver used discount report read":"عرض تقرير الخصومات المستخدمه للسائقين","database backup create":"اضافة نسخه احتياطيه لقاعدة البيانات","database backup read":"عرض النسخ الاحتياطيه لقاعدة البيانات","serial read":"عرض المسلسلات (تاكسي)","serial create":"اضافة المسلسلات (تاكسي)","serial edit":"تعديل المسلسلات (تاكسي)","serial delete":"حذف المسلسلات (تاكسي)","serial read restaurant":"عرض المسلسلات (للمطاعم)","serial create restaurant":"اضافة المسلسلات (للمطاعم)","serial edit restaurant":"تعديل المسلسلات (للمطاعم)","serial delete restaurant":"حذف المسلسلات (للمطاعم)","currency read":"عرض العملات","currency create":"اضافة العملات","currency edit":"تعديل العملات","currency delete":"حذف العملات","color read":"عرض الألوان","color create":"اضافة الألوان","color edit":"تعديل الألوان","color delete":"حذف الألوان","join us read":"عرض انضم الينا","join us edit":"تعديل انضم الينا","sms setting read":"عرض اعدادات sms","sms setting edit":"تعديل اعدادات sms","request new driver read":"عرض طلبات السائقين الجدد","request new driver edit":"تعديل طلبات السائقين الجدد","request new driver  without car read":"عرض طلبات السائقين الجدد بدون سيارة","request new driver  without car edit":"تعديل طلبات السائقين الجدد بدون سيارة","myfatoorah setting read":"عرض اعدادات ماى فاتورة","myfatoorah setting edit":"تعديل اعدادات ماى فاتورة","firebase setting read":"عرض اعدادات الفايربيز","firebase setting edit":"تعديل اعدادات الفايربيز","commission setting read":"عرض عمولة التطبيق","commission setting edit":"تعديل عمولة التطبيق","User Wallet Transaction Setting":"اعدادات تحويلات المحفظه للمستخدم","user wallet transaction setting edit":"تعديل اعدادات تحويلات المحفظه للمستخدم","user wallet transaction setting read":"عرض اعدادات تحويلات المحفظه للمستخدم","reward setting read":"عرض اعدادات المكافآت","reward setting edit":"تعديل اعدادات المكافآت","app link read":"عرض لنكات التطبيقات","app link edit":"تعديل لنكات التطبيقات","frequently asked question read":"عرض الاسئلة الشائعة (تاكسي)","frequently asked question create":"اضافة الاسئلة الشائعة (تاكسي)","frequently asked question edit":"تعديل الاسئلة الشائعة (تاكسي)","frequently asked question delete":"حذف الاسئلة الشائعة (تاكسي)","frequently asked question read restaurant":"عرض الاسئلة الشائعة (للمطاعم)","frequently asked question create restaurant":"اضافة الاسئلة الشائعة (للمطاعم)","frequently asked question edit restaurant":"تعديل الاسئلة الشائعة (للمطاعم)","frequently asked question delete restaurant":"حذف الاسئلة الشائعة (للمطاعم)","area read":"عرض المناطق","area create":"اضافة المناطق","area edit":"تعديل المناطق","area delete":"حذف المناطق","city read":"عرض المدن","city create":"اضافة المدن","city edit":"تعديل المدن","city delete":"حذف المدن","neighborhood read":"عرض الأحياء","neighborhood create":"اضافة الأحياء","neighborhood edit":"تعديل الأحياء","neighborhood delete":"حذف الأحياء","Car Showrooms":"معرض السيارات","car showroom read":"عرض معارض السيارات","car showroom create":"اضافة معارض السيارات","car showroom edit":"تعديل معارض السيارات","car showroom delete":"حذف معارض السيارات","car showroom send notification":"ارسال اشعار الى معرض السيارات","distance point read":"عرض نقاط مقابل المسافة","distance point create":"اضافة نقاط مقابل المسافة","distance point edit":"تعديل نقاط مقابل المسافة","distance point delete":"حذف نقاط مقابل المسافة","repeat request read":"عرض تكرار الطلب","repeat request create":"اضافة تكرار الطلب","repeat request edit":"تعديل تكرار الطلب","repeat request delete":"حذف تكرار الطلب","referral read":"عرض الإحالات (تاكسي)","referral create":"اضافة الإحالات (تاكسي)","referral edit":"تعديل الإحالات (تاكسي)","referral delete":"حذف الإحالات (تاكسي)","referral read restaurant":"عرض الإحالات (للمطاعم)","referral create restaurant":"اضافة الإحالات (للمطاعم)","referral edit restaurant":"تعديل الإحالات (للمطاعم)","referral delete restaurant":"حذف الإحالات (للمطاعم)","emergency number read":"عرض أرقام الطوارئ (تاكسي)","emergency number create":"اضافة أرقام الطوارئ (تاكسي)","emergency number edit":"تعديل أرقام الطوارئ (تاكسي)","emergency number delete":"حذف أرقام الطوارئ (تاكسي)","emergency number read restaurant":"عرض أرقام الطوارئ (للمطاعم)","emergency number create restaurant":"اضافة أرقام الطوارئ (للمطاعم)","emergency number edit restaurant":"تعديل أرقام الطوارئ (للمطاعم)","emergency number delete restaurant":"حذف أرقام الطوارئ (للمطاعم)","request update profile user read":"عرض طلبات تعديل بيانات العملاء","request update profile user edit":"تعديل طلبات تعديل بيانات العملاء","map setting read":"عرض اعدادات الخرائط (تاكسي)","map setting create":"اضافة اعدادات الخرائط (تاكسي)","map setting edit":"تعديل اعدادات الخرائط (تاكسي)","map setting delete":"حذف اعدادات الخرائط (تاكسي)","map setting read restaurant":"عرض اعدادات الخرائط (للمطاعم)","map setting create restaurant":"اضافة اعدادات الخرائط (للمطاعم)","map setting edit restaurant":"تعديل اعدادات الخرائط (للمطاعم)","map setting delete restaurant":"حذف اعدادات الخرائط (للمطاعم)","request for account recovery client read":"عرض طلب استرجاع الحساب للعملاء","request for account recovery client edit":"تعديل طلب استرجاع الحساب للعميل","request for account recovery driver read":"عرض طلب استرجاع للسائقين","request for account recovery driver edit":"تعديل طلب استرجاع الحساب للسائق","request update profile driver read":"عرض طلبات تعديل بيانات للسائقين","request update profile driver edit":"تعديل طلبات تعديل بيانات للسائق","food type read restaurant":"عرض أنواع الطعام (للمطاعم)","food type create restaurant":"اضافة أنواع الطعام (للمطاعم)","food type edit restaurant":"تعديل أنواع الطعام (للمطاعم)","food type delete restaurant":"حذف أنواع الطعام (للمطاعم)","kitchen section read restaurant":"عرض أنواع المطابخ (للمطاعم)","kitchen section create restaurant":"اضافة أنواع المطابخ (للمطاعم)","kitchen section edit restaurant":"تعديل أنواع المطابخ (للمطاعم)","kitchen section delete restaurant":"حذف أنواع المطابخ (للمطاعم)","meal category read restaurant":"عرض تصنيفات الأكلات (للمطاعم)","meal category create restaurant":"اضافة تصنيفات الأكلات (للمطاعم)","meal category edit restaurant":"تعديل تصنيفات الأكلات (للمطاعم)","meal category delete restaurant":"حذف تصنيفات الأكلات (للمطاعم)","instructions connector read restaurant":"عرض تعليمات موصل الطلب (للمطاعم)","instructions connector create restaurant":"اضافة تعليمات موصل الطلب (للمطاعم)","instructions connector edit restaurant":"تعديل تعليمات موصل الطلب (للمطاعم)","instructions connector delete restaurant":"حذف تعليمات موصل الطلب (للمطاعم)","restaurant read admin":"عرض المطاعم ","restaurant edit admin":"تعديل المطاعم","restaurant send notification":"ارسال اشعار الى المطاعم","branch read admin":"عرض الفروع ","branch edit admin":"تعديل الفروع","restaurant setting read admin":"عرض اعدادات المطاعم ","restaurant setting edit admin":"تعديل اعدادات المطاعم","Restaurant Type read restaurant":"عرض انواع المطاعم","Restaurant Type edit restaurant":"تعديل نوع المطعم","free market read restaurant":"عرض السوق الحر (للمطاعم)","free market create restaurant":"اضافة السوق الحر (للمطاعم)","free market edit restaurant":"تعديل السوق الحر (للمطاعم)","free market category read restaurant":"عرض عروض السوق الحر (للمطاعم)","free market category create restaurant":"اضافة عروض السوق الحر (للمطاعم)","free market category edit restaurant":"تعديل عروض السوق الحر (للمطاعم)","free market category delete restaurant":"حذف عروض السوق الحر (للمطاعم)","order read rest":"عرض الطلبات","order edit rest":"تعديل طلب","order delete rest":"حذف طلي","invoice read rest":"عرض الفواتير","payment read rest":"عرض المدفوعات","car rental setting read":"عرض اعدادات ايجار السيارات","car rental setting edit":"تعديل اعدادات ايجار السيارات","Driving Education Settings":"اعدادات تعليم القيادة","driving education setting read":"تعديل اعدادات تعليم القيادة","driving education setting edit":"عرض اعدادات تعليم القيادة","apartment features read":"عرض مميزات الشقق","apartment features create":"اضافة مميزات الشقق","apartment features edit":"تعديل مميزات الشقق","apartment features delete":"حذف مميزات الشقق","Apartment Banners (hotel)":"بنرات الشقق","apartment banners read":"عرض بنرات الشقق","apartment banners create":"اضافة بنرات الشقق","apartment banners edit":"تعديل بنرات الشقق","apartment banners delete":"حذف بنرات الشقق","apartment categories read":"عرض التصنيفات","apartment categories create":"اضافة التصنيفات","apartment categories edit":"تعديل التصنيفات","apartment categories delete":"حذف التصنيفات","apartment articles and tips read":"عرض مقالات ونصائح الشقق","apartment articles and tips create":"اضافة مقالات ونصائح الشقق","apartment articles and tips edit":"تعديل مقالات ونصائح الشقق","apartment articles and tips delete":"حذف مقالات ونصائح الشقق","apartment read":"عرض الشقق","apartment edit":"تعديل الشقق","hotel booking read":"عرض حجوزات الفنادق","hotel invoice booking read":"عرض فواتير حجوزات الفنادق","hotel payment booking read":"عرض مدفوعات حجوزات الفنادق","flight booking read":"عرض حجوزات الطيران","flight invoice booking read":"عرض فواتير حجوزات الطيران","flight payment booking read":"عرض مدفوعات حجوزات الطيران","Store Services (store)":"خدمات المتجر","store services read":"عرض خدمات المتجر","store services create":"اضافة خدمات المتجر","store services edit":"تعديل خدمات المتجر","store services delete":"حذف خدمات المتجر","Store Categories (store)":"تصنيفات المتجر","store categories read":"عرض تصنيفات المتجر","store categories create":"اضافة تصنيفات المتجر","store categories edit":"تعديل تصنيفات المتجر","store categories delete":"حذف تصنيفات المتجر","Banners (store)":"بنرات المتجر","banner read store":"عرض بنرات المتجر","banner create store":"اضافة بنرات المتجر","banner edit store":"تعديل بنرات المتجر","banner delete store":"حذف بنرات المتجر"},PO={Activation:"تفعيل",Deactivation:"ايقاف التفعيل",Rejection:"رفض",Approved:"موافقة",Delete:"حذف"},LO={Activation:"هل انت متأكد من التفعيل ؟",Deactivation:"هل انت متأكد من ايقاف التفعيل ؟",Rejection:"هل انت متأكد من الرفض ؟",Approved:"هل انت متأكد من الموافقة ؟",Delete:"هل انت متأكد من الحذف ؟"},RO={type:"type",project_id:"project_id",private_key_id:"private_key_id",private_key:"private_key",client_email:"client_email",client_id:"client_id",auth_uri:"auth_uri",token_uri:"token_uri",auth_provider_x509_cert_url:"auth_provider_x509_cert_url",client_x509_cert_url:"client_x509_cert_url",universe_domain:"universe_domain"},MO={auth:TO,label:EO,notification:CO,validation:AO,global:IO,role_and_permissions:kO,reasonType:PO,reasonTypeTitle:LO,firebase:RO},NO=pO({locale:"ar",fallbackLocale:"ar",legacy:!1,messages:{ar:MO}}),zO=(t,n)=>{const a=t.__vccOpts||t;for(const[c,p]of n)a[c]=p;return a};var cT={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(t){(function(n,a){t.exports=n.document?a(n,!0):function(c){if(!c.document)throw new Error("jQuery requires a window with a document");return a(c)}})(typeof window<"u"?window:zx,function(n,a){var c=[],p=Object.getPrototypeOf,m=c.slice,o=c.flat?function(y){return c.flat.call(y)}:function(y){return c.concat.apply([],y)},T=c.push,E=c.indexOf,M={},R=M.toString,B=M.hasOwnProperty,W=B.toString,ae=W.call(Object),ee={},re=function(b){return typeof b=="function"&&typeof b.nodeType!="number"&&typeof b.item!="function"},ue=function(b){return b!=null&&b===b.window},ce=n.document,Pe={type:!0,src:!0,nonce:!0,noModule:!0};function Y(y,b,I){I=I||ce;var L,j,q=I.createElement("script");if(q.text=y,b)for(L in Pe)j=b[L]||b.getAttribute&&b.getAttribute(L),j&&q.setAttribute(L,j);I.head.appendChild(q).parentNode.removeChild(q)}function se(y){return y==null?y+"":typeof y=="object"||typeof y=="function"?M[R.call(y)]||"object":typeof y}var Se="3.7.1",Me=/HTML$/i,C=function(y,b){return new C.fn.init(y,b)};C.fn=C.prototype={jquery:Se,constructor:C,length:0,toArray:function(){return m.call(this)},get:function(y){return y==null?m.call(this):y<0?this[y+this.length]:this[y]},pushStack:function(y){var b=C.merge(this.constructor(),y);return b.prevObject=this,b},each:function(y){return C.each(this,y)},map:function(y){return this.pushStack(C.map(this,function(b,I){return y.call(b,I,b)}))},slice:function(){return this.pushStack(m.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(y,b){return(b+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(y,b){return b%2}))},eq:function(y){var b=this.length,I=+y+(y<0?b:0);return this.pushStack(I>=0&&I<b?[this[I]]:[])},end:function(){return this.prevObject||this.constructor()},push:T,sort:c.sort,splice:c.splice},C.extend=C.fn.extend=function(){var y,b,I,L,j,q,Z=arguments[0]||{},Le=1,Te=arguments.length,Ue=!1;for(typeof Z=="boolean"&&(Ue=Z,Z=arguments[Le]||{},Le++),typeof Z!="object"&&!re(Z)&&(Z={}),Le===Te&&(Z=this,Le--);Le<Te;Le++)if((y=arguments[Le])!=null)for(b in y)L=y[b],!(b==="__proto__"||Z===L)&&(Ue&&L&&(C.isPlainObject(L)||(j=Array.isArray(L)))?(I=Z[b],j&&!Array.isArray(I)?q=[]:!j&&!C.isPlainObject(I)?q={}:q=I,j=!1,Z[b]=C.extend(Ue,q,L)):L!==void 0&&(Z[b]=L));return Z},C.extend({expando:"jQuery"+(Se+Math.random()).replace(/\D/g,""),isReady:!0,error:function(y){throw new Error(y)},noop:function(){},isPlainObject:function(y){var b,I;return!y||R.call(y)!=="[object Object]"?!1:(b=p(y),b?(I=B.call(b,"constructor")&&b.constructor,typeof I=="function"&&W.call(I)===ae):!0)},isEmptyObject:function(y){var b;for(b in y)return!1;return!0},globalEval:function(y,b,I){Y(y,{nonce:b&&b.nonce},I)},each:function(y,b){var I,L=0;if(qe(y))for(I=y.length;L<I&&b.call(y[L],L,y[L])!==!1;L++);else for(L in y)if(b.call(y[L],L,y[L])===!1)break;return y},text:function(y){var b,I="",L=0,j=y.nodeType;if(!j)for(;b=y[L++];)I+=C.text(b);return j===1||j===11?y.textContent:j===9?y.documentElement.textContent:j===3||j===4?y.nodeValue:I},makeArray:function(y,b){var I=b||[];return y!=null&&(qe(Object(y))?C.merge(I,typeof y=="string"?[y]:y):T.call(I,y)),I},inArray:function(y,b,I){return b==null?-1:E.call(b,y,I)},isXMLDoc:function(y){var b=y&&y.namespaceURI,I=y&&(y.ownerDocument||y).documentElement;return!Me.test(b||I&&I.nodeName||"HTML")},merge:function(y,b){for(var I=+b.length,L=0,j=y.length;L<I;L++)y[j++]=b[L];return y.length=j,y},grep:function(y,b,I){for(var L,j=[],q=0,Z=y.length,Le=!I;q<Z;q++)L=!b(y[q],q),L!==Le&&j.push(y[q]);return j},map:function(y,b,I){var L,j,q=0,Z=[];if(qe(y))for(L=y.length;q<L;q++)j=b(y[q],q,I),j!=null&&Z.push(j);else for(q in y)j=b(y[q],q,I),j!=null&&Z.push(j);return o(Z)},guid:1,support:ee}),typeof Symbol=="function"&&(C.fn[Symbol.iterator]=c[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(y,b){M["[object "+b+"]"]=b.toLowerCase()});function qe(y){var b=!!y&&"length"in y&&y.length,I=se(y);return re(y)||ue(y)?!1:I==="array"||b===0||typeof b=="number"&&b>0&&b-1 in y}function we(y,b){return y.nodeName&&y.nodeName.toLowerCase()===b.toLowerCase()}var Xe=c.pop,xt=c.sort,Ge=c.splice,tt="[\\x20\\t\\r\\n\\f]",Ht=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g");C.contains=function(y,b){var I=b&&b.parentNode;return y===I||!!(I&&I.nodeType===1&&(y.contains?y.contains(I):y.compareDocumentPosition&&y.compareDocumentPosition(I)&16))};var fr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Lt(y,b){return b?y==="\0"?"�":y.slice(0,-1)+"\\"+y.charCodeAt(y.length-1).toString(16)+" ":"\\"+y}C.escapeSelector=function(y){return(y+"").replace(fr,Lt)};var Jt=ce,Zt=T;(function(){var y,b,I,L,j,q=Zt,Z,Le,Te,Ue,st,mt=C.expando,Qe=0,ft=0,kr=Go(),vr=Go(),Or=Go(),_i=Go(),F=function(_e,ze){return _e===ze&&(j=!0),0},A="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="(?:\\\\[\\da-fA-F]{1,6}"+tt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ne="\\["+tt+"*("+N+")(?:"+tt+"*([*^$|!~]?=)"+tt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+N+"))|)"+tt+"*\\]",Ce=":("+N+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ne+")*)|.*)\\)|)",et=new RegExp(tt+"+","g"),Tt=new RegExp("^"+tt+"*,"+tt+"*"),tr=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),Tr=new RegExp(tt+"|>"),zr=new RegExp(Ce),Hr=new RegExp("^"+N+"$"),nn={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+Ce),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+A+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},wo=/^(?:input|select|textarea|button)$/i,So=/^h\d$/i,Br=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fs=/[+~]/,$o=new RegExp("\\\\[\\da-fA-F]{1,6}"+tt+"?|\\\\([^\\r\\n\\f])","g"),to=function(_e,ze){var Ye="0x"+_e.slice(1)-65536;return ze||(Ye<0?String.fromCharCode(Ye+65536):String.fromCharCode(Ye>>10|55296,Ye&1023|56320))},Il=function(){ha()},Wu=ps(function(_e){return _e.disabled===!0&&we(_e,"fieldset")},{dir:"parentNode",next:"legend"});function su(){try{return Z.activeElement}catch{}}try{q.apply(c=m.call(Jt.childNodes),Jt.childNodes),c[Jt.childNodes.length].nodeType}catch{q={apply:function(ze,Ye){Zt.apply(ze,m.call(Ye))},call:function(ze){Zt.apply(ze,m.call(arguments,1))}}}function cn(_e,ze,Ye,at){var pt,Vt,Gt,Nt,Yt,Ur,br,Bt=ze&&ze.ownerDocument,ar=ze?ze.nodeType:9;if(Ye=Ye||[],typeof _e!="string"||!_e||ar!==1&&ar!==9&&ar!==11)return Ye;if(!at&&(ha(ze),ze=ze||Z,Te)){if(ar!==11&&(Yt=Br.exec(_e)))if(pt=Yt[1]){if(ar===9)if(Gt=ze.getElementById(pt)){if(Gt.id===pt)return q.call(Ye,Gt),Ye}else return Ye;else if(Bt&&(Gt=Bt.getElementById(pt))&&cn.contains(ze,Gt)&&Gt.id===pt)return q.call(Ye,Gt),Ye}else{if(Yt[2])return q.apply(Ye,ze.getElementsByTagName(_e)),Ye;if((pt=Yt[3])&&ze.getElementsByClassName)return q.apply(Ye,ze.getElementsByClassName(pt)),Ye}if(!_i[_e+" "]&&(!Ue||!Ue.test(_e))){if(br=_e,Bt=ze,ar===1&&(Tr.test(_e)||tr.test(_e))){for(Bt=fs.test(_e)&&co(ze.parentNode)||ze,(Bt!=ze||!ee.scope)&&((Nt=ze.getAttribute("id"))?Nt=C.escapeSelector(Nt):ze.setAttribute("id",Nt=mt)),Ur=Js(_e),Vt=Ur.length;Vt--;)Ur[Vt]=(Nt?"#"+Nt:":scope")+" "+Ea(Ur[Vt]);br=Ur.join(",")}try{return q.apply(Ye,Bt.querySelectorAll(br)),Ye}catch{_i(_e,!0)}finally{Nt===mt&&ze.removeAttribute("id")}}}return Xu(_e.replace(Ht,"$1"),ze,Ye,at)}function Go(){var _e=[];function ze(Ye,at){return _e.push(Ye+" ")>b.cacheLength&&delete ze[_e.shift()],ze[Ye+" "]=at}return ze}function Fi(_e){return _e[mt]=!0,_e}function Oo(_e){var ze=Z.createElement("fieldset");try{return!!_e(ze)}catch{return!1}finally{ze.parentNode&&ze.parentNode.removeChild(ze),ze=null}}function Ya(_e){return function(ze){return we(ze,"input")&&ze.type===_e}}function Ja(_e){return function(ze){return(we(ze,"input")||we(ze,"button"))&&ze.type===_e}}function kl(_e){return function(ze){return"form"in ze?ze.parentNode&&ze.disabled===!1?"label"in ze?"label"in ze.parentNode?ze.parentNode.disabled===_e:ze.disabled===_e:ze.isDisabled===_e||ze.isDisabled!==!_e&&Wu(ze)===_e:ze.disabled===_e:"label"in ze?ze.disabled===_e:!1}}function To(_e){return Fi(function(ze){return ze=+ze,Fi(function(Ye,at){for(var pt,Vt=_e([],Ye.length,ze),Gt=Vt.length;Gt--;)Ye[pt=Vt[Gt]]&&(Ye[pt]=!(at[pt]=Ye[pt]))})})}function co(_e){return _e&&typeof _e.getElementsByTagName<"u"&&_e}function ha(_e){var ze,Ye=_e?_e.ownerDocument||_e:Jt;return Ye==Z||Ye.nodeType!==9||!Ye.documentElement||(Z=Ye,Le=Z.documentElement,Te=!C.isXMLDoc(Z),st=Le.matches||Le.webkitMatchesSelector||Le.msMatchesSelector,Le.msMatchesSelector&&Jt!=Z&&(ze=Z.defaultView)&&ze.top!==ze&&ze.addEventListener("unload",Il),ee.getById=Oo(function(at){return Le.appendChild(at).id=C.expando,!Z.getElementsByName||!Z.getElementsByName(C.expando).length}),ee.disconnectedMatch=Oo(function(at){return st.call(at,"*")}),ee.scope=Oo(function(){return Z.querySelectorAll(":scope")}),ee.cssHas=Oo(function(){try{return Z.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),ee.getById?(b.filter.ID=function(at){var pt=at.replace($o,to);return function(Vt){return Vt.getAttribute("id")===pt}},b.find.ID=function(at,pt){if(typeof pt.getElementById<"u"&&Te){var Vt=pt.getElementById(at);return Vt?[Vt]:[]}}):(b.filter.ID=function(at){var pt=at.replace($o,to);return function(Vt){var Gt=typeof Vt.getAttributeNode<"u"&&Vt.getAttributeNode("id");return Gt&&Gt.value===pt}},b.find.ID=function(at,pt){if(typeof pt.getElementById<"u"&&Te){var Vt,Gt,Nt,Yt=pt.getElementById(at);if(Yt){if(Vt=Yt.getAttributeNode("id"),Vt&&Vt.value===at)return[Yt];for(Nt=pt.getElementsByName(at),Gt=0;Yt=Nt[Gt++];)if(Vt=Yt.getAttributeNode("id"),Vt&&Vt.value===at)return[Yt]}return[]}}),b.find.TAG=function(at,pt){return typeof pt.getElementsByTagName<"u"?pt.getElementsByTagName(at):pt.querySelectorAll(at)},b.find.CLASS=function(at,pt){if(typeof pt.getElementsByClassName<"u"&&Te)return pt.getElementsByClassName(at)},Ue=[],Oo(function(at){var pt;Le.appendChild(at).innerHTML="<a id='"+mt+"' href='' disabled='disabled'></a><select id='"+mt+"-\r\\' disabled='disabled'><option selected=''></option></select>",at.querySelectorAll("[selected]").length||Ue.push("\\["+tt+"*(?:value|"+A+")"),at.querySelectorAll("[id~="+mt+"-]").length||Ue.push("~="),at.querySelectorAll("a#"+mt+"+*").length||Ue.push(".#.+[+~]"),at.querySelectorAll(":checked").length||Ue.push(":checked"),pt=Z.createElement("input"),pt.setAttribute("type","hidden"),at.appendChild(pt).setAttribute("name","D"),Le.appendChild(at).disabled=!0,at.querySelectorAll(":disabled").length!==2&&Ue.push(":enabled",":disabled"),pt=Z.createElement("input"),pt.setAttribute("name",""),at.appendChild(pt),at.querySelectorAll("[name='']").length||Ue.push("\\["+tt+"*name"+tt+"*="+tt+`*(?:''|"")`)}),ee.cssHas||Ue.push(":has"),Ue=Ue.length&&new RegExp(Ue.join("|")),F=function(at,pt){if(at===pt)return j=!0,0;var Vt=!at.compareDocumentPosition-!pt.compareDocumentPosition;return Vt||(Vt=(at.ownerDocument||at)==(pt.ownerDocument||pt)?at.compareDocumentPosition(pt):1,Vt&1||!ee.sortDetached&&pt.compareDocumentPosition(at)===Vt?at===Z||at.ownerDocument==Jt&&cn.contains(Jt,at)?-1:pt===Z||pt.ownerDocument==Jt&&cn.contains(Jt,pt)?1:L?E.call(L,at)-E.call(L,pt):0:Vt&4?-1:1)}),Z}cn.matches=function(_e,ze){return cn(_e,null,null,ze)},cn.matchesSelector=function(_e,ze){if(ha(_e),Te&&!_i[ze+" "]&&(!Ue||!Ue.test(ze)))try{var Ye=st.call(_e,ze);if(Ye||ee.disconnectedMatch||_e.document&&_e.document.nodeType!==11)return Ye}catch{_i(ze,!0)}return cn(ze,Z,null,[_e]).length>0},cn.contains=function(_e,ze){return(_e.ownerDocument||_e)!=Z&&ha(_e),C.contains(_e,ze)},cn.attr=function(_e,ze){(_e.ownerDocument||_e)!=Z&&ha(_e);var Ye=b.attrHandle[ze.toLowerCase()],at=Ye&&B.call(b.attrHandle,ze.toLowerCase())?Ye(_e,ze,!Te):void 0;return at!==void 0?at:_e.getAttribute(ze)},cn.error=function(_e){throw new Error("Syntax error, unrecognized expression: "+_e)},C.uniqueSort=function(_e){var ze,Ye=[],at=0,pt=0;if(j=!ee.sortStable,L=!ee.sortStable&&m.call(_e,0),xt.call(_e,F),j){for(;ze=_e[pt++];)ze===_e[pt]&&(at=Ye.push(pt));for(;at--;)Ge.call(_e,Ye[at],1)}return L=null,_e},C.fn.uniqueSort=function(){return this.pushStack(C.uniqueSort(m.apply(this)))},b=C.expr={cacheLength:50,createPseudo:Fi,match:nn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_e){return _e[1]=_e[1].replace($o,to),_e[3]=(_e[3]||_e[4]||_e[5]||"").replace($o,to),_e[2]==="~="&&(_e[3]=" "+_e[3]+" "),_e.slice(0,4)},CHILD:function(_e){return _e[1]=_e[1].toLowerCase(),_e[1].slice(0,3)==="nth"?(_e[3]||cn.error(_e[0]),_e[4]=+(_e[4]?_e[5]+(_e[6]||1):2*(_e[3]==="even"||_e[3]==="odd")),_e[5]=+(_e[7]+_e[8]||_e[3]==="odd")):_e[3]&&cn.error(_e[0]),_e},PSEUDO:function(_e){var ze,Ye=!_e[6]&&_e[2];return nn.CHILD.test(_e[0])?null:(_e[3]?_e[2]=_e[4]||_e[5]||"":Ye&&zr.test(Ye)&&(ze=Js(Ye,!0))&&(ze=Ye.indexOf(")",Ye.length-ze)-Ye.length)&&(_e[0]=_e[0].slice(0,ze),_e[2]=Ye.slice(0,ze)),_e.slice(0,3))}},filter:{TAG:function(_e){var ze=_e.replace($o,to).toLowerCase();return _e==="*"?function(){return!0}:function(Ye){return we(Ye,ze)}},CLASS:function(_e){var ze=kr[_e+" "];return ze||(ze=new RegExp("(^|"+tt+")"+_e+"("+tt+"|$)"))&&kr(_e,function(Ye){return ze.test(typeof Ye.className=="string"&&Ye.className||typeof Ye.getAttribute<"u"&&Ye.getAttribute("class")||"")})},ATTR:function(_e,ze,Ye){return function(at){var pt=cn.attr(at,_e);return pt==null?ze==="!=":ze?(pt+="",ze==="="?pt===Ye:ze==="!="?pt!==Ye:ze==="^="?Ye&&pt.indexOf(Ye)===0:ze==="*="?Ye&&pt.indexOf(Ye)>-1:ze==="$="?Ye&&pt.slice(-Ye.length)===Ye:ze==="~="?(" "+pt.replace(et," ")+" ").indexOf(Ye)>-1:ze==="|="?pt===Ye||pt.slice(0,Ye.length+1)===Ye+"-":!1):!0}},CHILD:function(_e,ze,Ye,at,pt){var Vt=_e.slice(0,3)!=="nth",Gt=_e.slice(-4)!=="last",Nt=ze==="of-type";return at===1&&pt===0?function(Yt){return!!Yt.parentNode}:function(Yt,Ur,br){var Bt,ar,lr,An,Ai,vi=Vt!==Gt?"nextSibling":"previousSibling",Zo=Yt.parentNode,Ca=Nt&&Yt.nodeName.toLowerCase(),Aa=!br&&!Nt,Ii=!1;if(Zo){if(Vt){for(;vi;){for(lr=Yt;lr=lr[vi];)if(Nt?we(lr,Ca):lr.nodeType===1)return!1;Ai=vi=_e==="only"&&!Ai&&"nextSibling"}return!0}if(Ai=[Gt?Zo.firstChild:Zo.lastChild],Gt&&Aa){for(ar=Zo[mt]||(Zo[mt]={}),Bt=ar[_e]||[],An=Bt[0]===Qe&&Bt[1],Ii=An&&Bt[2],lr=An&&Zo.childNodes[An];lr=++An&&lr&&lr[vi]||(Ii=An=0)||Ai.pop();)if(lr.nodeType===1&&++Ii&&lr===Yt){ar[_e]=[Qe,An,Ii];break}}else if(Aa&&(ar=Yt[mt]||(Yt[mt]={}),Bt=ar[_e]||[],An=Bt[0]===Qe&&Bt[1],Ii=An),Ii===!1)for(;(lr=++An&&lr&&lr[vi]||(Ii=An=0)||Ai.pop())&&!((Nt?we(lr,Ca):lr.nodeType===1)&&++Ii&&(Aa&&(ar=lr[mt]||(lr[mt]={}),ar[_e]=[Qe,Ii]),lr===Yt)););return Ii-=pt,Ii===at||Ii%at===0&&Ii/at>=0}}},PSEUDO:function(_e,ze){var Ye,at=b.pseudos[_e]||b.setFilters[_e.toLowerCase()]||cn.error("unsupported pseudo: "+_e);return at[mt]?at(ze):at.length>1?(Ye=[_e,_e,"",ze],b.setFilters.hasOwnProperty(_e.toLowerCase())?Fi(function(pt,Vt){for(var Gt,Nt=at(pt,ze),Yt=Nt.length;Yt--;)Gt=E.call(pt,Nt[Yt]),pt[Gt]=!(Vt[Gt]=Nt[Yt])}):function(pt){return at(pt,0,Ye)}):at}},pseudos:{not:Fi(function(_e){var ze=[],Ye=[],at=lu(_e.replace(Ht,"$1"));return at[mt]?Fi(function(pt,Vt,Gt,Nt){for(var Yt,Ur=at(pt,null,Nt,[]),br=pt.length;br--;)(Yt=Ur[br])&&(pt[br]=!(Vt[br]=Yt))}):function(pt,Vt,Gt){return ze[0]=pt,at(ze,null,Gt,Ye),ze[0]=null,!Ye.pop()}}),has:Fi(function(_e){return function(ze){return cn(_e,ze).length>0}}),contains:Fi(function(_e){return _e=_e.replace($o,to),function(ze){return(ze.textContent||C.text(ze)).indexOf(_e)>-1}}),lang:Fi(function(_e){return Hr.test(_e||"")||cn.error("unsupported lang: "+_e),_e=_e.replace($o,to).toLowerCase(),function(ze){var Ye;do if(Ye=Te?ze.lang:ze.getAttribute("xml:lang")||ze.getAttribute("lang"))return Ye=Ye.toLowerCase(),Ye===_e||Ye.indexOf(_e+"-")===0;while((ze=ze.parentNode)&&ze.nodeType===1);return!1}}),target:function(_e){var ze=n.location&&n.location.hash;return ze&&ze.slice(1)===_e.id},root:function(_e){return _e===Le},focus:function(_e){return _e===su()&&Z.hasFocus()&&!!(_e.type||_e.href||~_e.tabIndex)},enabled:kl(!1),disabled:kl(!0),checked:function(_e){return we(_e,"input")&&!!_e.checked||we(_e,"option")&&!!_e.selected},selected:function(_e){return _e.parentNode&&_e.parentNode.selectedIndex,_e.selected===!0},empty:function(_e){for(_e=_e.firstChild;_e;_e=_e.nextSibling)if(_e.nodeType<6)return!1;return!0},parent:function(_e){return!b.pseudos.empty(_e)},header:function(_e){return So.test(_e.nodeName)},input:function(_e){return wo.test(_e.nodeName)},button:function(_e){return we(_e,"input")&&_e.type==="button"||we(_e,"button")},text:function(_e){var ze;return we(_e,"input")&&_e.type==="text"&&((ze=_e.getAttribute("type"))==null||ze.toLowerCase()==="text")},first:To(function(){return[0]}),last:To(function(_e,ze){return[ze-1]}),eq:To(function(_e,ze,Ye){return[Ye<0?Ye+ze:Ye]}),even:To(function(_e,ze){for(var Ye=0;Ye<ze;Ye+=2)_e.push(Ye);return _e}),odd:To(function(_e,ze){for(var Ye=1;Ye<ze;Ye+=2)_e.push(Ye);return _e}),lt:To(function(_e,ze,Ye){var at;for(Ye<0?at=Ye+ze:Ye>ze?at=ze:at=Ye;--at>=0;)_e.push(at);return _e}),gt:To(function(_e,ze,Ye){for(var at=Ye<0?Ye+ze:Ye;++at<ze;)_e.push(at);return _e})}},b.pseudos.nth=b.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[y]=Ya(y);for(y in{submit:!0,reset:!0})b.pseudos[y]=Ja(y);function Ys(){}Ys.prototype=b.filters=b.pseudos,b.setFilters=new Ys;function Js(_e,ze){var Ye,at,pt,Vt,Gt,Nt,Yt,Ur=vr[_e+" "];if(Ur)return ze?0:Ur.slice(0);for(Gt=_e,Nt=[],Yt=b.preFilter;Gt;){(!Ye||(at=Tt.exec(Gt)))&&(at&&(Gt=Gt.slice(at[0].length)||Gt),Nt.push(pt=[])),Ye=!1,(at=tr.exec(Gt))&&(Ye=at.shift(),pt.push({value:Ye,type:at[0].replace(Ht," ")}),Gt=Gt.slice(Ye.length));for(Vt in b.filter)(at=nn[Vt].exec(Gt))&&(!Yt[Vt]||(at=Yt[Vt](at)))&&(Ye=at.shift(),pt.push({value:Ye,type:Vt,matches:at}),Gt=Gt.slice(Ye.length));if(!Ye)break}return ze?Gt.length:Gt?cn.error(_e):vr(_e,Nt).slice(0)}function Ea(_e){for(var ze=0,Ye=_e.length,at="";ze<Ye;ze++)at+=_e[ze].value;return at}function ps(_e,ze,Ye){var at=ze.dir,pt=ze.next,Vt=pt||at,Gt=Ye&&Vt==="parentNode",Nt=ft++;return ze.first?function(Yt,Ur,br){for(;Yt=Yt[at];)if(Yt.nodeType===1||Gt)return _e(Yt,Ur,br);return!1}:function(Yt,Ur,br){var Bt,ar,lr=[Qe,Nt];if(br){for(;Yt=Yt[at];)if((Yt.nodeType===1||Gt)&&_e(Yt,Ur,br))return!0}else for(;Yt=Yt[at];)if(Yt.nodeType===1||Gt)if(ar=Yt[mt]||(Yt[mt]={}),pt&&we(Yt,pt))Yt=Yt[at]||Yt;else{if((Bt=ar[Vt])&&Bt[0]===Qe&&Bt[1]===Nt)return lr[2]=Bt[2];if(ar[Vt]=lr,lr[2]=_e(Yt,Ur,br))return!0}return!1}}function Qs(_e){return _e.length>1?function(ze,Ye,at){for(var pt=_e.length;pt--;)if(!_e[pt](ze,Ye,at))return!1;return!0}:_e[0]}function $u(_e,ze,Ye){for(var at=0,pt=ze.length;at<pt;at++)cn(_e,ze[at],Ye);return Ye}function Ls(_e,ze,Ye,at,pt){for(var Vt,Gt=[],Nt=0,Yt=_e.length,Ur=ze!=null;Nt<Yt;Nt++)(Vt=_e[Nt])&&(!Ye||Ye(Vt,at,pt))&&(Gt.push(Vt),Ur&&ze.push(Nt));return Gt}function Gu(_e,ze,Ye,at,pt,Vt){return at&&!at[mt]&&(at=Gu(at)),pt&&!pt[mt]&&(pt=Gu(pt,Vt)),Fi(function(Gt,Nt,Yt,Ur){var br,Bt,ar,lr,An=[],Ai=[],vi=Nt.length,Zo=Gt||$u(ze||"*",Yt.nodeType?[Yt]:Yt,[]),Ca=_e&&(Gt||!ze)?Ls(Zo,An,_e,Yt,Ur):Zo;if(Ye?(lr=pt||(Gt?_e:vi||at)?[]:Nt,Ye(Ca,lr,Yt,Ur)):lr=Ca,at)for(br=Ls(lr,Ai),at(br,[],Yt,Ur),Bt=br.length;Bt--;)(ar=br[Bt])&&(lr[Ai[Bt]]=!(Ca[Ai[Bt]]=ar));if(Gt){if(pt||_e){if(pt){for(br=[],Bt=lr.length;Bt--;)(ar=lr[Bt])&&br.push(Ca[Bt]=ar);pt(null,lr=[],br,Ur)}for(Bt=lr.length;Bt--;)(ar=lr[Bt])&&(br=pt?E.call(Gt,ar):An[Bt])>-1&&(Gt[br]=!(Nt[br]=ar))}}else lr=Ls(lr===Nt?lr.splice(vi,lr.length):lr),pt?pt(null,Nt,lr,Ur):q.apply(Nt,lr)})}function el(_e){for(var ze,Ye,at,pt=_e.length,Vt=b.relative[_e[0].type],Gt=Vt||b.relative[" "],Nt=Vt?1:0,Yt=ps(function(Bt){return Bt===ze},Gt,!0),Ur=ps(function(Bt){return E.call(ze,Bt)>-1},Gt,!0),br=[function(Bt,ar,lr){var An=!Vt&&(lr||ar!=I)||((ze=ar).nodeType?Yt(Bt,ar,lr):Ur(Bt,ar,lr));return ze=null,An}];Nt<pt;Nt++)if(Ye=b.relative[_e[Nt].type])br=[ps(Qs(br),Ye)];else{if(Ye=b.filter[_e[Nt].type].apply(null,_e[Nt].matches),Ye[mt]){for(at=++Nt;at<pt&&!b.relative[_e[at].type];at++);return Gu(Nt>1&&Qs(br),Nt>1&&Ea(_e.slice(0,Nt-1).concat({value:_e[Nt-2].type===" "?"*":""})).replace(Ht,"$1"),Ye,Nt<at&&el(_e.slice(Nt,at)),at<pt&&el(_e=_e.slice(at)),at<pt&&Ea(_e))}br.push(Ye)}return Qs(br)}function Zu(_e,ze){var Ye=ze.length>0,at=_e.length>0,pt=function(Vt,Gt,Nt,Yt,Ur){var br,Bt,ar,lr=0,An="0",Ai=Vt&&[],vi=[],Zo=I,Ca=Vt||at&&b.find.TAG("*",Ur),Aa=Qe+=Zo==null?1:Math.random()||.1,Ii=Ca.length;for(Ur&&(I=Gt==Z||Gt||Ur);An!==Ii&&(br=Ca[An])!=null;An++){if(at&&br){for(Bt=0,!Gt&&br.ownerDocument!=Z&&(ha(br),Nt=!Te);ar=_e[Bt++];)if(ar(br,Gt||Z,Nt)){q.call(Yt,br);break}Ur&&(Qe=Aa)}Ye&&((br=!ar&&br)&&lr--,Vt&&Ai.push(br))}if(lr+=An,Ye&&An!==lr){for(Bt=0;ar=ze[Bt++];)ar(Ai,vi,Gt,Nt);if(Vt){if(lr>0)for(;An--;)Ai[An]||vi[An]||(vi[An]=Xe.call(Yt));vi=Ls(vi)}q.apply(Yt,vi),Ur&&!Vt&&vi.length>0&&lr+ze.length>1&&C.uniqueSort(Yt)}return Ur&&(Qe=Aa,I=Zo),Ai};return Ye?Fi(pt):pt}function lu(_e,ze){var Ye,at=[],pt=[],Vt=Or[_e+" "];if(!Vt){for(ze||(ze=Js(_e)),Ye=ze.length;Ye--;)Vt=el(ze[Ye]),Vt[mt]?at.push(Vt):pt.push(Vt);Vt=Or(_e,Zu(pt,at)),Vt.selector=_e}return Vt}function Xu(_e,ze,Ye,at){var pt,Vt,Gt,Nt,Yt,Ur=typeof _e=="function"&&_e,br=!at&&Js(_e=Ur.selector||_e);if(Ye=Ye||[],br.length===1){if(Vt=br[0]=br[0].slice(0),Vt.length>2&&(Gt=Vt[0]).type==="ID"&&ze.nodeType===9&&Te&&b.relative[Vt[1].type]){if(ze=(b.find.ID(Gt.matches[0].replace($o,to),ze)||[])[0],ze)Ur&&(ze=ze.parentNode);else return Ye;_e=_e.slice(Vt.shift().value.length)}for(pt=nn.needsContext.test(_e)?0:Vt.length;pt--&&(Gt=Vt[pt],!b.relative[Nt=Gt.type]);)if((Yt=b.find[Nt])&&(at=Yt(Gt.matches[0].replace($o,to),fs.test(Vt[0].type)&&co(ze.parentNode)||ze))){if(Vt.splice(pt,1),_e=at.length&&Ea(Vt),!_e)return q.apply(Ye,at),Ye;break}}return(Ur||lu(_e,br))(at,ze,!Te,Ye,!ze||fs.test(_e)&&co(ze.parentNode)||ze),Ye}ee.sortStable=mt.split("").sort(F).join("")===mt,ha(),ee.sortDetached=Oo(function(_e){return _e.compareDocumentPosition(Z.createElement("fieldset"))&1}),C.find=cn,C.expr[":"]=C.expr.pseudos,C.unique=C.uniqueSort,cn.compile=lu,cn.select=Xu,cn.setDocument=ha,cn.tokenize=Js,cn.escape=C.escapeSelector,cn.getText=C.text,cn.isXML=C.isXMLDoc,cn.selectors=C.expr,cn.support=C.support,cn.uniqueSort=C.uniqueSort})();var Zr=function(y,b,I){for(var L=[],j=I!==void 0;(y=y[b])&&y.nodeType!==9;)if(y.nodeType===1){if(j&&C(y).is(I))break;L.push(y)}return L},Mn=function(y,b){for(var I=[];y;y=y.nextSibling)y.nodeType===1&&y!==b&&I.push(y);return I},Kr=C.expr.match.needsContext,Yr=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function mi(y,b,I){return re(b)?C.grep(y,function(L,j){return!!b.call(L,j,L)!==I}):b.nodeType?C.grep(y,function(L){return L===b!==I}):typeof b!="string"?C.grep(y,function(L){return E.call(b,L)>-1!==I}):C.filter(b,y,I)}C.filter=function(y,b,I){var L=b[0];return I&&(y=":not("+y+")"),b.length===1&&L.nodeType===1?C.find.matchesSelector(L,y)?[L]:[]:C.find.matches(y,C.grep(b,function(j){return j.nodeType===1}))},C.fn.extend({find:function(y){var b,I,L=this.length,j=this;if(typeof y!="string")return this.pushStack(C(y).filter(function(){for(b=0;b<L;b++)if(C.contains(j[b],this))return!0}));for(I=this.pushStack([]),b=0;b<L;b++)C.find(y,j[b],I);return L>1?C.uniqueSort(I):I},filter:function(y){return this.pushStack(mi(this,y||[],!1))},not:function(y){return this.pushStack(mi(this,y||[],!0))},is:function(y){return!!mi(this,typeof y=="string"&&Kr.test(y)?C(y):y||[],!1).length}});var Ti,gn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,En=C.fn.init=function(y,b,I){var L,j;if(!y)return this;if(I=I||Ti,typeof y=="string")if(y[0]==="<"&&y[y.length-1]===">"&&y.length>=3?L=[null,y,null]:L=gn.exec(y),L&&(L[1]||!b))if(L[1]){if(b=b instanceof C?b[0]:b,C.merge(this,C.parseHTML(L[1],b&&b.nodeType?b.ownerDocument||b:ce,!0)),Yr.test(L[1])&&C.isPlainObject(b))for(L in b)re(this[L])?this[L](b[L]):this.attr(L,b[L]);return this}else return j=ce.getElementById(L[2]),j&&(this[0]=j,this.length=1),this;else return!b||b.jquery?(b||I).find(y):this.constructor(b).find(y);else{if(y.nodeType)return this[0]=y,this.length=1,this;if(re(y))return I.ready!==void 0?I.ready(y):y(C)}return C.makeArray(y,this)};En.prototype=C.fn,Ti=C(ce);var On=/^(?:parents|prev(?:Until|All))/,Qn={children:!0,contents:!0,next:!0,prev:!0};C.fn.extend({has:function(y){var b=C(y,this),I=b.length;return this.filter(function(){for(var L=0;L<I;L++)if(C.contains(this,b[L]))return!0})},closest:function(y,b){var I,L=0,j=this.length,q=[],Z=typeof y!="string"&&C(y);if(!Kr.test(y)){for(;L<j;L++)for(I=this[L];I&&I!==b;I=I.parentNode)if(I.nodeType<11&&(Z?Z.index(I)>-1:I.nodeType===1&&C.find.matchesSelector(I,y))){q.push(I);break}}return this.pushStack(q.length>1?C.uniqueSort(q):q)},index:function(y){return y?typeof y=="string"?E.call(C(y),this[0]):E.call(this,y.jquery?y[0]:y):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(y,b){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(y,b))))},addBack:function(y){return this.add(y==null?this.prevObject:this.prevObject.filter(y))}});function Cr(y,b){for(;(y=y[b])&&y.nodeType!==1;);return y}C.each({parent:function(y){var b=y.parentNode;return b&&b.nodeType!==11?b:null},parents:function(y){return Zr(y,"parentNode")},parentsUntil:function(y,b,I){return Zr(y,"parentNode",I)},next:function(y){return Cr(y,"nextSibling")},prev:function(y){return Cr(y,"previousSibling")},nextAll:function(y){return Zr(y,"nextSibling")},prevAll:function(y){return Zr(y,"previousSibling")},nextUntil:function(y,b,I){return Zr(y,"nextSibling",I)},prevUntil:function(y,b,I){return Zr(y,"previousSibling",I)},siblings:function(y){return Mn((y.parentNode||{}).firstChild,y)},children:function(y){return Mn(y.firstChild)},contents:function(y){return y.contentDocument!=null&&p(y.contentDocument)?y.contentDocument:(we(y,"template")&&(y=y.content||y),C.merge([],y.childNodes))}},function(y,b){C.fn[y]=function(I,L){var j=C.map(this,b,I);return y.slice(-5)!=="Until"&&(L=I),L&&typeof L=="string"&&(j=C.filter(L,j)),this.length>1&&(Qn[y]||C.uniqueSort(j),On.test(y)&&j.reverse()),this.pushStack(j)}});var sn=/[^\x20\t\r\n\f]+/g;function Mi(y){var b={};return C.each(y.match(sn)||[],function(I,L){b[L]=!0}),b}C.Callbacks=function(y){y=typeof y=="string"?Mi(y):C.extend({},y);var b,I,L,j,q=[],Z=[],Le=-1,Te=function(){for(j=j||y.once,L=b=!0;Z.length;Le=-1)for(I=Z.shift();++Le<q.length;)q[Le].apply(I[0],I[1])===!1&&y.stopOnFalse&&(Le=q.length,I=!1);y.memory||(I=!1),b=!1,j&&(I?q=[]:q="")},Ue={add:function(){return q&&(I&&!b&&(Le=q.length-1,Z.push(I)),function st(mt){C.each(mt,function(Qe,ft){re(ft)?(!y.unique||!Ue.has(ft))&&q.push(ft):ft&&ft.length&&se(ft)!=="string"&&st(ft)})}(arguments),I&&!b&&Te()),this},remove:function(){return C.each(arguments,function(st,mt){for(var Qe;(Qe=C.inArray(mt,q,Qe))>-1;)q.splice(Qe,1),Qe<=Le&&Le--}),this},has:function(st){return st?C.inArray(st,q)>-1:q.length>0},empty:function(){return q&&(q=[]),this},disable:function(){return j=Z=[],q=I="",this},disabled:function(){return!q},lock:function(){return j=Z=[],!I&&!b&&(q=I=""),this},locked:function(){return!!j},fireWith:function(st,mt){return j||(mt=mt||[],mt=[st,mt.slice?mt.slice():mt],Z.push(mt),b||Te()),this},fire:function(){return Ue.fireWith(this,arguments),this},fired:function(){return!!L}};return Ue};function _n(y){return y}function xe(y){throw y}function de(y,b,I,L){var j;try{y&&re(j=y.promise)?j.call(y).done(b).fail(I):y&&re(j=y.then)?j.call(y,b,I):b.apply(void 0,[y].slice(L))}catch(q){I.apply(void 0,[q])}}C.extend({Deferred:function(y){var b=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],I="pending",L={state:function(){return I},always:function(){return j.done(arguments).fail(arguments),this},catch:function(q){return L.then(null,q)},pipe:function(){var q=arguments;return C.Deferred(function(Z){C.each(b,function(Le,Te){var Ue=re(q[Te[4]])&&q[Te[4]];j[Te[1]](function(){var st=Ue&&Ue.apply(this,arguments);st&&re(st.promise)?st.promise().progress(Z.notify).done(Z.resolve).fail(Z.reject):Z[Te[0]+"With"](this,Ue?[st]:arguments)})}),q=null}).promise()},then:function(q,Z,Le){var Te=0;function Ue(st,mt,Qe,ft){return function(){var kr=this,vr=arguments,Or=function(){var F,A;if(!(st<Te)){if(F=Qe.apply(kr,vr),F===mt.promise())throw new TypeError("Thenable self-resolution");A=F&&(typeof F=="object"||typeof F=="function")&&F.then,re(A)?ft?A.call(F,Ue(Te,mt,_n,ft),Ue(Te,mt,xe,ft)):(Te++,A.call(F,Ue(Te,mt,_n,ft),Ue(Te,mt,xe,ft),Ue(Te,mt,_n,mt.notifyWith))):(Qe!==_n&&(kr=void 0,vr=[F]),(ft||mt.resolveWith)(kr,vr))}},_i=ft?Or:function(){try{Or()}catch(F){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(F,_i.error),st+1>=Te&&(Qe!==xe&&(kr=void 0,vr=[F]),mt.rejectWith(kr,vr))}};st?_i():(C.Deferred.getErrorHook?_i.error=C.Deferred.getErrorHook():C.Deferred.getStackHook&&(_i.error=C.Deferred.getStackHook()),n.setTimeout(_i))}}return C.Deferred(function(st){b[0][3].add(Ue(0,st,re(Le)?Le:_n,st.notifyWith)),b[1][3].add(Ue(0,st,re(q)?q:_n)),b[2][3].add(Ue(0,st,re(Z)?Z:xe))}).promise()},promise:function(q){return q!=null?C.extend(q,L):L}},j={};return C.each(b,function(q,Z){var Le=Z[2],Te=Z[5];L[Z[1]]=Le.add,Te&&Le.add(function(){I=Te},b[3-q][2].disable,b[3-q][3].disable,b[0][2].lock,b[0][3].lock),Le.add(Z[3].fire),j[Z[0]]=function(){return j[Z[0]+"With"](this===j?void 0:this,arguments),this},j[Z[0]+"With"]=Le.fireWith}),L.promise(j),y&&y.call(j,j),j},when:function(y){var b=arguments.length,I=b,L=Array(I),j=m.call(arguments),q=C.Deferred(),Z=function(Le){return function(Te){L[Le]=this,j[Le]=arguments.length>1?m.call(arguments):Te,--b||q.resolveWith(L,j)}};if(b<=1&&(de(y,q.done(Z(I)).resolve,q.reject,!b),q.state()==="pending"||re(j[I]&&j[I].then)))return q.then();for(;I--;)de(j[I],Z(I),q.reject);return q.promise()}});var $e=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(y,b){n.console&&n.console.warn&&y&&$e.test(y.name)&&n.console.warn("jQuery.Deferred exception: "+y.message,y.stack,b)},C.readyException=function(y){n.setTimeout(function(){throw y})};var vt=C.Deferred();C.fn.ready=function(y){return vt.then(y).catch(function(b){C.readyException(b)}),this},C.extend({isReady:!1,readyWait:1,ready:function(y){(y===!0?--C.readyWait:C.isReady)||(C.isReady=!0,!(y!==!0&&--C.readyWait>0)&&vt.resolveWith(ce,[C]))}}),C.ready.then=vt.then;function bt(){ce.removeEventListener("DOMContentLoaded",bt),n.removeEventListener("load",bt),C.ready()}ce.readyState==="complete"||ce.readyState!=="loading"&&!ce.documentElement.doScroll?n.setTimeout(C.ready):(ce.addEventListener("DOMContentLoaded",bt),n.addEventListener("load",bt));var dt=function(y,b,I,L,j,q,Z){var Le=0,Te=y.length,Ue=I==null;if(se(I)==="object"){j=!0;for(Le in I)dt(y,b,Le,I[Le],!0,q,Z)}else if(L!==void 0&&(j=!0,re(L)||(Z=!0),Ue&&(Z?(b.call(y,L),b=null):(Ue=b,b=function(st,mt,Qe){return Ue.call(C(st),Qe)})),b))for(;Le<Te;Le++)b(y[Le],I,Z?L:L.call(y[Le],Le,b(y[Le],I)));return j?y:Ue?b.call(y):Te?b(y[0],I):q},Ft=/^-ms-/,le=/-([a-z])/g;function pe(y,b){return b.toUpperCase()}function Ne(y){return y.replace(Ft,"ms-").replace(le,pe)}var ht=function(y){return y.nodeType===1||y.nodeType===9||!+y.nodeType};function wt(){this.expando=C.expando+wt.uid++}wt.uid=1,wt.prototype={cache:function(y){var b=y[this.expando];return b||(b={},ht(y)&&(y.nodeType?y[this.expando]=b:Object.defineProperty(y,this.expando,{value:b,configurable:!0}))),b},set:function(y,b,I){var L,j=this.cache(y);if(typeof b=="string")j[Ne(b)]=I;else for(L in b)j[Ne(L)]=b[L];return j},get:function(y,b){return b===void 0?this.cache(y):y[this.expando]&&y[this.expando][Ne(b)]},access:function(y,b,I){return b===void 0||b&&typeof b=="string"&&I===void 0?this.get(y,b):(this.set(y,b,I),I!==void 0?I:b)},remove:function(y,b){var I,L=y[this.expando];if(L!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(Ne):(b=Ne(b),b=b in L?[b]:b.match(sn)||[]),I=b.length;I--;)delete L[b[I]];(b===void 0||C.isEmptyObject(L))&&(y.nodeType?y[this.expando]=void 0:delete y[this.expando])}},hasData:function(y){var b=y[this.expando];return b!==void 0&&!C.isEmptyObject(b)}};var Ve=new wt,Be=new wt,lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hr=/[A-Z]/g;function pr(y){return y==="true"?!0:y==="false"?!1:y==="null"?null:y===+y+""?+y:lt.test(y)?JSON.parse(y):y}function wn(y,b,I){var L;if(I===void 0&&y.nodeType===1)if(L="data-"+b.replace(hr,"-$&").toLowerCase(),I=y.getAttribute(L),typeof I=="string"){try{I=pr(I)}catch{}Be.set(y,b,I)}else I=void 0;return I}C.extend({hasData:function(y){return Be.hasData(y)||Ve.hasData(y)},data:function(y,b,I){return Be.access(y,b,I)},removeData:function(y,b){Be.remove(y,b)},_data:function(y,b,I){return Ve.access(y,b,I)},_removeData:function(y,b){Ve.remove(y,b)}}),C.fn.extend({data:function(y,b){var I,L,j,q=this[0],Z=q&&q.attributes;if(y===void 0){if(this.length&&(j=Be.get(q),q.nodeType===1&&!Ve.get(q,"hasDataAttrs"))){for(I=Z.length;I--;)Z[I]&&(L=Z[I].name,L.indexOf("data-")===0&&(L=Ne(L.slice(5)),wn(q,L,j[L])));Ve.set(q,"hasDataAttrs",!0)}return j}return typeof y=="object"?this.each(function(){Be.set(this,y)}):dt(this,function(Le){var Te;if(q&&Le===void 0)return Te=Be.get(q,y),Te!==void 0||(Te=wn(q,y),Te!==void 0)?Te:void 0;this.each(function(){Be.set(this,y,Le)})},null,b,arguments.length>1,null,!0)},removeData:function(y){return this.each(function(){Be.remove(this,y)})}}),C.extend({queue:function(y,b,I){var L;if(y)return b=(b||"fx")+"queue",L=Ve.get(y,b),I&&(!L||Array.isArray(I)?L=Ve.access(y,b,C.makeArray(I)):L.push(I)),L||[]},dequeue:function(y,b){b=b||"fx";var I=C.queue(y,b),L=I.length,j=I.shift(),q=C._queueHooks(y,b),Z=function(){C.dequeue(y,b)};j==="inprogress"&&(j=I.shift(),L--),j&&(b==="fx"&&I.unshift("inprogress"),delete q.stop,j.call(y,Z,q)),!L&&q&&q.empty.fire()},_queueHooks:function(y,b){var I=b+"queueHooks";return Ve.get(y,I)||Ve.access(y,I,{empty:C.Callbacks("once memory").add(function(){Ve.remove(y,[b+"queue",I])})})}}),C.fn.extend({queue:function(y,b){var I=2;return typeof y!="string"&&(b=y,y="fx",I--),arguments.length<I?C.queue(this[0],y):b===void 0?this:this.each(function(){var L=C.queue(this,y,b);C._queueHooks(this,y),y==="fx"&&L[0]!=="inprogress"&&C.dequeue(this,y)})},dequeue:function(y){return this.each(function(){C.dequeue(this,y)})},clearQueue:function(y){return this.queue(y||"fx",[])},promise:function(y,b){var I,L=1,j=C.Deferred(),q=this,Z=this.length,Le=function(){--L||j.resolveWith(q,[q])};for(typeof y!="string"&&(b=y,y=void 0),y=y||"fx";Z--;)I=Ve.get(q[Z],y+"queueHooks"),I&&I.empty&&(L++,I.empty.add(Le));return Le(),j.promise(b)}});var Sn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ln=new RegExp("^(?:([+-])=|)("+Sn+")([a-z%]*)$","i"),pn=["Top","Right","Bottom","Left"],ei=ce.documentElement,Hi=function(y){return C.contains(y.ownerDocument,y)},si={composed:!0};ei.getRootNode&&(Hi=function(y){return C.contains(y.ownerDocument,y)||y.getRootNode(si)===y.ownerDocument});var li=function(y,b){return y=b||y,y.style.display==="none"||y.style.display===""&&Hi(y)&&C.css(y,"display")==="none"};function ba(y,b,I,L){var j,q,Z=20,Le=L?function(){return L.cur()}:function(){return C.css(y,b,"")},Te=Le(),Ue=I&&I[3]||(C.cssNumber[b]?"":"px"),st=y.nodeType&&(C.cssNumber[b]||Ue!=="px"&&+Te)&&Ln.exec(C.css(y,b));if(st&&st[3]!==Ue){for(Te=Te/2,Ue=Ue||st[3],st=+Te||1;Z--;)C.style(y,b,st+Ue),(1-q)*(1-(q=Le()/Te||.5))<=0&&(Z=0),st=st/q;st=st*2,C.style(y,b,st+Ue),I=I||[]}return I&&(st=+st||+Te||0,j=I[1]?st+(I[1]+1)*I[2]:+I[2],L&&(L.unit=Ue,L.start=st,L.end=j)),j}var Ha={};function Wi(y){var b,I=y.ownerDocument,L=y.nodeName,j=Ha[L];return j||(b=I.body.appendChild(I.createElement(L)),j=C.css(b,"display"),b.parentNode.removeChild(b),j==="none"&&(j="block"),Ha[L]=j,j)}function eo(y,b){for(var I,L,j=[],q=0,Z=y.length;q<Z;q++)L=y[q],L.style&&(I=L.style.display,b?(I==="none"&&(j[q]=Ve.get(L,"display")||null,j[q]||(L.style.display="")),L.style.display===""&&li(L)&&(j[q]=Wi(L))):I!=="none"&&(j[q]="none",Ve.set(L,"display",I)));for(q=0;q<Z;q++)j[q]!=null&&(y[q].style.display=j[q]);return y}C.fn.extend({show:function(){return eo(this,!0)},hide:function(){return eo(this)},toggle:function(y){return typeof y=="boolean"?y?this.show():this.hide():this.each(function(){li(this)?C(this).show():C(this).hide()})}});var gi=/^(?:checkbox|radio)$/i,Wa=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$a=/^$|^module$|\/(?:java|ecma)script/i;(function(){var y=ce.createDocumentFragment(),b=y.appendChild(ce.createElement("div")),I=ce.createElement("input");I.setAttribute("type","radio"),I.setAttribute("checked","checked"),I.setAttribute("name","t"),b.appendChild(I),ee.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",ee.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",ee.option=!!b.lastChild})();var tn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tn.tbody=tn.tfoot=tn.colgroup=tn.caption=tn.thead,tn.th=tn.td,ee.option||(tn.optgroup=tn.option=[1,"<select multiple='multiple'>","</select>"]);function U(y,b){var I;return typeof y.getElementsByTagName<"u"?I=y.getElementsByTagName(b||"*"):typeof y.querySelectorAll<"u"?I=y.querySelectorAll(b||"*"):I=[],b===void 0||b&&we(y,b)?C.merge([y],I):I}function $(y,b){for(var I=0,L=y.length;I<L;I++)Ve.set(y[I],"globalEval",!b||Ve.get(b[I],"globalEval"))}var X=/<|&#?\w+;/;function oe(y,b,I,L,j){for(var q,Z,Le,Te,Ue,st,mt=b.createDocumentFragment(),Qe=[],ft=0,kr=y.length;ft<kr;ft++)if(q=y[ft],q||q===0)if(se(q)==="object")C.merge(Qe,q.nodeType?[q]:q);else if(!X.test(q))Qe.push(b.createTextNode(q));else{for(Z=Z||mt.appendChild(b.createElement("div")),Le=(Wa.exec(q)||["",""])[1].toLowerCase(),Te=tn[Le]||tn._default,Z.innerHTML=Te[1]+C.htmlPrefilter(q)+Te[2],st=Te[0];st--;)Z=Z.lastChild;C.merge(Qe,Z.childNodes),Z=mt.firstChild,Z.textContent=""}for(mt.textContent="",ft=0;q=Qe[ft++];){if(L&&C.inArray(q,L)>-1){j&&j.push(q);continue}if(Ue=Hi(q),Z=U(mt.appendChild(q),"script"),Ue&&$(Z),I)for(st=0;q=Z[st++];)$a.test(q.type||"")&&I.push(q)}return mt}var me=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Oe(){return!1}function Q(y,b,I,L,j,q){var Z,Le;if(typeof b=="object"){typeof I!="string"&&(L=L||I,I=void 0);for(Le in b)Q(y,Le,I,L,b[Le],q);return y}if(L==null&&j==null?(j=I,L=I=void 0):j==null&&(typeof I=="string"?(j=L,L=void 0):(j=L,L=I,I=void 0)),j===!1)j=Oe;else if(!j)return y;return q===1&&(Z=j,j=function(Te){return C().off(Te),Z.apply(this,arguments)},j.guid=Z.guid||(Z.guid=C.guid++)),y.each(function(){C.event.add(this,b,j,L,I)})}C.event={global:{},add:function(y,b,I,L,j){var q,Z,Le,Te,Ue,st,mt,Qe,ft,kr,vr,Or=Ve.get(y);if(ht(y))for(I.handler&&(q=I,I=q.handler,j=q.selector),j&&C.find.matchesSelector(ei,j),I.guid||(I.guid=C.guid++),(Te=Or.events)||(Te=Or.events=Object.create(null)),(Z=Or.handle)||(Z=Or.handle=function(_i){return typeof C<"u"&&C.event.triggered!==_i.type?C.event.dispatch.apply(y,arguments):void 0}),b=(b||"").match(sn)||[""],Ue=b.length;Ue--;)Le=me.exec(b[Ue])||[],ft=vr=Le[1],kr=(Le[2]||"").split(".").sort(),ft&&(mt=C.event.special[ft]||{},ft=(j?mt.delegateType:mt.bindType)||ft,mt=C.event.special[ft]||{},st=C.extend({type:ft,origType:vr,data:L,handler:I,guid:I.guid,selector:j,needsContext:j&&C.expr.match.needsContext.test(j),namespace:kr.join(".")},q),(Qe=Te[ft])||(Qe=Te[ft]=[],Qe.delegateCount=0,(!mt.setup||mt.setup.call(y,L,kr,Z)===!1)&&y.addEventListener&&y.addEventListener(ft,Z)),mt.add&&(mt.add.call(y,st),st.handler.guid||(st.handler.guid=I.guid)),j?Qe.splice(Qe.delegateCount++,0,st):Qe.push(st),C.event.global[ft]=!0)},remove:function(y,b,I,L,j){var q,Z,Le,Te,Ue,st,mt,Qe,ft,kr,vr,Or=Ve.hasData(y)&&Ve.get(y);if(!(!Or||!(Te=Or.events))){for(b=(b||"").match(sn)||[""],Ue=b.length;Ue--;){if(Le=me.exec(b[Ue])||[],ft=vr=Le[1],kr=(Le[2]||"").split(".").sort(),!ft){for(ft in Te)C.event.remove(y,ft+b[Ue],I,L,!0);continue}for(mt=C.event.special[ft]||{},ft=(L?mt.delegateType:mt.bindType)||ft,Qe=Te[ft]||[],Le=Le[2]&&new RegExp("(^|\\.)"+kr.join("\\.(?:.*\\.|)")+"(\\.|$)"),Z=q=Qe.length;q--;)st=Qe[q],(j||vr===st.origType)&&(!I||I.guid===st.guid)&&(!Le||Le.test(st.namespace))&&(!L||L===st.selector||L==="**"&&st.selector)&&(Qe.splice(q,1),st.selector&&Qe.delegateCount--,mt.remove&&mt.remove.call(y,st));Z&&!Qe.length&&((!mt.teardown||mt.teardown.call(y,kr,Or.handle)===!1)&&C.removeEvent(y,ft,Or.handle),delete Te[ft])}C.isEmptyObject(Te)&&Ve.remove(y,"handle events")}},dispatch:function(y){var b,I,L,j,q,Z,Le=new Array(arguments.length),Te=C.event.fix(y),Ue=(Ve.get(this,"events")||Object.create(null))[Te.type]||[],st=C.event.special[Te.type]||{};for(Le[0]=Te,b=1;b<arguments.length;b++)Le[b]=arguments[b];if(Te.delegateTarget=this,!(st.preDispatch&&st.preDispatch.call(this,Te)===!1)){for(Z=C.event.handlers.call(this,Te,Ue),b=0;(j=Z[b++])&&!Te.isPropagationStopped();)for(Te.currentTarget=j.elem,I=0;(q=j.handlers[I++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||q.namespace===!1||Te.rnamespace.test(q.namespace))&&(Te.handleObj=q,Te.data=q.data,L=((C.event.special[q.origType]||{}).handle||q.handler).apply(j.elem,Le),L!==void 0&&(Te.result=L)===!1&&(Te.preventDefault(),Te.stopPropagation()));return st.postDispatch&&st.postDispatch.call(this,Te),Te.result}},handlers:function(y,b){var I,L,j,q,Z,Le=[],Te=b.delegateCount,Ue=y.target;if(Te&&Ue.nodeType&&!(y.type==="click"&&y.button>=1)){for(;Ue!==this;Ue=Ue.parentNode||this)if(Ue.nodeType===1&&!(y.type==="click"&&Ue.disabled===!0)){for(q=[],Z={},I=0;I<Te;I++)L=b[I],j=L.selector+" ",Z[j]===void 0&&(Z[j]=L.needsContext?C(j,this).index(Ue)>-1:C.find(j,this,null,[Ue]).length),Z[j]&&q.push(L);q.length&&Le.push({elem:Ue,handlers:q})}}return Ue=this,Te<b.length&&Le.push({elem:Ue,handlers:b.slice(Te)}),Le},addProp:function(y,b){Object.defineProperty(C.Event.prototype,y,{enumerable:!0,configurable:!0,get:re(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[y]},set:function(I){Object.defineProperty(this,y,{enumerable:!0,configurable:!0,writable:!0,value:I})}})},fix:function(y){return y[C.expando]?y:new C.Event(y)},special:{load:{noBubble:!0},click:{setup:function(y){var b=this||y;return gi.test(b.type)&&b.click&&we(b,"input")&&be(b,"click",!0),!1},trigger:function(y){var b=this||y;return gi.test(b.type)&&b.click&&we(b,"input")&&be(b,"click"),!0},_default:function(y){var b=y.target;return gi.test(b.type)&&b.click&&we(b,"input")&&Ve.get(b,"click")||we(b,"a")}},beforeunload:{postDispatch:function(y){y.result!==void 0&&y.originalEvent&&(y.originalEvent.returnValue=y.result)}}}};function be(y,b,I){if(!I){Ve.get(y,b)===void 0&&C.event.add(y,b,ke);return}Ve.set(y,b,!1),C.event.add(y,b,{namespace:!1,handler:function(L){var j,q=Ve.get(this,b);if(L.isTrigger&1&&this[b]){if(q)(C.event.special[b]||{}).delegateType&&L.stopPropagation();else if(q=m.call(arguments),Ve.set(this,b,q),this[b](),j=Ve.get(this,b),Ve.set(this,b,!1),q!==j)return L.stopImmediatePropagation(),L.preventDefault(),j}else q&&(Ve.set(this,b,C.event.trigger(q[0],q.slice(1),this)),L.stopPropagation(),L.isImmediatePropagationStopped=ke)}})}C.removeEvent=function(y,b,I){y.removeEventListener&&y.removeEventListener(b,I)},C.Event=function(y,b){if(!(this instanceof C.Event))return new C.Event(y,b);y&&y.type?(this.originalEvent=y,this.type=y.type,this.isDefaultPrevented=y.defaultPrevented||y.defaultPrevented===void 0&&y.returnValue===!1?ke:Oe,this.target=y.target&&y.target.nodeType===3?y.target.parentNode:y.target,this.currentTarget=y.currentTarget,this.relatedTarget=y.relatedTarget):this.type=y,b&&C.extend(this,b),this.timeStamp=y&&y.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var y=this.originalEvent;this.isDefaultPrevented=ke,y&&!this.isSimulated&&y.preventDefault()},stopPropagation:function(){var y=this.originalEvent;this.isPropagationStopped=ke,y&&!this.isSimulated&&y.stopPropagation()},stopImmediatePropagation:function(){var y=this.originalEvent;this.isImmediatePropagationStopped=ke,y&&!this.isSimulated&&y.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(y,b){function I(L){if(ce.documentMode){var j=Ve.get(this,"handle"),q=C.event.fix(L);q.type=L.type==="focusin"?"focus":"blur",q.isSimulated=!0,j(L),q.target===q.currentTarget&&j(q)}else C.event.simulate(b,L.target,C.event.fix(L))}C.event.special[y]={setup:function(){var L;if(be(this,y,!0),ce.documentMode)L=Ve.get(this,b),L||this.addEventListener(b,I),Ve.set(this,b,(L||0)+1);else return!1},trigger:function(){return be(this,y),!0},teardown:function(){var L;if(ce.documentMode)L=Ve.get(this,b)-1,L?Ve.set(this,b,L):(this.removeEventListener(b,I),Ve.remove(this,b));else return!1},_default:function(L){return Ve.get(L.target,y)},delegateType:b},C.event.special[b]={setup:function(){var L=this.ownerDocument||this.document||this,j=ce.documentMode?this:L,q=Ve.get(j,b);q||(ce.documentMode?this.addEventListener(b,I):L.addEventListener(y,I,!0)),Ve.set(j,b,(q||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,j=ce.documentMode?this:L,q=Ve.get(j,b)-1;q?Ve.set(j,b,q):(ce.documentMode?this.removeEventListener(b,I):L.removeEventListener(y,I,!0),Ve.remove(j,b))}}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(y,b){C.event.special[y]={delegateType:b,bindType:b,handle:function(I){var L,j=this,q=I.relatedTarget,Z=I.handleObj;return(!q||q!==j&&!C.contains(j,q))&&(I.type=Z.origType,L=Z.handler.apply(this,arguments),I.type=b),L}}}),C.fn.extend({on:function(y,b,I,L){return Q(this,y,b,I,L)},one:function(y,b,I,L){return Q(this,y,b,I,L,1)},off:function(y,b,I){var L,j;if(y&&y.preventDefault&&y.handleObj)return L=y.handleObj,C(y.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler),this;if(typeof y=="object"){for(j in y)this.off(j,b,y[j]);return this}return(b===!1||typeof b=="function")&&(I=b,b=void 0),I===!1&&(I=Oe),this.each(function(){C.event.remove(this,y,I,b)})}});var je=/<script|<style|<link/i,gt=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function rt(y,b){return we(y,"table")&&we(b.nodeType!==11?b:b.firstChild,"tr")&&C(y).children("tbody")[0]||y}function _t(y){return y.type=(y.getAttribute("type")!==null)+"/"+y.type,y}function Wt(y){return(y.type||"").slice(0,5)==="true/"?y.type=y.type.slice(5):y.removeAttribute("type"),y}function Dt(y,b){var I,L,j,q,Z,Le,Te;if(b.nodeType===1){if(Ve.hasData(y)&&(q=Ve.get(y),Te=q.events,Te)){Ve.remove(b,"handle events");for(j in Te)for(I=0,L=Te[j].length;I<L;I++)C.event.add(b,j,Te[j][I])}Be.hasData(y)&&(Z=Be.access(y),Le=C.extend({},Z),Be.set(b,Le))}}function it(y,b){var I=b.nodeName.toLowerCase();I==="input"&&gi.test(y.type)?b.checked=y.checked:(I==="input"||I==="textarea")&&(b.defaultValue=y.defaultValue)}function Rt(y,b,I,L){b=o(b);var j,q,Z,Le,Te,Ue,st=0,mt=y.length,Qe=mt-1,ft=b[0],kr=re(ft);if(kr||mt>1&&typeof ft=="string"&&!ee.checkClone&&gt.test(ft))return y.each(function(vr){var Or=y.eq(vr);kr&&(b[0]=ft.call(this,vr,Or.html())),Rt(Or,b,I,L)});if(mt&&(j=oe(b,y[0].ownerDocument,!1,y,L),q=j.firstChild,j.childNodes.length===1&&(j=q),q||L)){for(Z=C.map(U(j,"script"),_t),Le=Z.length;st<mt;st++)Te=j,st!==Qe&&(Te=C.clone(Te,!0,!0),Le&&C.merge(Z,U(Te,"script"))),I.call(y[st],Te,st);if(Le)for(Ue=Z[Z.length-1].ownerDocument,C.map(Z,Wt),st=0;st<Le;st++)Te=Z[st],$a.test(Te.type||"")&&!Ve.access(Te,"globalEval")&&C.contains(Ue,Te)&&(Te.src&&(Te.type||"").toLowerCase()!=="module"?C._evalUrl&&!Te.noModule&&C._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},Ue):Y(Te.textContent.replace(St,""),Te,Ue))}return y}function kt(y,b,I){for(var L,j=b?C.filter(b,y):y,q=0;(L=j[q])!=null;q++)!I&&L.nodeType===1&&C.cleanData(U(L)),L.parentNode&&(I&&Hi(L)&&$(U(L,"script")),L.parentNode.removeChild(L));return y}C.extend({htmlPrefilter:function(y){return y},clone:function(y,b,I){var L,j,q,Z,Le=y.cloneNode(!0),Te=Hi(y);if(!ee.noCloneChecked&&(y.nodeType===1||y.nodeType===11)&&!C.isXMLDoc(y))for(Z=U(Le),q=U(y),L=0,j=q.length;L<j;L++)it(q[L],Z[L]);if(b)if(I)for(q=q||U(y),Z=Z||U(Le),L=0,j=q.length;L<j;L++)Dt(q[L],Z[L]);else Dt(y,Le);return Z=U(Le,"script"),Z.length>0&&$(Z,!Te&&U(y,"script")),Le},cleanData:function(y){for(var b,I,L,j=C.event.special,q=0;(I=y[q])!==void 0;q++)if(ht(I)){if(b=I[Ve.expando]){if(b.events)for(L in b.events)j[L]?C.event.remove(I,L):C.removeEvent(I,L,b.handle);I[Ve.expando]=void 0}I[Be.expando]&&(I[Be.expando]=void 0)}}}),C.fn.extend({detach:function(y){return kt(this,y,!0)},remove:function(y){return kt(this,y)},text:function(y){return dt(this,function(b){return b===void 0?C.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,y,arguments.length)},append:function(){return Rt(this,arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=rt(this,y);b.appendChild(y)}})},prepend:function(){return Rt(this,arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=rt(this,y);b.insertBefore(y,b.firstChild)}})},before:function(){return Rt(this,arguments,function(y){this.parentNode&&this.parentNode.insertBefore(y,this)})},after:function(){return Rt(this,arguments,function(y){this.parentNode&&this.parentNode.insertBefore(y,this.nextSibling)})},empty:function(){for(var y,b=0;(y=this[b])!=null;b++)y.nodeType===1&&(C.cleanData(U(y,!1)),y.textContent="");return this},clone:function(y,b){return y=y??!1,b=b??y,this.map(function(){return C.clone(this,y,b)})},html:function(y){return dt(this,function(b){var I=this[0]||{},L=0,j=this.length;if(b===void 0&&I.nodeType===1)return I.innerHTML;if(typeof b=="string"&&!je.test(b)&&!tn[(Wa.exec(b)||["",""])[1].toLowerCase()]){b=C.htmlPrefilter(b);try{for(;L<j;L++)I=this[L]||{},I.nodeType===1&&(C.cleanData(U(I,!1)),I.innerHTML=b);I=0}catch{}}I&&this.empty().append(b)},null,y,arguments.length)},replaceWith:function(){var y=[];return Rt(this,arguments,function(b){var I=this.parentNode;C.inArray(this,y)<0&&(C.cleanData(U(this)),I&&I.replaceChild(b,this))},y)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(y,b){C.fn[y]=function(I){for(var L,j=[],q=C(I),Z=q.length-1,Le=0;Le<=Z;Le++)L=Le===Z?this:this.clone(!0),C(q[Le])[b](L),T.apply(j,L.get());return this.pushStack(j)}});var It=new RegExp("^("+Sn+")(?!px)[a-z%]+$","i"),Sr=/^--/,Mt=function(y){var b=y.ownerDocument.defaultView;return(!b||!b.opener)&&(b=n),b.getComputedStyle(y)},Nr=function(y,b,I){var L,j,q={};for(j in b)q[j]=y.style[j],y.style[j]=b[j];L=I.call(y);for(j in b)y.style[j]=q[j];return L},yn=new RegExp(pn.join("|"),"i");(function(){function y(){if(Ue){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ue.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ei.appendChild(Te).appendChild(Ue);var st=n.getComputedStyle(Ue);I=st.top!=="1%",Le=b(st.marginLeft)===12,Ue.style.right="60%",q=b(st.right)===36,L=b(st.width)===36,Ue.style.position="absolute",j=b(Ue.offsetWidth/3)===12,ei.removeChild(Te),Ue=null}}function b(st){return Math.round(parseFloat(st))}var I,L,j,q,Z,Le,Te=ce.createElement("div"),Ue=ce.createElement("div");Ue.style&&(Ue.style.backgroundClip="content-box",Ue.cloneNode(!0).style.backgroundClip="",ee.clearCloneStyle=Ue.style.backgroundClip==="content-box",C.extend(ee,{boxSizingReliable:function(){return y(),L},pixelBoxStyles:function(){return y(),q},pixelPosition:function(){return y(),I},reliableMarginLeft:function(){return y(),Le},scrollboxSize:function(){return y(),j},reliableTrDimensions:function(){var st,mt,Qe,ft;return Z==null&&(st=ce.createElement("table"),mt=ce.createElement("tr"),Qe=ce.createElement("div"),st.style.cssText="position:absolute;left:-11111px;border-collapse:separate",mt.style.cssText="box-sizing:content-box;border:1px solid",mt.style.height="1px",Qe.style.height="9px",Qe.style.display="block",ei.appendChild(st).appendChild(mt).appendChild(Qe),ft=n.getComputedStyle(mt),Z=parseInt(ft.height,10)+parseInt(ft.borderTopWidth,10)+parseInt(ft.borderBottomWidth,10)===mt.offsetHeight,ei.removeChild(st)),Z}}))})();function Ar(y,b,I){var L,j,q,Z,Le=Sr.test(b),Te=y.style;return I=I||Mt(y),I&&(Z=I.getPropertyValue(b)||I[b],Le&&Z&&(Z=Z.replace(Ht,"$1")||void 0),Z===""&&!Hi(y)&&(Z=C.style(y,b)),!ee.pixelBoxStyles()&&It.test(Z)&&yn.test(b)&&(L=Te.width,j=Te.minWidth,q=Te.maxWidth,Te.minWidth=Te.maxWidth=Te.width=Z,Z=I.width,Te.width=L,Te.minWidth=j,Te.maxWidth=q)),Z!==void 0?Z+"":Z}function qr(y,b){return{get:function(){if(y()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Fr=["Webkit","Moz","ms"],Ei=ce.createElement("div").style,rn={};function Vn(y){for(var b=y[0].toUpperCase()+y.slice(1),I=Fr.length;I--;)if(y=Fr[I]+b,y in Ei)return y}function ln(y){var b=C.cssProps[y]||rn[y];return b||(y in Ei?y:rn[y]=Vn(y)||y)}var Er=/^(none|table(?!-c[ea]).+)/,Xr={position:"absolute",visibility:"hidden",display:"block"},$n={letterSpacing:"0",fontWeight:"400"};function xa(y,b,I){var L=Ln.exec(b);return L?Math.max(0,L[2]-(I||0))+(L[3]||"px"):b}function Kn(y,b,I,L,j,q){var Z=b==="width"?1:0,Le=0,Te=0,Ue=0;if(I===(L?"border":"content"))return 0;for(;Z<4;Z+=2)I==="margin"&&(Ue+=C.css(y,I+pn[Z],!0,j)),L?(I==="content"&&(Te-=C.css(y,"padding"+pn[Z],!0,j)),I!=="margin"&&(Te-=C.css(y,"border"+pn[Z]+"Width",!0,j))):(Te+=C.css(y,"padding"+pn[Z],!0,j),I!=="padding"?Te+=C.css(y,"border"+pn[Z]+"Width",!0,j):Le+=C.css(y,"border"+pn[Z]+"Width",!0,j));return!L&&q>=0&&(Te+=Math.max(0,Math.ceil(y["offset"+b[0].toUpperCase()+b.slice(1)]-q-Te-Le-.5))||0),Te+Ue}function Oi(y,b,I){var L=Mt(y),j=!ee.boxSizingReliable()||I,q=j&&C.css(y,"boxSizing",!1,L)==="border-box",Z=q,Le=Ar(y,b,L),Te="offset"+b[0].toUpperCase()+b.slice(1);if(It.test(Le)){if(!I)return Le;Le="auto"}return(!ee.boxSizingReliable()&&q||!ee.reliableTrDimensions()&&we(y,"tr")||Le==="auto"||!parseFloat(Le)&&C.css(y,"display",!1,L)==="inline")&&y.getClientRects().length&&(q=C.css(y,"boxSizing",!1,L)==="border-box",Z=Te in y,Z&&(Le=y[Te])),Le=parseFloat(Le)||0,Le+Kn(y,b,I||(q?"border":"content"),Z,L,Le)+"px"}C.extend({cssHooks:{opacity:{get:function(y,b){if(b){var I=Ar(y,"opacity");return I===""?"1":I}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(y,b,I,L){if(!(!y||y.nodeType===3||y.nodeType===8||!y.style)){var j,q,Z,Le=Ne(b),Te=Sr.test(b),Ue=y.style;if(Te||(b=ln(Le)),Z=C.cssHooks[b]||C.cssHooks[Le],I!==void 0){if(q=typeof I,q==="string"&&(j=Ln.exec(I))&&j[1]&&(I=ba(y,b,j),q="number"),I==null||I!==I)return;q==="number"&&!Te&&(I+=j&&j[3]||(C.cssNumber[Le]?"":"px")),!ee.clearCloneStyle&&I===""&&b.indexOf("background")===0&&(Ue[b]="inherit"),(!Z||!("set"in Z)||(I=Z.set(y,I,L))!==void 0)&&(Te?Ue.setProperty(b,I):Ue[b]=I)}else return Z&&"get"in Z&&(j=Z.get(y,!1,L))!==void 0?j:Ue[b]}},css:function(y,b,I,L){var j,q,Z,Le=Ne(b),Te=Sr.test(b);return Te||(b=ln(Le)),Z=C.cssHooks[b]||C.cssHooks[Le],Z&&"get"in Z&&(j=Z.get(y,!0,I)),j===void 0&&(j=Ar(y,b,L)),j==="normal"&&b in $n&&(j=$n[b]),I===""||I?(q=parseFloat(j),I===!0||isFinite(q)?q||0:j):j}}),C.each(["height","width"],function(y,b){C.cssHooks[b]={get:function(I,L,j){if(L)return Er.test(C.css(I,"display"))&&(!I.getClientRects().length||!I.getBoundingClientRect().width)?Nr(I,Xr,function(){return Oi(I,b,j)}):Oi(I,b,j)},set:function(I,L,j){var q,Z=Mt(I),Le=!ee.scrollboxSize()&&Z.position==="absolute",Te=Le||j,Ue=Te&&C.css(I,"boxSizing",!1,Z)==="border-box",st=j?Kn(I,b,j,Ue,Z):0;return Ue&&Le&&(st-=Math.ceil(I["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(Z[b])-Kn(I,b,"border",!1,Z)-.5)),st&&(q=Ln.exec(L))&&(q[3]||"px")!=="px"&&(I.style[b]=L,L=C.css(I,b)),xa(I,L,st)}}}),C.cssHooks.marginLeft=qr(ee.reliableMarginLeft,function(y,b){if(b)return(parseFloat(Ar(y,"marginLeft"))||y.getBoundingClientRect().left-Nr(y,{marginLeft:0},function(){return y.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(y,b){C.cssHooks[y+b]={expand:function(I){for(var L=0,j={},q=typeof I=="string"?I.split(" "):[I];L<4;L++)j[y+pn[L]+b]=q[L]||q[L-2]||q[0];return j}},y!=="margin"&&(C.cssHooks[y+b].set=xa)}),C.fn.extend({css:function(y,b){return dt(this,function(I,L,j){var q,Z,Le={},Te=0;if(Array.isArray(L)){for(q=Mt(I),Z=L.length;Te<Z;Te++)Le[L[Te]]=C.css(I,L[Te],!1,q);return Le}return j!==void 0?C.style(I,L,j):C.css(I,L)},y,b,arguments.length>1)}});function Di(y,b,I,L,j){return new Di.prototype.init(y,b,I,L,j)}C.Tween=Di,Di.prototype={constructor:Di,init:function(y,b,I,L,j,q){this.elem=y,this.prop=I,this.easing=j||C.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=L,this.unit=q||(C.cssNumber[I]?"":"px")},cur:function(){var y=Di.propHooks[this.prop];return y&&y.get?y.get(this):Di.propHooks._default.get(this)},run:function(y){var b,I=Di.propHooks[this.prop];return this.options.duration?this.pos=b=C.easing[this.easing](y,this.options.duration*y,0,1,this.options.duration):this.pos=b=y,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):Di.propHooks._default.set(this),this}},Di.prototype.init.prototype=Di.prototype,Di.propHooks={_default:{get:function(y){var b;return y.elem.nodeType!==1||y.elem[y.prop]!=null&&y.elem.style[y.prop]==null?y.elem[y.prop]:(b=C.css(y.elem,y.prop,""),!b||b==="auto"?0:b)},set:function(y){C.fx.step[y.prop]?C.fx.step[y.prop](y):y.elem.nodeType===1&&(C.cssHooks[y.prop]||y.elem.style[ln(y.prop)]!=null)?C.style(y.elem,y.prop,y.now+y.unit):y.elem[y.prop]=y.now}}},Di.propHooks.scrollTop=Di.propHooks.scrollLeft={set:function(y){y.elem.nodeType&&y.elem.parentNode&&(y.elem[y.prop]=y.now)}},C.easing={linear:function(y){return y},swing:function(y){return .5-Math.cos(y*Math.PI)/2},_default:"swing"},C.fx=Di.prototype.init,C.fx.step={};var Ho,Cn,As=/^(?:toggle|show|hide)$/,Ni=/queueHooks$/;function Gn(){Cn&&(ce.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(Gn):n.setTimeout(Gn,C.fx.interval),C.fx.tick())}function zi(){return n.setTimeout(function(){Ho=void 0}),Ho=Date.now()}function un(y,b){var I,L=0,j={height:y};for(b=b?1:0;L<4;L+=2-b)I=pn[L],j["margin"+I]=j["padding"+I]=y;return b&&(j.opacity=j.width=y),j}function bo(y,b,I){for(var L,j=(Zn.tweeners[b]||[]).concat(Zn.tweeners["*"]),q=0,Z=j.length;q<Z;q++)if(L=j[q].call(I,b,y))return L}function Ci(y,b,I){var L,j,q,Z,Le,Te,Ue,st,mt="width"in b||"height"in b,Qe=this,ft={},kr=y.style,vr=y.nodeType&&li(y),Or=Ve.get(y,"fxshow");I.queue||(Z=C._queueHooks(y,"fx"),Z.unqueued==null&&(Z.unqueued=0,Le=Z.empty.fire,Z.empty.fire=function(){Z.unqueued||Le()}),Z.unqueued++,Qe.always(function(){Qe.always(function(){Z.unqueued--,C.queue(y,"fx").length||Z.empty.fire()})}));for(L in b)if(j=b[L],As.test(j)){if(delete b[L],q=q||j==="toggle",j===(vr?"hide":"show"))if(j==="show"&&Or&&Or[L]!==void 0)vr=!0;else continue;ft[L]=Or&&Or[L]||C.style(y,L)}if(Te=!C.isEmptyObject(b),!(!Te&&C.isEmptyObject(ft))){mt&&y.nodeType===1&&(I.overflow=[kr.overflow,kr.overflowX,kr.overflowY],Ue=Or&&Or.display,Ue==null&&(Ue=Ve.get(y,"display")),st=C.css(y,"display"),st==="none"&&(Ue?st=Ue:(eo([y],!0),Ue=y.style.display||Ue,st=C.css(y,"display"),eo([y]))),(st==="inline"||st==="inline-block"&&Ue!=null)&&C.css(y,"float")==="none"&&(Te||(Qe.done(function(){kr.display=Ue}),Ue==null&&(st=kr.display,Ue=st==="none"?"":st)),kr.display="inline-block")),I.overflow&&(kr.overflow="hidden",Qe.always(function(){kr.overflow=I.overflow[0],kr.overflowX=I.overflow[1],kr.overflowY=I.overflow[2]})),Te=!1;for(L in ft)Te||(Or?"hidden"in Or&&(vr=Or.hidden):Or=Ve.access(y,"fxshow",{display:Ue}),q&&(Or.hidden=!vr),vr&&eo([y],!0),Qe.done(function(){vr||eo([y]),Ve.remove(y,"fxshow");for(L in ft)C.style(y,L,ft[L])})),Te=bo(vr?Or[L]:0,L,Qe),L in Or||(Or[L]=Te.start,vr&&(Te.end=Te.start,Te.start=0))}}function nu(y,b){var I,L,j,q,Z;for(I in y)if(L=Ne(I),j=b[L],q=y[I],Array.isArray(q)&&(j=q[1],q=y[I]=q[0]),I!==L&&(y[L]=q,delete y[I]),Z=C.cssHooks[L],Z&&"expand"in Z){q=Z.expand(q),delete y[L];for(I in q)I in y||(y[I]=q[I],b[I]=j)}else b[L]=j}function Zn(y,b,I){var L,j,q=0,Z=Zn.prefilters.length,Le=C.Deferred().always(function(){delete Te.elem}),Te=function(){if(j)return!1;for(var mt=Ho||zi(),Qe=Math.max(0,Ue.startTime+Ue.duration-mt),ft=Qe/Ue.duration||0,kr=1-ft,vr=0,Or=Ue.tweens.length;vr<Or;vr++)Ue.tweens[vr].run(kr);return Le.notifyWith(y,[Ue,kr,Qe]),kr<1&&Or?Qe:(Or||Le.notifyWith(y,[Ue,1,0]),Le.resolveWith(y,[Ue]),!1)},Ue=Le.promise({elem:y,props:C.extend({},b),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},I),originalProperties:b,originalOptions:I,startTime:Ho||zi(),duration:I.duration,tweens:[],createTween:function(mt,Qe){var ft=C.Tween(y,Ue.opts,mt,Qe,Ue.opts.specialEasing[mt]||Ue.opts.easing);return Ue.tweens.push(ft),ft},stop:function(mt){var Qe=0,ft=mt?Ue.tweens.length:0;if(j)return this;for(j=!0;Qe<ft;Qe++)Ue.tweens[Qe].run(1);return mt?(Le.notifyWith(y,[Ue,1,0]),Le.resolveWith(y,[Ue,mt])):Le.rejectWith(y,[Ue,mt]),this}}),st=Ue.props;for(nu(st,Ue.opts.specialEasing);q<Z;q++)if(L=Zn.prefilters[q].call(Ue,y,st,Ue.opts),L)return re(L.stop)&&(C._queueHooks(Ue.elem,Ue.opts.queue).stop=L.stop.bind(L)),L;return C.map(st,bo,Ue),re(Ue.opts.start)&&Ue.opts.start.call(y,Ue),Ue.progress(Ue.opts.progress).done(Ue.opts.done,Ue.opts.complete).fail(Ue.opts.fail).always(Ue.opts.always),C.fx.timer(C.extend(Te,{elem:y,anim:Ue,queue:Ue.opts.queue})),Ue}C.Animation=C.extend(Zn,{tweeners:{"*":[function(y,b){var I=this.createTween(y,b);return ba(I.elem,y,Ln.exec(b),I),I}]},tweener:function(y,b){re(y)?(b=y,y=["*"]):y=y.match(sn);for(var I,L=0,j=y.length;L<j;L++)I=y[L],Zn.tweeners[I]=Zn.tweeners[I]||[],Zn.tweeners[I].unshift(b)},prefilters:[Ci],prefilter:function(y,b){b?Zn.prefilters.unshift(y):Zn.prefilters.push(y)}}),C.speed=function(y,b,I){var L=y&&typeof y=="object"?C.extend({},y):{complete:I||!I&&b||re(y)&&y,duration:y,easing:I&&b||b&&!re(b)&&b};return C.fx.off?L.duration=0:typeof L.duration!="number"&&(L.duration in C.fx.speeds?L.duration=C.fx.speeds[L.duration]:L.duration=C.fx.speeds._default),(L.queue==null||L.queue===!0)&&(L.queue="fx"),L.old=L.complete,L.complete=function(){re(L.old)&&L.old.call(this),L.queue&&C.dequeue(this,L.queue)},L},C.fn.extend({fadeTo:function(y,b,I,L){return this.filter(li).css("opacity",0).show().end().animate({opacity:b},y,I,L)},animate:function(y,b,I,L){var j=C.isEmptyObject(y),q=C.speed(b,I,L),Z=function(){var Le=Zn(this,C.extend({},y),q);(j||Ve.get(this,"finish"))&&Le.stop(!0)};return Z.finish=Z,j||q.queue===!1?this.each(Z):this.queue(q.queue,Z)},stop:function(y,b,I){var L=function(j){var q=j.stop;delete j.stop,q(I)};return typeof y!="string"&&(I=b,b=y,y=void 0),b&&this.queue(y||"fx",[]),this.each(function(){var j=!0,q=y!=null&&y+"queueHooks",Z=C.timers,Le=Ve.get(this);if(q)Le[q]&&Le[q].stop&&L(Le[q]);else for(q in Le)Le[q]&&Le[q].stop&&Ni.test(q)&&L(Le[q]);for(q=Z.length;q--;)Z[q].elem===this&&(y==null||Z[q].queue===y)&&(Z[q].anim.stop(I),j=!1,Z.splice(q,1));(j||!I)&&C.dequeue(this,y)})},finish:function(y){return y!==!1&&(y=y||"fx"),this.each(function(){var b,I=Ve.get(this),L=I[y+"queue"],j=I[y+"queueHooks"],q=C.timers,Z=L?L.length:0;for(I.finish=!0,C.queue(this,y,[]),j&&j.stop&&j.stop.call(this,!0),b=q.length;b--;)q[b].elem===this&&q[b].queue===y&&(q[b].anim.stop(!0),q.splice(b,1));for(b=0;b<Z;b++)L[b]&&L[b].finish&&L[b].finish.call(this);delete I.finish})}}),C.each(["toggle","show","hide"],function(y,b){var I=C.fn[b];C.fn[b]=function(L,j,q){return L==null||typeof L=="boolean"?I.apply(this,arguments):this.animate(un(b,!0),L,j,q)}}),C.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(y,b){C.fn[y]=function(I,L,j){return this.animate(b,I,L,j)}}),C.timers=[],C.fx.tick=function(){var y,b=0,I=C.timers;for(Ho=Date.now();b<I.length;b++)y=I[b],!y()&&I[b]===y&&I.splice(b--,1);I.length||C.fx.stop(),Ho=void 0},C.fx.timer=function(y){C.timers.push(y),C.fx.start()},C.fx.interval=13,C.fx.start=function(){Cn||(Cn=!0,Gn())},C.fx.stop=function(){Cn=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(y,b){return y=C.fx&&C.fx.speeds[y]||y,b=b||"fx",this.queue(b,function(I,L){var j=n.setTimeout(I,y);L.stop=function(){n.clearTimeout(j)}})},function(){var y=ce.createElement("input"),b=ce.createElement("select"),I=b.appendChild(ce.createElement("option"));y.type="checkbox",ee.checkOn=y.value!=="",ee.optSelected=I.selected,y=ce.createElement("input"),y.value="t",y.type="radio",ee.radioValue=y.value==="t"}();var iu,uo=C.expr.attrHandle;C.fn.extend({attr:function(y,b){return dt(this,C.attr,y,b,arguments.length>1)},removeAttr:function(y){return this.each(function(){C.removeAttr(this,y)})}}),C.extend({attr:function(y,b,I){var L,j,q=y.nodeType;if(!(q===3||q===8||q===2)){if(typeof y.getAttribute>"u")return C.prop(y,b,I);if((q!==1||!C.isXMLDoc(y))&&(j=C.attrHooks[b.toLowerCase()]||(C.expr.match.bool.test(b)?iu:void 0)),I!==void 0){if(I===null){C.removeAttr(y,b);return}return j&&"set"in j&&(L=j.set(y,I,b))!==void 0?L:(y.setAttribute(b,I+""),I)}return j&&"get"in j&&(L=j.get(y,b))!==null?L:(L=C.find.attr(y,b),L??void 0)}},attrHooks:{type:{set:function(y,b){if(!ee.radioValue&&b==="radio"&&we(y,"input")){var I=y.value;return y.setAttribute("type",b),I&&(y.value=I),b}}}},removeAttr:function(y,b){var I,L=0,j=b&&b.match(sn);if(j&&y.nodeType===1)for(;I=j[L++];)y.removeAttribute(I)}}),iu={set:function(y,b,I){return b===!1?C.removeAttr(y,I):y.setAttribute(I,I),I}},C.each(C.expr.match.bool.source.match(/\w+/g),function(y,b){var I=uo[b]||C.find.attr;uo[b]=function(L,j,q){var Z,Le,Te=j.toLowerCase();return q||(Le=uo[Te],uo[Te]=Z,Z=I(L,j,q)!=null?Te:null,uo[Te]=Le),Z}});var yi=/^(?:input|select|textarea|button)$/i,Wo=/^(?:a|area)$/i;C.fn.extend({prop:function(y,b){return dt(this,C.prop,y,b,arguments.length>1)},removeProp:function(y){return this.each(function(){delete this[C.propFix[y]||y]})}}),C.extend({prop:function(y,b,I){var L,j,q=y.nodeType;if(!(q===3||q===8||q===2))return(q!==1||!C.isXMLDoc(y))&&(b=C.propFix[b]||b,j=C.propHooks[b]),I!==void 0?j&&"set"in j&&(L=j.set(y,I,b))!==void 0?L:y[b]=I:j&&"get"in j&&(L=j.get(y,b))!==null?L:y[b]},propHooks:{tabIndex:{get:function(y){var b=C.find.attr(y,"tabindex");return b?parseInt(b,10):yi.test(y.nodeName)||Wo.test(y.nodeName)&&y.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ee.optSelected||(C.propHooks.selected={get:function(y){var b=y.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(y){var b=y.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});function Xn(y){var b=y.match(sn)||[];return b.join(" ")}function $i(y){return y.getAttribute&&y.getAttribute("class")||""}function ua(y){return Array.isArray(y)?y:typeof y=="string"?y.match(sn)||[]:[]}C.fn.extend({addClass:function(y){var b,I,L,j,q,Z;return re(y)?this.each(function(Le){C(this).addClass(y.call(this,Le,$i(this)))}):(b=ua(y),b.length?this.each(function(){if(L=$i(this),I=this.nodeType===1&&" "+Xn(L)+" ",I){for(q=0;q<b.length;q++)j=b[q],I.indexOf(" "+j+" ")<0&&(I+=j+" ");Z=Xn(I),L!==Z&&this.setAttribute("class",Z)}}):this)},removeClass:function(y){var b,I,L,j,q,Z;return re(y)?this.each(function(Le){C(this).removeClass(y.call(this,Le,$i(this)))}):arguments.length?(b=ua(y),b.length?this.each(function(){if(L=$i(this),I=this.nodeType===1&&" "+Xn(L)+" ",I){for(q=0;q<b.length;q++)for(j=b[q];I.indexOf(" "+j+" ")>-1;)I=I.replace(" "+j+" "," ");Z=Xn(I),L!==Z&&this.setAttribute("class",Z)}}):this):this.attr("class","")},toggleClass:function(y,b){var I,L,j,q,Z=typeof y,Le=Z==="string"||Array.isArray(y);return re(y)?this.each(function(Te){C(this).toggleClass(y.call(this,Te,$i(this),b),b)}):typeof b=="boolean"&&Le?b?this.addClass(y):this.removeClass(y):(I=ua(y),this.each(function(){if(Le)for(q=C(this),j=0;j<I.length;j++)L=I[j],q.hasClass(L)?q.removeClass(L):q.addClass(L);else(y===void 0||Z==="boolean")&&(L=$i(this),L&&Ve.set(this,"__className__",L),this.setAttribute&&this.setAttribute("class",L||y===!1?"":Ve.get(this,"__className__")||""))}))},hasClass:function(y){var b,I,L=0;for(b=" "+y+" ";I=this[L++];)if(I.nodeType===1&&(" "+Xn($i(I))+" ").indexOf(b)>-1)return!0;return!1}});var qu=/\r/g;C.fn.extend({val:function(y){var b,I,L,j=this[0];return arguments.length?(L=re(y),this.each(function(q){var Z;this.nodeType===1&&(L?Z=y.call(this,q,C(this).val()):Z=y,Z==null?Z="":typeof Z=="number"?Z+="":Array.isArray(Z)&&(Z=C.map(Z,function(Le){return Le==null?"":Le+""})),b=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,Z,"value")===void 0)&&(this.value=Z))})):j?(b=C.valHooks[j.type]||C.valHooks[j.nodeName.toLowerCase()],b&&"get"in b&&(I=b.get(j,"value"))!==void 0?I:(I=j.value,typeof I=="string"?I.replace(qu,""):I??"")):void 0}}),C.extend({valHooks:{option:{get:function(y){var b=C.find.attr(y,"value");return b??Xn(C.text(y))}},select:{get:function(y){var b,I,L,j=y.options,q=y.selectedIndex,Z=y.type==="select-one",Le=Z?null:[],Te=Z?q+1:j.length;for(q<0?L=Te:L=Z?q:0;L<Te;L++)if(I=j[L],(I.selected||L===q)&&!I.disabled&&(!I.parentNode.disabled||!we(I.parentNode,"optgroup"))){if(b=C(I).val(),Z)return b;Le.push(b)}return Le},set:function(y,b){for(var I,L,j=y.options,q=C.makeArray(b),Z=j.length;Z--;)L=j[Z],(L.selected=C.inArray(C.valHooks.option.get(L),q)>-1)&&(I=!0);return I||(y.selectedIndex=-1),q}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(y,b){if(Array.isArray(b))return y.checked=C.inArray(C(y).val(),b)>-1}},ee.checkOn||(C.valHooks[this].get=function(y){return y.getAttribute("value")===null?"on":y.value})});var Ga=n.location,ou={guid:Date.now()},$s=/\?/;C.parseXML=function(y){var b,I;if(!y||typeof y!="string")return null;try{b=new n.DOMParser().parseFromString(y,"text/xml")}catch{}return I=b&&b.getElementsByTagName("parsererror")[0],(!b||I)&&C.error("Invalid XML: "+(I?C.map(I.childNodes,function(L){return L.textContent}).join(`
`):y)),b};var _l=/^(?:focusinfocus|focusoutblur)$/,vl=function(y){y.stopPropagation()};C.extend(C.event,{trigger:function(y,b,I,L){var j,q,Z,Le,Te,Ue,st,mt,Qe=[I||ce],ft=B.call(y,"type")?y.type:y,kr=B.call(y,"namespace")?y.namespace.split("."):[];if(q=mt=Z=I=I||ce,!(I.nodeType===3||I.nodeType===8)&&!_l.test(ft+C.event.triggered)&&(ft.indexOf(".")>-1&&(kr=ft.split("."),ft=kr.shift(),kr.sort()),Te=ft.indexOf(":")<0&&"on"+ft,y=y[C.expando]?y:new C.Event(ft,typeof y=="object"&&y),y.isTrigger=L?2:3,y.namespace=kr.join("."),y.rnamespace=y.namespace?new RegExp("(^|\\.)"+kr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,y.result=void 0,y.target||(y.target=I),b=b==null?[y]:C.makeArray(b,[y]),st=C.event.special[ft]||{},!(!L&&st.trigger&&st.trigger.apply(I,b)===!1))){if(!L&&!st.noBubble&&!ue(I)){for(Le=st.delegateType||ft,_l.test(Le+ft)||(q=q.parentNode);q;q=q.parentNode)Qe.push(q),Z=q;Z===(I.ownerDocument||ce)&&Qe.push(Z.defaultView||Z.parentWindow||n)}for(j=0;(q=Qe[j++])&&!y.isPropagationStopped();)mt=q,y.type=j>1?Le:st.bindType||ft,Ue=(Ve.get(q,"events")||Object.create(null))[y.type]&&Ve.get(q,"handle"),Ue&&Ue.apply(q,b),Ue=Te&&q[Te],Ue&&Ue.apply&&ht(q)&&(y.result=Ue.apply(q,b),y.result===!1&&y.preventDefault());return y.type=ft,!L&&!y.isDefaultPrevented()&&(!st._default||st._default.apply(Qe.pop(),b)===!1)&&ht(I)&&Te&&re(I[ft])&&!ue(I)&&(Z=I[Te],Z&&(I[Te]=null),C.event.triggered=ft,y.isPropagationStopped()&&mt.addEventListener(ft,vl),I[ft](),y.isPropagationStopped()&&mt.removeEventListener(ft,vl),C.event.triggered=void 0,Z&&(I[Te]=Z)),y.result}},simulate:function(y,b,I){var L=C.extend(new C.Event,I,{type:y,isSimulated:!0});C.event.trigger(L,null,b)}}),C.fn.extend({trigger:function(y,b){return this.each(function(){C.event.trigger(y,b,this)})},triggerHandler:function(y,b){var I=this[0];if(I)return C.event.trigger(y,b,I,!0)}});var bl=/\[\]$/,Za=/\r?\n/g,xl=/^(?:submit|button|image|reset|file)$/i,Is=/^(?:input|select|textarea|keygen)/i;function Gs(y,b,I,L){var j;if(Array.isArray(b))C.each(b,function(q,Z){I||bl.test(y)?L(y,Z):Gs(y+"["+(typeof Z=="object"&&Z!=null?q:"")+"]",Z,I,L)});else if(!I&&se(b)==="object")for(j in b)Gs(y+"["+j+"]",b[j],I,L);else L(y,b)}C.param=function(y,b){var I,L=[],j=function(q,Z){var Le=re(Z)?Z():Z;L[L.length]=encodeURIComponent(q)+"="+encodeURIComponent(Le??"")};if(y==null)return"";if(Array.isArray(y)||y.jquery&&!C.isPlainObject(y))C.each(y,function(){j(this.name,this.value)});else for(I in y)Gs(I,y[I],b,j);return L.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var y=C.prop(this,"elements");return y?C.makeArray(y):this}).filter(function(){var y=this.type;return this.name&&!C(this).is(":disabled")&&Is.test(this.nodeName)&&!xl.test(y)&&(this.checked||!gi.test(y))}).map(function(y,b){var I=C(this).val();return I==null?null:Array.isArray(I)?C.map(I,function(L){return{name:b.name,value:L.replace(Za,`\r
`)}}):{name:b.name,value:I.replace(Za,`\r
`)}}).get()}});var Zs=/%20/g,xo=/#.*$/,wa=/([?&])_=[^&]*/,Sa=/^(.*?):[ \t]*([^\r\n]*)$/mg,Xa=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ca=/^(?:GET|HEAD)$/,Ta=/^\/\//,ks={},dr={},Nn="*/".concat("*"),Mo=ce.createElement("a");Mo.href=Ga.href;function wl(y){return function(b,I){typeof b!="string"&&(I=b,b="*");var L,j=0,q=b.toLowerCase().match(sn)||[];if(re(I))for(;L=q[j++];)L[0]==="+"?(L=L.slice(1)||"*",(y[L]=y[L]||[]).unshift(I)):(y[L]=y[L]||[]).push(I)}}function au(y,b,I,L){var j={},q=y===dr;function Z(Le){var Te;return j[Le]=!0,C.each(y[Le]||[],function(Ue,st){var mt=st(b,I,L);if(typeof mt=="string"&&!q&&!j[mt])return b.dataTypes.unshift(mt),Z(mt),!1;if(q)return!(Te=mt)}),Te}return Z(b.dataTypes[0])||!j["*"]&&Z("*")}function Xs(y,b){var I,L,j=C.ajaxSettings.flatOptions||{};for(I in b)b[I]!==void 0&&((j[I]?y:L||(L={}))[I]=b[I]);return L&&C.extend(!0,y,L),y}function Sl(y,b,I){for(var L,j,q,Z,Le=y.contents,Te=y.dataTypes;Te[0]==="*";)Te.shift(),L===void 0&&(L=y.mimeType||b.getResponseHeader("Content-Type"));if(L){for(j in Le)if(Le[j]&&Le[j].test(L)){Te.unshift(j);break}}if(Te[0]in I)q=Te[0];else{for(j in I){if(!Te[0]||y.converters[j+" "+Te[0]]){q=j;break}Z||(Z=j)}q=q||Z}if(q)return q!==Te[0]&&Te.unshift(q),I[q]}function Tl(y,b,I,L){var j,q,Z,Le,Te,Ue={},st=y.dataTypes.slice();if(st[1])for(Z in y.converters)Ue[Z.toLowerCase()]=y.converters[Z];for(q=st.shift();q;)if(y.responseFields[q]&&(I[y.responseFields[q]]=b),!Te&&L&&y.dataFilter&&(b=y.dataFilter(b,y.dataType)),Te=q,q=st.shift(),q){if(q==="*")q=Te;else if(Te!=="*"&&Te!==q){if(Z=Ue[Te+" "+q]||Ue["* "+q],!Z){for(j in Ue)if(Le=j.split(" "),Le[1]===q&&(Z=Ue[Te+" "+Le[0]]||Ue["* "+Le[0]],Z)){Z===!0?Z=Ue[j]:Ue[j]!==!0&&(q=Le[0],st.unshift(Le[1]));break}}if(Z!==!0)if(Z&&y.throws)b=Z(b);else try{b=Z(b)}catch(mt){return{state:"parsererror",error:Z?mt:"No conversion from "+Te+" to "+q}}}}return{state:"success",data:b}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ga.href,type:"GET",isLocal:Xa.test(Ga.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(y,b){return b?Xs(Xs(y,C.ajaxSettings),b):Xs(C.ajaxSettings,y)},ajaxPrefilter:wl(ks),ajaxTransport:wl(dr),ajax:function(y,b){typeof y=="object"&&(b=y,y=void 0),b=b||{};var I,L,j,q,Z,Le,Te,Ue,st,mt,Qe=C.ajaxSetup({},b),ft=Qe.context||Qe,kr=Qe.context&&(ft.nodeType||ft.jquery)?C(ft):C.event,vr=C.Deferred(),Or=C.Callbacks("once memory"),_i=Qe.statusCode||{},F={},A={},N="canceled",ne={readyState:0,getResponseHeader:function(et){var Tt;if(Te){if(!q)for(q={};Tt=Sa.exec(j);)q[Tt[1].toLowerCase()+" "]=(q[Tt[1].toLowerCase()+" "]||[]).concat(Tt[2]);Tt=q[et.toLowerCase()+" "]}return Tt==null?null:Tt.join(", ")},getAllResponseHeaders:function(){return Te?j:null},setRequestHeader:function(et,Tt){return Te==null&&(et=A[et.toLowerCase()]=A[et.toLowerCase()]||et,F[et]=Tt),this},overrideMimeType:function(et){return Te==null&&(Qe.mimeType=et),this},statusCode:function(et){var Tt;if(et)if(Te)ne.always(et[ne.status]);else for(Tt in et)_i[Tt]=[_i[Tt],et[Tt]];return this},abort:function(et){var Tt=et||N;return I&&I.abort(Tt),Ce(0,Tt),this}};if(vr.promise(ne),Qe.url=((y||Qe.url||Ga.href)+"").replace(Ta,Ga.protocol+"//"),Qe.type=b.method||b.type||Qe.method||Qe.type,Qe.dataTypes=(Qe.dataType||"*").toLowerCase().match(sn)||[""],Qe.crossDomain==null){Le=ce.createElement("a");try{Le.href=Qe.url,Le.href=Le.href,Qe.crossDomain=Mo.protocol+"//"+Mo.host!=Le.protocol+"//"+Le.host}catch{Qe.crossDomain=!0}}if(Qe.data&&Qe.processData&&typeof Qe.data!="string"&&(Qe.data=C.param(Qe.data,Qe.traditional)),au(ks,Qe,b,ne),Te)return ne;Ue=C.event&&Qe.global,Ue&&C.active++===0&&C.event.trigger("ajaxStart"),Qe.type=Qe.type.toUpperCase(),Qe.hasContent=!ca.test(Qe.type),L=Qe.url.replace(xo,""),Qe.hasContent?Qe.data&&Qe.processData&&(Qe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Qe.data=Qe.data.replace(Zs,"+")):(mt=Qe.url.slice(L.length),Qe.data&&(Qe.processData||typeof Qe.data=="string")&&(L+=($s.test(L)?"&":"?")+Qe.data,delete Qe.data),Qe.cache===!1&&(L=L.replace(wa,"$1"),mt=($s.test(L)?"&":"?")+"_="+ou.guid+++mt),Qe.url=L+mt),Qe.ifModified&&(C.lastModified[L]&&ne.setRequestHeader("If-Modified-Since",C.lastModified[L]),C.etag[L]&&ne.setRequestHeader("If-None-Match",C.etag[L])),(Qe.data&&Qe.hasContent&&Qe.contentType!==!1||b.contentType)&&ne.setRequestHeader("Content-Type",Qe.contentType),ne.setRequestHeader("Accept",Qe.dataTypes[0]&&Qe.accepts[Qe.dataTypes[0]]?Qe.accepts[Qe.dataTypes[0]]+(Qe.dataTypes[0]!=="*"?", "+Nn+"; q=0.01":""):Qe.accepts["*"]);for(st in Qe.headers)ne.setRequestHeader(st,Qe.headers[st]);if(Qe.beforeSend&&(Qe.beforeSend.call(ft,ne,Qe)===!1||Te))return ne.abort();if(N="abort",Or.add(Qe.complete),ne.done(Qe.success),ne.fail(Qe.error),I=au(dr,Qe,b,ne),!I)Ce(-1,"No Transport");else{if(ne.readyState=1,Ue&&kr.trigger("ajaxSend",[ne,Qe]),Te)return ne;Qe.async&&Qe.timeout>0&&(Z=n.setTimeout(function(){ne.abort("timeout")},Qe.timeout));try{Te=!1,I.send(F,Ce)}catch(et){if(Te)throw et;Ce(-1,et)}}function Ce(et,Tt,tr,Tr){var zr,Hr,nn,wo,So,Br=Tt;Te||(Te=!0,Z&&n.clearTimeout(Z),I=void 0,j=Tr||"",ne.readyState=et>0?4:0,zr=et>=200&&et<300||et===304,tr&&(wo=Sl(Qe,ne,tr)),!zr&&C.inArray("script",Qe.dataTypes)>-1&&C.inArray("json",Qe.dataTypes)<0&&(Qe.converters["text script"]=function(){}),wo=Tl(Qe,wo,ne,zr),zr?(Qe.ifModified&&(So=ne.getResponseHeader("Last-Modified"),So&&(C.lastModified[L]=So),So=ne.getResponseHeader("etag"),So&&(C.etag[L]=So)),et===204||Qe.type==="HEAD"?Br="nocontent":et===304?Br="notmodified":(Br=wo.state,Hr=wo.data,nn=wo.error,zr=!nn)):(nn=Br,(et||!Br)&&(Br="error",et<0&&(et=0))),ne.status=et,ne.statusText=(Tt||Br)+"",zr?vr.resolveWith(ft,[Hr,Br,ne]):vr.rejectWith(ft,[ne,Br,nn]),ne.statusCode(_i),_i=void 0,Ue&&kr.trigger(zr?"ajaxSuccess":"ajaxError",[ne,Qe,zr?Hr:nn]),Or.fireWith(ft,[ne,Br]),Ue&&(kr.trigger("ajaxComplete",[ne,Qe]),--C.active||C.event.trigger("ajaxStop")))}return ne},getJSON:function(y,b,I){return C.get(y,b,I,"json")},getScript:function(y,b){return C.get(y,void 0,b,"script")}}),C.each(["get","post"],function(y,b){C[b]=function(I,L,j,q){return re(L)&&(q=q||j,j=L,L=void 0),C.ajax(C.extend({url:I,type:b,dataType:q,data:L,success:j},C.isPlainObject(I)&&I))}}),C.ajaxPrefilter(function(y){var b;for(b in y.headers)b.toLowerCase()==="content-type"&&(y.contentType=y.headers[b]||"")}),C._evalUrl=function(y,b,I){return C.ajax({url:y,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){C.globalEval(L,b,I)}})},C.fn.extend({wrapAll:function(y){var b;return this[0]&&(re(y)&&(y=y.call(this[0])),b=C(y,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var I=this;I.firstElementChild;)I=I.firstElementChild;return I}).append(this)),this},wrapInner:function(y){return re(y)?this.each(function(b){C(this).wrapInner(y.call(this,b))}):this.each(function(){var b=C(this),I=b.contents();I.length?I.wrapAll(y):b.append(y)})},wrap:function(y){var b=re(y);return this.each(function(I){C(this).wrapAll(b?y.call(this,I):y)})},unwrap:function(y){return this.parent(y).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(y){return!C.expr.pseudos.visible(y)},C.expr.pseudos.visible=function(y){return!!(y.offsetWidth||y.offsetHeight||y.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var El={0:200,1223:204},Ka=C.ajaxSettings.xhr();ee.cors=!!Ka&&"withCredentials"in Ka,ee.ajax=Ka=!!Ka,C.ajaxTransport(function(y){var b,I;if(ee.cors||Ka&&!y.crossDomain)return{send:function(L,j){var q,Z=y.xhr();if(Z.open(y.type,y.url,y.async,y.username,y.password),y.xhrFields)for(q in y.xhrFields)Z[q]=y.xhrFields[q];y.mimeType&&Z.overrideMimeType&&Z.overrideMimeType(y.mimeType),!y.crossDomain&&!L["X-Requested-With"]&&(L["X-Requested-With"]="XMLHttpRequest");for(q in L)Z.setRequestHeader(q,L[q]);b=function(Le){return function(){b&&(b=I=Z.onload=Z.onerror=Z.onabort=Z.ontimeout=Z.onreadystatechange=null,Le==="abort"?Z.abort():Le==="error"?typeof Z.status!="number"?j(0,"error"):j(Z.status,Z.statusText):j(El[Z.status]||Z.status,Z.statusText,(Z.responseType||"text")!=="text"||typeof Z.responseText!="string"?{binary:Z.response}:{text:Z.responseText},Z.getAllResponseHeaders()))}},Z.onload=b(),I=Z.onerror=Z.ontimeout=b("error"),Z.onabort!==void 0?Z.onabort=I:Z.onreadystatechange=function(){Z.readyState===4&&n.setTimeout(function(){b&&I()})},b=b("abort");try{Z.send(y.hasContent&&y.data||null)}catch(Le){if(b)throw Le}},abort:function(){b&&b()}}}),C.ajaxPrefilter(function(y){y.crossDomain&&(y.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(y){return C.globalEval(y),y}}}),C.ajaxPrefilter("script",function(y){y.cache===void 0&&(y.cache=!1),y.crossDomain&&(y.type="GET")}),C.ajaxTransport("script",function(y){if(y.crossDomain||y.scriptAttrs){var b,I;return{send:function(L,j){b=C("<script>").attr(y.scriptAttrs||{}).prop({charset:y.scriptCharset,src:y.url}).on("load error",I=function(q){b.remove(),I=null,q&&j(q.type==="error"?404:200,q.type)}),ce.head.appendChild(b[0])},abort:function(){I&&I()}}}});var Cl=[],Al=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var y=Cl.pop()||C.expando+"_"+ou.guid++;return this[y]=!0,y}}),C.ajaxPrefilter("json jsonp",function(y,b,I){var L,j,q,Z=y.jsonp!==!1&&(Al.test(y.url)?"url":typeof y.data=="string"&&(y.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Al.test(y.data)&&"data");if(Z||y.dataTypes[0]==="jsonp")return L=y.jsonpCallback=re(y.jsonpCallback)?y.jsonpCallback():y.jsonpCallback,Z?y[Z]=y[Z].replace(Al,"$1"+L):y.jsonp!==!1&&(y.url+=($s.test(y.url)?"&":"?")+y.jsonp+"="+L),y.converters["script json"]=function(){return q||C.error(L+" was not called"),q[0]},y.dataTypes[0]="json",j=n[L],n[L]=function(){q=arguments},I.always(function(){j===void 0?C(n).removeProp(L):n[L]=j,y[L]&&(y.jsonpCallback=b.jsonpCallback,Cl.push(L)),q&&re(j)&&j(q[0]),q=j=void 0}),"script"}),ee.createHTMLDocument=function(){var y=ce.implementation.createHTMLDocument("").body;return y.innerHTML="<form></form><form></form>",y.childNodes.length===2}(),C.parseHTML=function(y,b,I){if(typeof y!="string")return[];typeof b=="boolean"&&(I=b,b=!1);var L,j,q;return b||(ee.createHTMLDocument?(b=ce.implementation.createHTMLDocument(""),L=b.createElement("base"),L.href=ce.location.href,b.head.appendChild(L)):b=ce),j=Yr.exec(y),q=!I&&[],j?[b.createElement(j[1])]:(j=oe([y],b,q),q&&q.length&&C(q).remove(),C.merge([],j.childNodes))},C.fn.load=function(y,b,I){var L,j,q,Z=this,Le=y.indexOf(" ");return Le>-1&&(L=Xn(y.slice(Le)),y=y.slice(0,Le)),re(b)?(I=b,b=void 0):b&&typeof b=="object"&&(j="POST"),Z.length>0&&C.ajax({url:y,type:j||"GET",dataType:"html",data:b}).done(function(Te){q=arguments,Z.html(L?C("<div>").append(C.parseHTML(Te)).find(L):Te)}).always(I&&function(Te,Ue){Z.each(function(){I.apply(this,q||[Te.responseText,Ue,Te])})}),this},C.expr.pseudos.animated=function(y){return C.grep(C.timers,function(b){return y===b.elem}).length},C.offset={setOffset:function(y,b,I){var L,j,q,Z,Le,Te,Ue,st=C.css(y,"position"),mt=C(y),Qe={};st==="static"&&(y.style.position="relative"),Le=mt.offset(),q=C.css(y,"top"),Te=C.css(y,"left"),Ue=(st==="absolute"||st==="fixed")&&(q+Te).indexOf("auto")>-1,Ue?(L=mt.position(),Z=L.top,j=L.left):(Z=parseFloat(q)||0,j=parseFloat(Te)||0),re(b)&&(b=b.call(y,I,C.extend({},Le))),b.top!=null&&(Qe.top=b.top-Le.top+Z),b.left!=null&&(Qe.left=b.left-Le.left+j),"using"in b?b.using.call(y,Qe):mt.css(Qe)}},C.fn.extend({offset:function(y){if(arguments.length)return y===void 0?this:this.each(function(j){C.offset.setOffset(this,y,j)});var b,I,L=this[0];if(L)return L.getClientRects().length?(b=L.getBoundingClientRect(),I=L.ownerDocument.defaultView,{top:b.top+I.pageYOffset,left:b.left+I.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var y,b,I,L=this[0],j={top:0,left:0};if(C.css(L,"position")==="fixed")b=L.getBoundingClientRect();else{for(b=this.offset(),I=L.ownerDocument,y=L.offsetParent||I.documentElement;y&&(y===I.body||y===I.documentElement)&&C.css(y,"position")==="static";)y=y.parentNode;y&&y!==L&&y.nodeType===1&&(j=C(y).offset(),j.top+=C.css(y,"borderTopWidth",!0),j.left+=C.css(y,"borderLeftWidth",!0))}return{top:b.top-j.top-C.css(L,"marginTop",!0),left:b.left-j.left-C.css(L,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var y=this.offsetParent;y&&C.css(y,"position")==="static";)y=y.offsetParent;return y||ei})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(y,b){var I=b==="pageYOffset";C.fn[y]=function(L){return dt(this,function(j,q,Z){var Le;if(ue(j)?Le=j:j.nodeType===9&&(Le=j.defaultView),Z===void 0)return Le?Le[b]:j[q];Le?Le.scrollTo(I?Le.pageXOffset:Z,I?Z:Le.pageYOffset):j[q]=Z},y,L,arguments.length)}}),C.each(["top","left"],function(y,b){C.cssHooks[b]=qr(ee.pixelPosition,function(I,L){if(L)return L=Ar(I,b),It.test(L)?C(I).position()[b]+"px":L})}),C.each({Height:"height",Width:"width"},function(y,b){C.each({padding:"inner"+y,content:b,"":"outer"+y},function(I,L){C.fn[L]=function(j,q){var Z=arguments.length&&(I||typeof j!="boolean"),Le=I||(j===!0||q===!0?"margin":"border");return dt(this,function(Te,Ue,st){var mt;return ue(Te)?L.indexOf("outer")===0?Te["inner"+y]:Te.document.documentElement["client"+y]:Te.nodeType===9?(mt=Te.documentElement,Math.max(Te.body["scroll"+y],mt["scroll"+y],Te.body["offset"+y],mt["offset"+y],mt["client"+y])):st===void 0?C.css(Te,Ue,Le):C.style(Te,Ue,st,Le)},b,Z?j:void 0,Z)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(y,b){C.fn[b]=function(I){return this.on(b,I)}}),C.fn.extend({bind:function(y,b,I){return this.on(y,null,b,I)},unbind:function(y,b){return this.off(y,null,b)},delegate:function(y,b,I,L){return this.on(b,y,I,L)},undelegate:function(y,b,I){return arguments.length===1?this.off(y,"**"):this.off(b,y||"**",I)},hover:function(y,b){return this.on("mouseenter",y).on("mouseleave",b||y)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(y,b){C.fn[b]=function(I,L){return arguments.length>0?this.on(b,null,I,L):this.trigger(b)}});var Hu=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(y,b){var I,L,j;if(typeof b=="string"&&(I=y[b],b=y,y=I),!!re(y))return L=m.call(arguments,2),j=function(){return y.apply(b||this,L.concat(m.call(arguments)))},j.guid=y.guid=y.guid||C.guid++,j},C.holdReady=function(y){y?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=we,C.isFunction=re,C.isWindow=ue,C.camelCase=Ne,C.type=se,C.now=Date.now,C.isNumeric=function(y){var b=C.type(y);return(b==="number"||b==="string")&&!isNaN(y-parseFloat(y))},C.trim=function(y){return y==null?"":(y+"").replace(Hu,"$1")};var Ps=n.jQuery,Ks=n.$;return C.noConflict=function(y){return n.$===C&&(n.$=Ks),y&&n.jQuery===C&&(n.jQuery=Ps),C},typeof a>"u"&&(n.jQuery=n.$=C),C})})(cT);var OO=cT.exports;const FO=jy(OO);export{yw as $,Mw as A,Qd as B,Im as C,y_ as D,Gh as E,oo as F,jI as G,Am as H,lk as I,Mu as J,CI as K,IP as L,kI as M,Vw as N,km as O,p1 as P,zm as Q,q1 as R,Kx as S,Tk as T,Vo as U,so as V,Dm as W,Lu as X,Nu as Y,e_ as Z,zO as _,np as a,EI as a0,nI as a1,dp as a2,Gk as a3,G2 as a4,II as a5,gw as a6,Om as a7,lo as a8,yp as a9,Bw as aa,zx as ab,jy as ac,DO as ad,__ as ae,PI as af,vy as b,Gd as c,xk as d,C0 as e,d_ as f,ai as g,m_ as h,NO as i,FO as j,Ek as k,CP as l,AI as m,mp as n,Zh as o,Ph as p,Us as q,TI as r,Tm as s,Zx as t,W_ as u,Mm as v,n_ as w,Ss as x,MA as y,QA as z};
